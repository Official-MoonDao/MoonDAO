LavaPack.loadBundle([[7087,{"./account-type-utils":7083,"./btc-account-details":7084,"./evm-account-details":7085,"./hardware-account-details":7086,"./institutional-evm-account-details":7088,"./multichain-account-details":7089,"./private-key-account-details":7090,"./solana-account-details":7091},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={MultichainAccountDetails:!0,EVMAccountDetails:!0,SolanaAccountDetails:!0,HardwareAccountDetails:!0,PrivateKeyAccountDetails:!0,InstitutionalEVMAccountDetails:!0,BitcoinAccountDetails:!0};Object.defineProperty(n,"BitcoinAccountDetails",{enumerable:!0,get:function(){return u.BitcoinAccountDetails}}),Object.defineProperty(n,"EVMAccountDetails",{enumerable:!0,get:function(){return i.EVMAccountDetails}}),Object.defineProperty(n,"HardwareAccountDetails",{enumerable:!0,get:function(){return s.HardwareAccountDetails}}),Object.defineProperty(n,"InstitutionalEVMAccountDetails",{enumerable:!0,get:function(){return l.InstitutionalEVMAccountDetails}}),Object.defineProperty(n,"MultichainAccountDetails",{enumerable:!0,get:function(){return o.MultichainAccountDetails}}),Object.defineProperty(n,"PrivateKeyAccountDetails",{enumerable:!0,get:function(){return c.PrivateKeyAccountDetails}}),Object.defineProperty(n,"SolanaAccountDetails",{enumerable:!0,get:function(){return r.SolanaAccountDetails}});var o=e("./multichain-account-details"),i=e("./evm-account-details"),r=e("./solana-account-details"),s=e("./hardware-account-details"),c=e("./private-key-account-details"),l=e("./institutional-evm-account-details"),u=e("./btc-account-details"),d=e("./account-type-utils");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===d[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return d[e]}}))})}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-details/index.ts"}],[7088,{"../base-account-details/base-account-details":7099,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InstitutionalEVMAccountDetails=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../base-account-details/base-account-details");n.InstitutionalEVMAccountDetails=({address:e,account:t})=>o.default.createElement(i.BaseAccountDetails,{address:e,account:t})}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-details/institutional-evm-account-details.tsx"}],[7089,{"../../../selectors":7345,"./account-type-utils":7083,"./btc-account-details":7084,"./evm-account-details":7085,"./hardware-account-details":7086,"./institutional-evm-account-details":7088,"./private-key-account-details":7090,"./solana-account-details":7091,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountDetails=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("react-router-dom"),s=e("../../../selectors"),c=e("./evm-account-details"),l=e("./account-type-utils"),u=e("./solana-account-details"),d=e("./hardware-account-details"),p=e("./private-key-account-details"),m=e("./institutional-evm-account-details"),f=e("./btc-account-details");n.MultichainAccountDetails=()=>{const{address:e}=(0,r.useParams)(),t=(0,i.useSelector)(t=>(0,s.getInternalAccountByAddress)(t,e)),n=(0,l.getAccountTypeCategory)(t);return(()=>{switch(n){case"evm":return o.default.createElement(c.EVMAccountDetails,{address:e,account:t});case"solana":return o.default.createElement(u.SolanaAccountDetails,{address:e,account:t});case"hardware":return o.default.createElement(d.HardwareAccountDetails,{address:e,account:t});case"private-key":return o.default.createElement(p.PrivateKeyAccountDetails,{address:e,account:t});case"institutional-evm":return o.default.createElement(m.InstitutionalEVMAccountDetails,{address:e,account:t});case"bitcoin":return o.default.createElement(f.BitcoinAccountDetails,{address:e,account:t});default:return null}})()}}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-details/multichain-account-details.tsx"}],[709,{"./CryptoCoinInfo":707,"./CryptoKeypath":710,"./RegistryItem":716,"./RegistryType":717,"./lib":727,bs58check:3594,buffer:3590},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoHDKey=void 0;const a=e("bs58check"),o=e("./CryptoCoinInfo"),i=e("./CryptoKeypath"),r=e("./lib"),s=e("./RegistryItem"),c=e("./RegistryType");var l;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(l||(l={}));class u extends s.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,n,o;let i,r,s=0,c=t.alloc(4).fill(0);if(this.isMaster())i=t.from("0488ADE4","hex"),r=0,s=0;else{r=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(n=this.getOrigin())||void 0===n?void 0:n.getDepth());const a=null===(o=this.getOrigin())||void 0===o?void 0:o.getComponents(),l=a[a.length-1];l&&(s=l.isHardened()?l.getIndex()+2147483648:l.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),i=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const l=t.alloc(1);l.writeUInt8(r,0);const u=t.alloc(4);u.writeUInt32BE(s,0);const d=this.getChainCode(),p=this.getKey();return(0,a.encode)(t.concat([i,l,c,u,d,p]))},this.getRegistryType=()=>c.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,n,a,o,i,r;let s="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(s+=`${null===(a=null===(n=this.getOrigin())||void 0===n?void 0:n.getSourceFingerprint())||void 0===a?void 0:a.toString("hex")}/${null===(o=this.getOrigin())||void 0===o?void 0:o.getPath()}`),s+=this.getBip32Key(),this.getChildren()&&(null===(i=this.getChildren())||void 0===i?void 0:i.getPath())&&(s+=`/${null===(r=this.getChildren())||void 0===r?void 0:r.getPath()}`),s},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[l.is_master]=!0,e[l.key_data]=this.key,e[l.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[l.is_private]=this.privateKey),e[l.key_data]=this.key,this.chainCode&&(e[l.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[l.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[l.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[l.children]=t}this.parentFingerprint&&(e[l.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[l.name]=this.name),this.note!==undefined&&(e[l.note]=this.note)}return new r.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}n.CryptoHDKey=u,u.fromDataItem=e=>{const n=e.getData(),a=!!n[l.is_master],r=n[l.is_private],s=n[l.key_data],c=n[l.chain_code],d=n[l.use_info]?o.CryptoCoinInfo.fromDataItem(n[l.use_info]):undefined,p=n[l.origin]?i.CryptoKeypath.fromDataItem(n[l.origin]):undefined,m=n[l.children]?i.CryptoKeypath.fromDataItem(n[l.children]):undefined,f=n[l.parent_fingerprint];let g=undefined;f&&(g=t.alloc(4),g.writeUInt32BE(f,0));const h=n[l.name],y=n[l.note];return new u({isMaster:a,isPrivateKey:r,key:s,chainCode:c,useInfo:d,origin:p,children:m,parentFingerprint:g,name:h,note:y})},u.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return u.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[7090,{"../../../components/component-library":5919,"../../../components/multichain-accounts/account-show-private-key-row/account-show-private-key-row":5989,"../../../components/multichain-accounts/smart-contract-account-toggle-section":6024,"../../../helpers/constants/routes":6463,"../base-account-details/base-account-details":7099,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PrivateKeyAccountDetails=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../base-account-details/base-account-details"),r=e("../../../components/multichain-accounts/smart-contract-account-toggle-section"),s=e("../../../helpers/constants/routes"),c=e("../../../components/multichain-accounts/account-show-private-key-row/account-show-private-key-row"),l=e("../../../components/component-library");n.PrivateKeyAccountDetails=({address:e,account:t})=>o.default.createElement(i.BaseAccountDetails,{address:e,account:t},o.default.createElement(l.Box,{className:"multichain-account-details__section"},o.default.createElement(c.AccountShowPrivateKeyRow,{account:t})),o.default.createElement(r.SmartContractAccountToggleSection,{address:e,returnToPage:s.ACCOUNT_DETAILS_ROUTE}))}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-details/private-key-account-details.tsx"}],[7091,{"../../../components/component-library":5919,"../../../components/multichain-accounts/account-show-srp-row/account-show-srp-row":5990,"../base-account-details/base-account-details":7099,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SolanaAccountDetails=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../base-account-details/base-account-details"),r=e("../../../components/multichain-accounts/account-show-srp-row/account-show-srp-row"),s=e("../../../components/component-library");n.SolanaAccountDetails=({address:e,account:t})=>o.default.createElement(i.BaseAccountDetails,{address:e,account:t},o.default.createElement(s.Box,{className:"multichain-account-details__section"},o.default.createElement(r.AccountShowSrpRow,{account:t})))}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-details/solana-account-details.tsx"}],[7092,{"../../../components/component-library":5919,"../../../components/multichain-accounts/add-wallet-modal":5994,"../../../components/multichain-accounts/multichain-account-list":6004,"../../../components/multichain/pages/page":6237,"../../../helpers/constants/design-system":6458,"../../../hooks/multichain-accounts/useAccountBalance":6548,"../../../hooks/useI18nContext":6583,"../../../selectors/multichain-accounts/account-tree":7349,"./utils":7094,"@metamask/design-system-react":1577,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountList=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),i=e("react-redux"),r=e("@metamask/design-system-react"),s=e("../../../components/multichain/pages/page"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../components/multichain-accounts/multichain-account-list"),d=e("../../../selectors/multichain-accounts/account-tree"),p=e("../../../hooks/multichain-accounts/useAccountBalance"),m=e("../../../components/multichain-accounts/add-wallet-modal"),f=e("../../../components/component-library"),g=e("./utils");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.AccountList=()=>{const e=(0,l.useI18nContext)(),t=(0,o.useHistory)(),n=(0,i.useSelector)(d.getAccountTree),{wallets:h}=n,{selectedAccountGroup:y}=n,b=(0,p.useAllWalletAccountsBalances)(),[E,C]=(0,a.useState)(""),k=(0,a.useMemo)(()=>Object.keys(h).length>1,[h]),v=(0,a.useCallback)(e=>C(e.target.value),[]),T=(0,a.useMemo)(()=>(0,g.filterWalletsByGroupName)(h,E),[h,E]),_=(0,a.useMemo)(()=>Object.keys(T).length>0,[T]),[x,w]=(0,a.useState)(!1),I=(0,a.useCallback)(()=>{w(!0)},[w]),S=(0,a.useCallback)(()=>{w(!1)},[w]);return a.default.createElement(s.Page,{className:"account-list-page"},a.default.createElement(s.Header,{textProps:{variant:c.TextVariant.headingSm},startAccessory:a.default.createElement(r.ButtonIcon,{size:r.ButtonIconSize.Md,ariaLabel:e("back"),iconName:r.IconName.ArrowLeft,onClick:()=>t.goBack()})},e("accounts")),a.default.createElement(s.Content,{className:"account-list-page__content"},a.default.createElement(f.Box,{flexDirection:c.FlexDirection.Column,paddingTop:1,paddingLeft:4,paddingRight:4,paddingBottom:2},a.default.createElement(f.TextFieldSearch,{size:f.TextFieldSearchSize.Lg,placeholder:e("searchYourAccounts"),value:E,onChange:v,clearButtonOnClick:()=>C(""),width:c.BlockSize.Full,borderWidth:0,backgroundColor:c.BackgroundColor.backgroundMuted,borderRadius:c.BorderRadius.LG,"data-testid":"multichain-account-list-search"})),a.default.createElement(f.Box,{display:c.Display.Flex,height:c.BlockSize.Full,flexDirection:c.FlexDirection.Column},_?a.default.createElement(u.MultichainAccountList,{wallets:T,selectedAccountGroups:[y],isInSearchMode:Boolean(E),displayWalletHeader:k,formattedAccountGroupBalancesByWallet:b}):a.default.createElement(f.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full},a.default.createElement(f.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},e("noAccountsFound"))))),a.default.createElement(s.Footer,{className:"shadow-sm"},a.default.createElement(r.Button,{variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,onClick:I,isFullWidth:!0},e("addWallet"))),a.default.createElement(m.AddWalletModal,{isOpen:x,onClose:S}))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-list/account-list.tsx"}],[7093,{"./account-list":7092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountList",{enumerable:!0,get:function(){return a.AccountList}});var a=e("./account-list")}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-list/index.ts"}],[7094,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.filterWalletsByGroupName=function(e,t){const n=t.trim().toLowerCase();if(!n)return e;return Object.entries(e).reduce((e,[t,a])=>{const o=Object.entries(a.groups||{}).reduce((e,[t,a])=>{var o;const i=null===(o=a.metadata)||void 0===o?void 0:o.name;return null!=i&&i.toLowerCase().includes(n)&&(e[t]=a),e},{});return Object.keys(o).length>0&&(e[t]={...a,groups:o}),e},{})}}}},{package:"$root$",file:"ui/pages/multichain-accounts/account-list/utils.ts"}],[7095,{"../../../components/multichain/import-account/import-account":6133,"../../../components/multichain/pages/page":6237,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"@metamask/design-system-react":1577,react:4789,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddWalletPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),i=e("@metamask/design-system-react"),r=e("../../../components/multichain/pages/page"),s=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),l=e("../../../components/multichain/import-account/import-account");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.AddWalletPage=()=>{const e=(0,c.useI18nContext)(),t=(0,o.useHistory)(),n=(0,a.useCallback)(async e=>{e&&t.goBack()},[t]);return a.default.createElement(r.Page,{className:"max-w-[600px]"},a.default.createElement(r.Header,{textProps:{variant:s.TextVariant.headingSm},startAccessory:a.default.createElement(i.ButtonIcon,{size:i.ButtonIconSize.Md,ariaLabel:e("back"),iconName:i.IconName.ArrowLeft,onClick:()=>t.goBack(),"data-testid":"add-wallet-page-back-button"})},e("addWallet")),a.default.createElement(r.Content,null,a.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm},e("privateKey")),a.default.createElement(l.ImportAccount,{onActionComplete:n})))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/add-wallet-page/add-wallet-page.tsx"}],[7096,{"./add-wallet-page":7095},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddWalletPage",{enumerable:!0,get:function(){return a.AddWalletPage}});var a=e("./add-wallet-page")}}},{package:"$root$",file:"ui/pages/multichain-accounts/add-wallet-page/index.ts"}],[7097,{"../../../../shared/constants/metametrics":5259,"../../../components/component-library":5919,"../../../components/multichain/menu-items/view-explorer-menu-item":6145,"../../../components/multichain/pages/page":6237,"../../../components/ui/qr-code-view":6377,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/utils/multichain/blockExplorer":6499,"../../../hooks/useI18nContext":6583,"../../../hooks/useMultichainSelector":6592,"../../../selectors":7345,"../../../selectors/multichain":7354,"../account-details":7087,"@metamask/utils":2632,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressQRCode=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@metamask/utils"),r=e("react-redux"),s=e("react-router-dom"),c=e("../../../components/multichain/pages/page"),l=e("../../../hooks/useI18nContext"),u=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system"),p=(a=e("../../../components/ui/qr-code-view"))&&a.__esModule?a:{default:a},m=e("../../../selectors"),f=e("../../../selectors/multichain"),g=e("../../../hooks/useMultichainSelector"),h=e("../../../helpers/utils/multichain/blockExplorer"),y=e("../../../components/multichain/menu-items/view-explorer-menu-item"),b=e("../../../contexts/metametrics"),E=e("../../../../shared/constants/metametrics"),C=e("../account-details");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.AddressQRCode=()=>{const e=(0,l.useI18nContext)(),t=(0,s.useHistory)(),{address:n}=(0,s.useParams)(),a=(0,o.useContext)(b.MetaMetricsContext),k=(0,r.useSelector)(e=>(0,m.getInternalAccountByAddress)(e,n)),v=(0,g.useMultichainSelector)(f.getMultichainNetwork,k),T=(0,h.getMultichainAccountUrl)(k.address,v),_=(0,i.parseCaipChainId)(v.chainId).reference,x="Account Details QR Code Page",w=(0,o.useCallback)(()=>{a({event:E.MetaMetricsEventName.BlockExplorerLinkClicked,category:E.MetaMetricsEventCategory.Accounts,properties:{location:x,chain_id:_}}),(0,y.openBlockExplorer)(T,x,a)},[_,a,T]);return o.default.createElement(c.Page,{className:"address-qr-code-page"},o.default.createElement(c.Header,{backgroundColor:d.BackgroundColor.backgroundDefault,startAccessory:o.default.createElement(u.ButtonIcon,{ariaLabel:"Back",iconName:u.IconName.ArrowLeft,size:u.ButtonIconSize.Sm,onClick:()=>t.goBack()})},e("address")),o.default.createElement(c.Content,{paddingTop:0},o.default.createElement(p.default,{Qr:{data:n},location:"Account Details Page",accountName:k.metadata.name})),o.default.createElement(c.Footer,null,o.default.createElement(u.ButtonSecondary,{onClick:w,size:u.ButtonSecondarySize.Lg,"data-testid":T,textProps:{variant:d.TextVariant.bodyMdMedium},style:{width:"100%"}},(()=>{switch((0,C.getAccountTypeCategory)(k)){case"evm":return e("viewAddressOnExplorer",["Etherscan"]);case"solana":return e("viewAddressOnExplorer",["Solscan"]);default:return e("viewOnExplorer")}})())))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/address-qr-code/address-qr-code.tsx"}],[7098,{"./address-qr-code":7097},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./address-qr-code");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/pages/multichain-accounts/address-qr-code/index.ts"}],[7099,{"../../../../shared/constants/keyring":5255,"../../../../shared/constants/metametrics":5259,"../../../../shared/modules/hexstring-utils":5360,"../../../../shared/modules/selectors/networks":5371,"../../../components/app/preferred-avatar":5645,"../../../components/component-library":5919,"../../../components/component-library/icon":5918,"../../../components/multichain-accounts/account-details-row":5986,"../../../components/multichain-accounts/account-remove-modal":5988,"../../../components/multichain-accounts/edit-account-name-modal":5997,"../../../components/multichain/pages/page":6237,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../helpers/utils/metrics":6497,"../../../helpers/utils/util":6514,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../selectors/multichain-accounts/account-tree":7349,"../../../store/actions":7369,"@metamask/bridge-controller":1147,"@metamask/design-system-react":1577,"@metamask/keyring-api":1914,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseAccountDetails=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom"),r=e("@metamask/keyring-api"),s=e("@metamask/bridge-controller"),c=e("@metamask/design-system-react"),l=e("../../../selectors"),u=e("../../../components/component-library"),d=e("../../../components/multichain/pages/page"),p=e("../../../helpers/constants/design-system"),m=e("../../../helpers/constants/routes"),f=e("../../../components/component-library/icon"),g=e("../../../../shared/modules/hexstring-utils"),h=e("../../../helpers/utils/util"),y=e("../../../hooks/useI18nContext"),b=e("../../../components/multichain-accounts/account-details-row"),E=e("../../../components/multichain-accounts/edit-account-name-modal"),C=e("../../../store/actions"),k=e("../../../selectors/multichain-accounts/account-tree"),v=e("../../../../shared/constants/keyring"),T=e("../../../components/multichain-accounts/account-remove-modal"),_=e("../../../../shared/constants/metametrics"),x=e("../../../contexts/metametrics"),w=e("../../../../shared/modules/selectors/networks"),I=e("../../../helpers/utils/metrics"),S=e("../../../components/app/preferred-avatar");function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}n.BaseAccountDetails=({children:e,account:t,address:n})=>{var O;const N=(0,i.useHistory)(),M=(0,o.useDispatch)(),A=(0,y.useI18nContext)(),B=(0,a.useContext)(x.MetaMetricsContext),R=(0,o.useSelector)(w.getCurrentChainId),D=(0,o.useSelector)(l.getHDEntropyIndex),P=(0,o.useSelector)(l.getHardwareWalletType),F=(0,o.useSelector)(l.getIsSocialLoginFlow),{metadata:{name:L},type:j}=t,W=(0,r.isEvmAccountType)(j)?null===(O=(0,g.toChecksumHexAddress)(n))||void 0===O?void 0:O.toLowerCase():n,U=(0,h.shortenAddress)(W),[$,z]=(0,a.useState)(!1),{keyring:V}=t.metadata,G=(0,I.formatAccountType)((0,l.getAccountTypeForKeyring)(V)),q=(0,a.useCallback)(()=>{M((0,C.setAccountDetailsAddress)("")),N.goBack()},[N,M]),{id:K,name:H}=(0,o.useSelector)(e=>(0,k.getWalletIdAndNameByAccountAddress)(e,n)),J=`/wallet-details/${encodeURIComponent(K)}`,Y=t.metadata.keyring.type!==v.KeyringType.hdKeyTree&&!(0,l.isSolanaAccount)(t)&&!F,[X,Q]=(0,a.useState)(!1),Z=(0,a.useCallback)(()=>{M((0,C.removeAccount)(t.address)),B({event:_.MetaMetricsEventName.AccountRemoved,category:_.MetaMetricsEventCategory.Accounts,properties:{account_hardware_type:P,chain_id:R,account_type:G,hd_entropy_index:D,caip_chain_id:(0,s.formatChainIdToCaip)(R)}}),M((0,C.setAccountDetailsAddress)("")),N.push(m.DEFAULT_ROUTE)},[M,t.address,B,P,R,G,D,N]);return a.default.createElement(d.Page,{backgroundColor:p.BackgroundColor.backgroundDefault,className:"multichain-account-details-page"},a.default.createElement(d.Header,{backgroundColor:p.BackgroundColor.backgroundDefault,startAccessory:a.default.createElement(u.ButtonIcon,{ariaLabel:"Back",iconName:f.IconName.ArrowLeft,size:u.ButtonIconSize.Sm,onClick:q})},L),a.default.createElement(d.Content,{paddingTop:3,gap:4},a.default.createElement(u.Box,{className:"flex justify-center"},a.default.createElement(S.PreferredAvatar,{address:n,size:c.AvatarAccountSize.Xl,"data-testid":"avatar"})),a.default.createElement(u.Box,{className:"multichain-account-details__section"},a.default.createElement(b.AccountDetailsRow,{label:A("accountName"),value:L,endAccessory:a.default.createElement(u.ButtonIcon,{iconName:f.IconName.Edit,color:p.IconColor.iconAlternative,size:u.ButtonIconSize.Md,ariaLabel:A("edit"),marginLeft:2}),onClick:()=>z(!0)}),a.default.createElement(b.AccountDetailsRow,{label:A("address"),value:U,endAccessory:a.default.createElement(u.ButtonIcon,{iconName:f.IconName.ArrowRight,color:p.IconColor.iconAlternative,size:u.ButtonIconSize.Md,ariaLabel:A("next"),marginLeft:2,"data-testid":"account-address-navigation-button"}),onClick:()=>{N.push(`${m.ACCOUNT_DETAILS_QR_CODE_ROUTE}/${n}`)}}),a.default.createElement(b.AccountDetailsRow,{label:A("wallet"),value:H,endAccessory:a.default.createElement(u.ButtonIcon,{iconName:f.IconName.ArrowRight,color:p.IconColor.iconAlternative,size:u.ButtonIconSize.Md,ariaLabel:A("next"),marginLeft:2,"data-testid":"wallet-details-link"}),onClick:()=>{N.push(J)}})),e,Y&&a.default.createElement(u.Box,{className:"multichain-account-details__remove_account_section"},a.default.createElement(u.Button,{size:u.ButtonSize.Lg,width:p.BlockSize.Full,variant:u.ButtonVariant.Secondary,danger:!0,onClick:()=>Q(!0)},A("removeAccount"))),$&&a.default.createElement(E.EditAccountNameModal,{isOpen:$,onClose:()=>z(!1),currentAccountName:L,address:n}),X&&a.default.createElement(T.AccountRemoveModal,{isOpen:X,onClose:()=>Q(!1),onSubmit:Z,accountName:t.metadata.name,accountAddress:t.address})))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/base-account-details/base-account-details.tsx"}],[710,{"./PathComponent":715,"./RegistryItem":716,"./RegistryType":717,"./lib":727,buffer:3590},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoKeypath=void 0;const a=e("./lib"),o=e("./PathComponent"),i=e("./RegistryItem"),r=e("./RegistryType");var s;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(s||(s={}));class c extends i.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>r.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map(e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach(e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())}),e[s.components]=t,this.sourceFingerprint&&(e[s.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[s.depth]=this.depth),new a.DataItem(e)}}}n.CryptoKeypath=c,c.fromDataItem=e=>{const n=e.getData(),a=[],i=n[s.components];if(i)for(let e=0;e<i.length;e+=2){const t=i[e+1],n=i[e];"number"==typeof n?a.push(new o.PathComponent({index:n,hardened:t})):a.push(new o.PathComponent({hardened:t}))}const r=n[s.source_fingerprint];let l;r&&(l=t.alloc(4),l.writeUInt32BE(r,0));const u=n[s.depth];return new c(a,l,u)},c.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[7100,{"./multichain-account-address-list-page":7101,"./multichain-account-address-list-page.types":7102},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddressListQueryParams",{enumerable:!0,get:function(){return o.AddressListQueryParams}}),Object.defineProperty(n,"AddressListSource",{enumerable:!0,get:function(){return o.AddressListSource}}),Object.defineProperty(n,"MultichainAccountAddressListPage",{enumerable:!0,get:function(){return a.MultichainAccountAddressListPage}});var a=e("./multichain-account-address-list-page"),o=e("./multichain-account-address-list-page.types")}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-account-address-list-page/index.ts"}],[7101,{"../../../components/multichain-accounts/address-qr-code-modal/address-qr-code-modal":5995,"../../../components/multichain-accounts/multichain-address-rows-list":6013,"../../../components/multichain/pages/page":6237,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"../../../selectors/multichain-accounts/account-tree":7349,"./multichain-account-address-list-page.types":7102,"@metamask/design-system-react":1577,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountAddressListPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),i=e("react-redux"),r=e("@metamask/design-system-react"),s=e("../../../components/multichain/pages/page"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../components/multichain-accounts/multichain-address-rows-list"),d=e("../../../selectors/multichain-accounts/account-tree"),p=e("../../../components/multichain-accounts/address-qr-code-modal/address-qr-code-modal"),m=e("./multichain-account-address-list-page.types");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.MultichainAccountAddressListPage=()=>{var e,t;const n=(0,l.useI18nContext)(),f=(0,o.useHistory)(),g=(0,o.useLocation)(),{accountGroupId:h}=(0,o.useParams)(),y=h?decodeURIComponent(h):null,b=(0,i.useSelector)(e=>y?(0,d.getMultichainAccountGroupById)(e,y):null),E=new URLSearchParams(g.search).get(m.AddressListQueryParams.Source)===m.AddressListSource.Receive?n("receivingAddress"):`${(null==b||null===(e=b.metadata)||void 0===e?void 0:e.name)||n("account")} / ${n("addresses")}`,[C,k]=(0,a.useState)(!1),[v,T]=(0,a.useState)(null),_=(0,a.useCallback)((e,t,n)=>{T({address:e,networkName:t,networkImageSrc:n}),k(!0)},[]),x=(0,a.useCallback)(()=>{k(!1),T(null)},[]);return a.default.createElement(s.Page,{className:"max-w-[600px]"},a.default.createElement(s.Header,{textProps:{variant:c.TextVariant.headingSm},startAccessory:a.default.createElement(r.ButtonIcon,{size:r.ButtonIconSize.Md,ariaLabel:n("back"),iconName:r.IconName.ArrowLeft,onClick:()=>f.goBack(),"data-testid":"multichain-account-address-list-page-back-button"})},E),a.default.createElement(s.Content,null,a.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column},y?a.default.createElement(u.MultichainAddressRowsList,{groupId:y,onQrClick:_}):null)),v&&a.default.createElement(p.AddressQRCodeModal,{isOpen:C,onClose:x,address:v.address,accountName:(null==b||null===(t=b.metadata)||void 0===t?void 0:t.name)||n("account"),networkName:v.networkName,networkImageSrc:v.networkImageSrc}))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-account-address-list-page/multichain-account-address-list-page.tsx"}],[7102,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressListSource=n.AddressListQueryParams=void 0;n.AddressListQueryParams=function(e){return e.Source="source",e}({}),n.AddressListSource=function(e){return e.Receive="receive",e}({})}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-account-address-list-page/multichain-account-address-list-page.types.ts"}],[7103,{"./multichain-account-details-page":7104},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAccountDetailsPage",{enumerable:!0,get:function(){return a.MultichainAccountDetailsPage}});var a=e("./multichain-account-details-page")}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-account-details-page/index.ts"}],[7104,{"../../../components/app/preferred-avatar":5645,"../../../components/component-library":5919,"../../../components/multichain-accounts/account-details-row":5986,"../../../components/multichain-accounts/multichain-account-edit-modal":6e3,"../../../components/multichain-accounts/multichain-srp-backup":6020,"../../../components/multichain/pages/page":6237,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/multichain-accounts/useWalletInfo":6550,"../../../hooks/useI18nContext":6583,"../../../selectors/multichain-accounts/account-tree":7349,"../../../selectors/multichain-accounts/utils":7352,"@metamask/account-api":1024,"@metamask/design-system-react":1577,classnames:3623,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountDetailsPage=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom"),r=e("react-redux"),s=e("@metamask/account-api"),c=(a=e("classnames"))&&a.__esModule?a:{default:a},l=e("@metamask/design-system-react"),u=e("../../../components/component-library"),d=e("../../../components/app/preferred-avatar"),p=e("../../../components/multichain/pages/page"),m=e("../../../helpers/constants/design-system"),f=e("../../../hooks/useI18nContext"),g=e("../../../components/multichain-accounts/account-details-row"),h=e("../../../selectors/multichain-accounts/account-tree"),y=e("../../../selectors/multichain-accounts/utils"),b=e("../../../helpers/constants/routes"),E=e("../../../components/multichain-accounts/multichain-srp-backup"),C=e("../../../hooks/multichain-accounts/useWalletInfo"),k=e("../../../components/multichain-accounts/multichain-account-edit-modal");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.MultichainAccountDetailsPage=()=>{const e=(0,f.useI18nContext)(),t=(0,i.useHistory)(),{id:n}=(0,i.useParams)(),a=decodeURIComponent(n),v=(0,r.useSelector)(e=>(0,h.getMultichainAccountGroupById)(e,a)),T=(0,y.extractWalletIdFromGroupId)(a),_=(0,r.useSelector)(e=>(0,h.getWallet)(e,T)),{keyringId:x,isSRPBackedUp:w}=(0,C.useWalletInfo)(T),I=`${b.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE}/${encodeURIComponent(T)}`,S=(null==_?void 0:_.type)!==s.AccountWalletType.Entropy&&(null==_?void 0:_.type)!==s.AccountWalletType.Snap,O=(0,r.useSelector)(e=>(0,h.getNetworkAddressCount)(e,a)),N=(0,r.useSelector)(e=>(0,h.getInternalAccountsFromGroupById)(e,a)),[M,A]=(0,o.useState)(!1),B=(null==_?void 0:_.type)===s.AccountWalletType.Entropy,R=!1===w;return o.default.createElement(p.Page,{className:"multichain-account-details-page"},o.default.createElement(p.Header,{textProps:{variant:m.TextVariant.headingSm},startAccessory:o.default.createElement(u.ButtonIcon,{size:u.ButtonIconSize.Md,ariaLabel:e("back"),iconName:u.IconName.ArrowLeft,onClick:()=>t.goBack(),"data-testid":"back-button"})},v.metadata.name),o.default.createElement(p.Content,{className:"multichain-account-details-page__content",paddingTop:3,gap:4},o.default.createElement(u.Box,{className:"flex justify-center"},o.default.createElement(d.PreferredAvatar,{address:a,size:l.AvatarAccountSize.Xl,"data-testid":"avatar"})),o.default.createElement(u.Box,{className:"multichain-account-details-page__section"},o.default.createElement(g.AccountDetailsRow,{label:e("accountName"),value:v.metadata.name,onClick:()=>{A(!0)},endAccessory:o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowRight,color:m.IconColor.iconAlternative,size:u.ButtonIconSize.Sm,ariaLabel:e("accountName"),marginLeft:2,"data-testid":"account-name-action"})}),o.default.createElement(g.AccountDetailsRow,{label:e("networks"),value:`${O} ${e(O>1?"addressesLabel":"addressLabel")}`,onClick:()=>{t.push(`${b.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/${encodeURIComponent(a)}`)},endAccessory:o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowRight,color:m.IconColor.iconAlternative,size:u.ButtonIconSize.Sm,ariaLabel:e("addresses"),marginLeft:2,"data-testid":"network-addresses-link"})}),o.default.createElement(g.AccountDetailsRow,{label:e("privateKeys"),value:e("unlockToReveal"),onClick:()=>{t.push(`${b.MULTICHAIN_ACCOUNT_PRIVATE_KEY_LIST_PAGE_ROUTE}/${encodeURIComponent(a)}`)},endAccessory:o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowRight,color:m.IconColor.iconAlternative,size:u.ButtonIconSize.Sm,ariaLabel:e("privateKeys"),marginLeft:2,"data-testid":"private-keys-action"})}),o.default.createElement(g.AccountDetailsRow,{label:e("smartAccountLabel"),value:e("setUp"),onClick:()=>{var e;const n=null===(e=N[0])||void 0===e?void 0:e.address;n&&t.push(`${b.MULTICHAIN_SMART_ACCOUNT_PAGE_ROUTE}/${encodeURIComponent(n)}`)},endAccessory:o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowRight,color:m.IconColor.iconAlternative,size:u.ButtonIconSize.Sm,ariaLabel:e("smartAccountLabel"),marginLeft:2,"data-testid":"smart-account-action"})})),o.default.createElement(u.Box,{className:"multichain-account-details-page__section"},o.default.createElement(g.AccountDetailsRow,{label:e("wallet"),value:_.metadata.name,onClick:()=>{t.push(I)},endAccessory:o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowRight,color:m.IconColor.iconAlternative,size:u.ButtonIconSize.Sm,ariaLabel:e("wallet"),marginLeft:2,"data-testid":"wallet-details-link"})}),B?o.default.createElement(E.MultichainSrpBackup,{className:(0,c.default)("multichain-account-details__row","multichain-account-details-page__srp-button"),shouldShowBackupReminder:R,keyringId:x}):null),S&&o.default.createElement(u.Box,{className:"multichain-account-details-page__section"},o.default.createElement(g.AccountDetailsRow,{label:e("removeAccount"),labelColor:m.TextColor.errorDefault,value:"",endAccessory:o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowRight,color:m.IconColor.iconAlternative,size:u.ButtonIconSize.Md,ariaLabel:e("removeAccount"),marginLeft:2,"data-testid":"account-remove-action"})})),M&&o.default.createElement(k.MultichainAccountEditModal,{isOpen:M,onClose:()=>A(!1),accountGroupId:v.id})))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-account-details-page/multichain-account-details-page.tsx"}],[7105,{"./multichain-account-private-key-list-page":7106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAccountPrivateKeyListPage",{enumerable:!0,get:function(){return a.MultichainAccountPrivateKeyListPage}});var a=e("./multichain-account-private-key-list-page")}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-account-private-key-list-page/index.ts"}],[7106,{"../../../components/component-library":5919,"../../../components/multichain-accounts/multichain-private-key-list":6015,"../../../components/multichain/pages/page":6237,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"../../../selectors/multichain-accounts/account-tree":7349,"@metamask/design-system-react":1577,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountPrivateKeyListPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom"),r=e("@metamask/design-system-react"),s=e("../../../components/multichain/pages/page"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../components/multichain-accounts/multichain-private-key-list"),d=e("../../../components/component-library"),p=e("../../../selectors/multichain-accounts/account-tree");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.MultichainAccountPrivateKeyListPage=()=>{const e=(0,l.useI18nContext)(),t=(0,i.useHistory)(),{accountGroupId:n}=(0,i.useParams)(),m=n?decodeURIComponent(n):null,f=(0,o.useSelector)(e=>m?(0,p.getMultichainAccountGroupById)(e,m):null),g=(0,a.useMemo)(()=>f?f.metadata.name:e("account"),[f,e]);return a.default.createElement(s.Page,{className:"max-w-[600px]"},a.default.createElement(s.Header,{textProps:{variant:c.TextVariant.headingSm},startAccessory:a.default.createElement(r.ButtonIcon,{size:r.ButtonIconSize.Md,ariaLabel:e("back"),iconName:r.IconName.ArrowLeft,onClick:()=>t.goBack(),"data-testid":"multichain-account-address-list-page-back-button"})},g," / ",e("privateKeys")),a.default.createElement(s.Content,null,a.default.createElement(d.BannerAlert,{"data-testid":"backup-state-banner-alert",title:e("revealMultichainPrivateKeysBannerTitle"),description:e("revealMultichainPrivateKeysBannerDescription"),paddingTop:2,paddingBottom:2,severity:d.BannerAlertSeverity.Danger}),a.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column},m?a.default.createElement(u.MultichainPrivateKeyList,{groupId:m,goBack:t.goBack,"data-testid":"multichain-account-private-key-list"}):null)))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-account-private-key-list-page/multichain-account-private-key-list-page.tsx"}],[7107,{"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/network":5262,"../../../../shared/lib/caip25-caveat-merger":5290,"../../../../shared/lib/multichain/scope-utils":5332,"../../../../shared/modules/selectors/networks":5371,"../../../components/component-library":5919,"../../../components/multichain-accounts/multichain-account-cell":5998,"../../../components/multichain-accounts/multichain-site-cell/multichain-site-cell":6018,"../../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-accounts-page":6022,"../../../components/multichain/pages/page":6237,"../../../components/ui/tabs":6390,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/utils/util":6514,"../../../hooks/useAccountGroupsForPermissions":6562,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../permissions-connect/connect-page/utils":7177,"@metamask/chain-agnostic-permission":1204,"@metamask/utils":2632,lodash:4362,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountsConnectPageMode=n.MultichainAccountsConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("@metamask/chain-agnostic-permission"),r=e("@metamask/utils"),s=e("lodash"),c=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../components/component-library"),p=e("../../../components/multichain/pages/page"),m=e("../../../helpers/constants/design-system"),f=e("../../../../shared/constants/network"),g=e("../../../components/ui/tabs"),h=e("../../../helpers/utils/util"),y=e("../../../../shared/constants/metametrics"),b=e("../../../contexts/metametrics"),E=e("../../../../shared/lib/caip25-caveat-merger"),C=e("../../../components/multichain-accounts/multichain-account-cell"),k=e("../../../hooks/useAccountGroupsForPermissions"),v=e("../../permissions-connect/connect-page/utils"),T=e("../../../components/multichain-accounts/multichain-site-cell/multichain-site-cell"),_=e("../../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-accounts-page"),x=e("../../../../shared/lib/multichain/scope-utils");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}let I=n.MultichainAccountsConnectPageMode=function(e){return e.Summary="summary",e.EditAccounts="edit-accounts",e}({});n.MultichainAccountsConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:w,targetSubjectMetadata:S})=>{const O=(0,c.useI18nContext)(),N=(0,a.useContext)(b.MetaMetricsContext),[M,A]=(0,a.useState)(I.Summary),B=(0,o.useSelector)(t=>{var n;return(0,l.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),R=(0,a.useMemo)(()=>B?(0,v.getCaip25CaveatValueFromPermissions)(B):null,[B]),D=(0,v.getCaip25CaveatValueFromPermissions)(e.permissions),P=R?(0,E.mergeCaip25CaveatValues)(D,R):D,F=(0,i.getCaipAccountIdsFromCaip25CaveatValue)(D),L=(0,i.getAllNamespacesFromCaip25CaveatValue)(P).filter(e=>e!==r.KnownCaipNamespace.Wallet),j=(0,o.useSelector)(u.getAllNetworkConfigurationsByCaipChainId),[W,U]=(0,a.useMemo)(()=>Object.entries(j).reduce(([e,t],[n,a])=>{const o=n;return(f.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[j]),$=(0,i.getAllScopesFromCaip25CaveatValue)(P).filter(e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t!==r.KnownCaipNamespace.Wallet}),z=(0,a.useMemo)(()=>$.length>0?$:[...new Set([...W.map(({caipChainId:e})=>e),...U.map(({caipChainId:e})=>e)])],[W,$,U]),{connectedAccountGroups:V,supportedAccountGroups:G}=(0,k.useAccountGroupsForPermissions)(P,F,z,L),[q,K]=(0,a.useState)(!1),[H,J]=(0,a.useState)(z),Y=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&K(!0),J(e)},[K,J]),X=(0,a.useMemo)(()=>{const e=Array.from(V).map(e=>e.id);return e.length?e:G.length>0?[G[0].id]:[]},[V,G]),[Q,Z]=(0,a.useState)(X),ee=(0,a.useMemo)(()=>{const e=G.filter(e=>Q.includes(e.id));return(0,x.getCaip25AccountFromAccountGroupAndScope)(e,H)},[Q,H,G]),te=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&K(!0);const n=[...H];Y(n,{isUserModified:t}),Z(e)},[H,Y,K,Z]);(0,a.useEffect)(()=>{q||(0,s.isEqual)(X,Q)||te(X,{isUserModified:!1})},[q,te,Q,X]);const ne=(0,a.useCallback)(()=>{N({category:y.MetaMetricsEventCategory.Navigation,event:y.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}}),A(I.EditAccounts)},[N]),ae=(0,a.useCallback)(()=>{n(t)},[t,n]),oe=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,i.generateCaip25Caveat)(P,ee,H)}};w(t)},[e,P,ee,H,w]),ie=(0,h.transformOriginToTitle)(S.origin);return M===I.Summary?a.default.createElement(p.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:m.BackgroundColor.backgroundDefault},a.default.createElement(p.Header,{paddingTop:8,paddingBottom:0},a.default.createElement(d.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.center,marginBottom:8},S.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(d.AvatarFavicon,{backgroundColor:m.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Xl,src:S.iconUrl,name:ie})),a.default.createElement(d.AvatarFavicon,{backgroundColor:m.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Lg,src:S.iconUrl,name:ie,style:{zIndex:1,background:"transparent"}})):a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Lg,display:m.Display.Flex,alignItems:m.AlignItems.center,justifyContent:m.JustifyContent.center,color:m.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:m.BackgroundColor.backgroundMuted},(0,h.isIpAddress)(ie)?"?":(0,h.getAvatarFallbackLetter)(ie))),a.default.createElement(d.Text,{variant:m.TextVariant.headingLg,marginBottom:1},ie),a.default.createElement(d.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.center},a.default.createElement(d.Text,{color:m.TextColor.textAlternative},O("connectionDescription")))),a.default.createElement(p.Content,{paddingLeft:4,paddingRight:4,backgroundColor:m.BackgroundColor.transparent},a.default.createElement(g.Tabs,{onTabClick:()=>null,backgroundColor:m.BackgroundColor.transparent,justifyContent:m.JustifyContent.center,defaultActiveTabKey:"accounts",tabListProps:{backgroundColor:m.BackgroundColor.transparent}},a.default.createElement(g.Tab,{name:O("accounts"),tabKey:"accounts",width:m.BlockSize.Full,"data-testid":"accounts-tab"},a.default.createElement(d.Box,{marginTop:4,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},a.default.createElement(d.Box,{backgroundColor:m.BackgroundColor.backgroundDefault,borderRadius:m.BorderRadius.XL},Q.map(e=>{const t=G.find(t=>t.id===e);return a.default.createElement(C.MultichainAccountCell,{accountId:e,accountName:(null==t?void 0:t.metadata.name)||"Unknown Account",balance:"$1337.00",key:e,selected:!0,walletName:null==t?void 0:t.walletName})})),0===Q.length&&a.default.createElement(d.Box,{className:"connect-page__accounts-empty",display:m.Display.Flex,justifyContent:m.JustifyContent.flexStart,alignItems:m.AlignItems.center,borderRadius:m.BorderRadius.XL},a.default.createElement(d.ButtonLink,{onClick:ne,"data-testid":"edit"},O("selectAccountToConnect"))),Q.length>0&&a.default.createElement(d.Box,{marginTop:4,display:m.Display.Flex,justifyContent:m.JustifyContent.flexStart,padding:4},a.default.createElement(d.Box,{className:"connect-page__edit-icon",marginRight:4,display:m.Display.Flex,alignItems:m.AlignItems.center,justifyContent:m.JustifyContent.center,backgroundColor:m.BackgroundColor.infoMuted,borderRadius:m.BorderRadius.MD,padding:4},a.default.createElement(d.Icon,{name:d.IconName.Edit,size:d.IconSize.Md,color:m.IconColor.infoDefault})),a.default.createElement(d.ButtonLink,{color:m.TextColor.infoDefault,onClick:ne,"data-testid":"edit"},O("editAccounts"))))),a.default.createElement(g.Tab,{name:O("permissions"),tabKey:"permissions",width:m.BlockSize.Full,"data-testid":"permissions-tab",disabled:0===Q.length},a.default.createElement(d.Box,{marginTop:4},a.default.createElement(T.MultichainSiteCell,{nonTestNetworks:W,testNetworks:U,supportedAccountGroups:G,showEditAccounts:ne,onSelectChainIds:Y,selectedAccountGroupIds:Q,selectedChainIds:H,isConnectFlow:!0}))))),a.default.createElement(p.Footer,null,a.default.createElement(d.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Column,gap:4,width:m.BlockSize.Full},a.default.createElement(d.Box,{display:m.Display.Flex,gap:4,width:m.BlockSize.Full},a.default.createElement(d.Button,{block:!0,variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:ae},O("cancel")),a.default.createElement(d.Button,{block:!0,"data-testid":"confirm-btn",size:d.ButtonSize.Lg,onClick:oe,disabled:0===Q.length||0===H.length},O("connect")))))):a.default.createElement(_.MultichainEditAccountsPage,{supportedAccountGroups:G,defaultSelectedAccountGroups:Q,onSubmit:te,onClose:()=>A(I.Summary)})}}}},{package:"$root$",file:"ui/pages/multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page.tsx"}],[7108,{"./smart-account-page":7109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SmartAccountPage",{enumerable:!0,get:function(){return a.SmartAccountPage}});var a=e("./smart-account-page")}}},{package:"$root$",file:"ui/pages/multichain-accounts/smart-account-page/index.ts"}],[7109,{"../../../components/multichain-accounts/smart-contract-account-toggle-section":6024,"../../../components/multichain/pages/page":6237,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"@metamask/design-system-react":1577,react:4789,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SmartAccountPage=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-router-dom"),r=e("@metamask/design-system-react"),s=e("../../../components/multichain/pages/page"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../components/multichain-accounts/smart-contract-account-toggle-section");n.SmartAccountPage=()=>{const e=(0,l.useI18nContext)(),t=(0,i.useHistory)(),{address:n}=(0,i.useParams)(),a=n?decodeURIComponent(n):null;return a?o.default.createElement(s.Page,{className:"max-w-[600px]"},o.default.createElement(s.Header,{textProps:{variant:c.TextVariant.headingSm},startAccessory:o.default.createElement(r.ButtonIcon,{size:r.ButtonIconSize.Md,ariaLabel:e("back"),iconName:r.IconName.ArrowLeft,onClick:()=>t.goBack(),"data-testid":"smart-account-page-back-button"})},e("smartAccount")),o.default.createElement(s.Content,null,o.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column},o.default.createElement(u.SmartContractAccountToggleSection,{address:a})))):null}}}},{package:"$root$",file:"ui/pages/multichain-accounts/smart-account-page/smart-account-page.tsx"}],[711,{"./CryptoECKey":708,"./CryptoHDKey":709,"./MultiKey":714,"./RegistryItem":716,"./RegistryType":717,"./ScriptExpression":718,"./lib":727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoOutput=void 0;const a=e("./CryptoECKey"),o=e("./CryptoHDKey"),i=e("./lib"),r=e("./MultiKey"),s=e("./RegistryItem"),c=e("./RegistryType"),l=e("./ScriptExpression");class u extends s.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>c.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof o.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof a.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof r.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof a.CryptoECKey||this.cryptoKey instanceof o.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach(t=>{const n=t.getTag();e.getTag()===undefined?e.setTag(n):e=new i.DataItem(e,n)}),e}}}n.CryptoOutput=u,u.fromDataItem=e=>{const t=[];let n=e;for(;;){let e=n.getTag();const a=l.ScriptExpression.fromTag(e);if(!a)break;if(t.push(a),!(n.getData()instanceof i.DataItem))break;n=n.getData(),e=n.getTag()}const s=t.length;if(s>0&&(t[s-1].getExpression()===l.ScriptExpressions.MULTISIG.getExpression()||t[s-1].getExpression()===l.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=r.MultiKey.fromDataItem(n);return new u(t,e)}if(n.getTag()===c.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=o.CryptoHDKey.fromDataItem(n);return new u(t,e)}{const e=a.CryptoECKey.fromDataItem(n);return new u(t,e)}},u.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[7110,{"./wallet-details-page":7111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"WalletDetailsPage",{enumerable:!0,get:function(){return a.WalletDetailsPage}});var a=e("./wallet-details-page")}}},{package:"$root$",file:"ui/pages/multichain-accounts/wallet-details-page/index.ts"}],[7111,{"../../../components/component-library":5919,"../../../components/multichain-accounts/add-multichain-account":5992,"../../../components/multichain-accounts/multichain-account-cell":5998,"../../../components/multichain-accounts/multichain-srp-backup":6020,"../../../components/multichain/pages/page":6237,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/multichain-accounts/useWalletBalance":6549,"../../../hooks/multichain-accounts/useWalletInfo":6550,"../../../hooks/useI18nContext":6583,"../../../selectors/multichain-accounts/account-tree":7349,"@metamask/account-api":1024,classnames:3623,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletDetailsPage=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom"),r=e("react-redux"),s=e("@metamask/account-api"),c=(a=e("classnames"))&&a.__esModule?a:{default:a},l=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../components/multichain/pages/page"),p=e("../../../hooks/useI18nContext"),m=e("../../../selectors/multichain-accounts/account-tree"),f=e("../../../helpers/constants/routes"),g=e("../../../components/multichain-accounts/multichain-account-cell"),h=e("../../../components/multichain-accounts/add-multichain-account"),y=e("../../../hooks/multichain-accounts/useWalletInfo"),b=e("../../../components/multichain-accounts/multichain-srp-backup"),E=e("../../../hooks/multichain-accounts/useWalletBalance");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(null,arguments)}n.WalletDetailsPage=()=>{const e=(0,p.useI18nContext)(),t=(0,i.useHistory)(),{id:n}=(0,i.useParams)(),a=decodeURIComponent(n),C=(0,r.useSelector)(m.getWalletsWithAccounts)[a],{multichainAccounts:v,keyringId:T,isSRPBackedUp:_}=(0,y.useWalletInfo)(a),x=(0,E.useSingleWalletDisplayBalance)(a),w=(0,E.useSingleWalletAccountsBalanceCallback)(a);(0,o.useEffect)(()=>{C||t.push(f.ACCOUNT_LIST_PAGE_ROUTE)},[C,t]);const I=(null==C?void 0:C.type)===s.AccountWalletType.Entropy,S=!1===_,O={display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,backgroundColor:u.BackgroundColor.backgroundMuted},N=(0,o.useMemo)(()=>v.map(e=>o.default.createElement(g.MultichainAccountCell,{key:`multichain-account-cell-${e.id}`,accountId:e.id,accountName:e.metadata.name,balance:w(e.id)??"",disableHoverEffect:!0})),[v,w]);return o.default.createElement(d.Page,{className:"multichain-wallet-details-page"},o.default.createElement(d.Header,{textProps:{variant:u.TextVariant.headingSm},startAccessory:o.default.createElement(l.ButtonIcon,{size:l.ButtonIconSize.Md,ariaLabel:e("back"),iconName:l.IconName.ArrowLeft,onClick:()=>{t.goBack()},"data-testid":"back-button"})},null==C?void 0:C.metadata.name),o.default.createElement(d.Content,null,o.default.createElement(l.Box,{marginBottom:4,className:"multichain-wallet-details-page__rows-container"},o.default.createElement(l.Box,k({className:(0,c.default)("multichain-wallet-details-page__row","multichain-wallet-details-page__row--first"),padding:4},O),o.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textDefault},e("walletName")),o.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textAlternative},null==C?void 0:C.metadata.name)),o.default.createElement(l.Box,k({className:"multichain-wallet-details-page__row",padding:4},O),o.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textDefault},e("balance")),o.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textAlternative},x??"$ n/a")),I?o.default.createElement(b.MultichainSrpBackup,{className:(0,c.default)("multichain-wallet-details-page__row","multichain-wallet-details-page__row--last","multichain-wallet-details-page__srp-button"),shouldShowBackupReminder:S,keyringId:T}):null),o.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundMuted,borderRadius:u.BorderRadius.XL},N,I&&o.default.createElement(h.AddMultichainAccount,{walletId:a}))))}}}},{package:"$root$",file:"ui/pages/multichain-accounts/wallet-details-page/wallet-details-page.tsx"}],[7112,{"./wallet-details.component":7113},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("./wallet-details.component"))&&a.__esModule?a:{default:a};n.default=o.default}}},{package:"$root$",file:"ui/pages/multichain-accounts/wallet-details/index.ts"}],[7113,{"../../../../shared/lib/trace":5342,"../../../components/app/srp-quiz-modal":5802,"../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":5839,"../../../components/component-library":5919,"../../../components/component-library/modal-content/deprecated":5929,"../../../components/multichain/multichain-accounts/wallet-details-account-item/wallet-details-account-item":6152,"../../../components/multichain/multichain-accounts/wallet-details-account-type-selection":6153,"../../../components/multichain/pages/page":6237,"../../../ducks/metamask/metamask":6445,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/accounts/useMultichainWalletSnapClient":6518,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../selectors/multichain-accounts/account-tree":7349,"../../../store/actions":7369,"@metamask/keyring-api":1914,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),i=e("react-redux"),r=e("@metamask/keyring-api"),s=e("../../../components/component-library"),c=e("../../../components/component-library/modal-content/deprecated"),l=e("../../../helpers/constants/design-system"),u=e("../../../components/multichain/pages/page"),d=e("../../../selectors"),p=e("../../../hooks/useI18nContext"),m=e("../../../selectors/multichain-accounts/account-tree"),f=e("../../../ducks/metamask/metamask"),g=T(e("../../../components/multichain/multichain-accounts/wallet-details-account-item/wallet-details-account-item")),h=T(e("../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),y=T(e("../../../components/app/srp-quiz-modal")),b=e("../../../components/multichain/multichain-accounts/wallet-details-account-type-selection"),E=e("../../../store/actions"),C=e("../../../helpers/constants/routes"),k=e("../../../../shared/lib/trace"),v=e("../../../hooks/accounts/useMultichainWalletSnapClient");function T(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x.apply(null,arguments)}const w=()=>{var e;const t=(0,p.useI18nContext)(),n=(0,o.useHistory)(),T=(0,i.useDispatch)(),{id:_}=(0,o.useParams)(),w=decodeURIComponent(_),I=(0,i.useSelector)(m.getWalletsWithAccounts),S=(0,i.useSelector)(f.getIsPrimarySeedPhraseBackedUp),O=(0,i.useSelector)(d.getMetaMaskHdKeyrings),[N,M]=(0,a.useState)(!1),A=I[w],[B,R]=(0,a.useState)({}),[D,P]=(0,a.useState)(!1),F=(0,v.useMultichainWalletSnapClient)(v.WalletClientType.Solana),L=(0,a.useMemo)(()=>Object.values(B).reduce((e,t)=>e+Number(t||0),0).toString(),[B]),j=(0,a.useCallback)((e,t)=>{R(n=>({...n,[e]:t}))},[]),W=e=>{T((0,E.setAccountDetailsAddress)(e.address)),n.push(`${C.ACCOUNT_DETAILS_ROUTE}/${e.address}`)},U=()=>{n.goBack()};if(!A)return a.default.createElement(u.Page,{className:"wallet-details-page"},a.default.createElement(u.Header,{textProps:{variant:l.TextVariant.headingSm},startAccessory:a.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Sm,ariaLabel:t("back"),iconName:s.IconName.ArrowLeft,onClick:U})},t("walletDetails")),a.default.createElement(u.Content,null,a.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Danger,title:t("walletNotFoundTitle")},t("walletNotFoundDescription",[_]))));const $=A.id.split(":")[1],z=A.id.includes("entropy"),V=(null===(e=O[0])||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.id)===$,G=!S&&V,q=Object.values(A.groups).flatMap(e=>e.accounts),K=()=>{P(!1)},H={display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundAlternative};return a.default.createElement(u.Page,{className:"wallet-details-page"},a.default.createElement(u.Header,{textProps:{variant:l.TextVariant.headingSm},startAccessory:a.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Sm,ariaLabel:t("back"),iconName:s.IconName.ArrowLeft,onClick:U})},t("walletDetails")),a.default.createElement(u.Content,null,a.default.createElement(s.Box,{marginBottom:4,className:"wallet-details-page__rows-container"},a.default.createElement(s.Box,x({className:"wallet-details-page__row",padding:4},H),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textDefault},t("walletName")),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textAlternative},A.metadata.name)),a.default.createElement(s.Box,x({className:"wallet-details-page__row",padding:4},H),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textDefault},t("balance")),a.default.createElement(h.default,{value:L,type:"PRIMARY",ethNumberOfDecimals:4,hideTitle:!0,showFiat:!0,isAggregatedFiatOverviewBalance:!0,hideLabel:!0,textProps:{color:l.TextColor.textAlternative,variant:l.TextVariant.bodyMdMedium}}))),z?a.default.createElement(s.Box,{marginBottom:4,className:"wallet-details-page__rows-container"},a.default.createElement(s.Box,x({className:"wallet-details-page__row wallet-details-page__srp-button",padding:4,marginBottom:1,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},H,{as:"button",onClick:()=>{if(G){const e=`${C.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;n.push(e)}else M(!0)}}),a.default.createElement(s.Box,null,a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textDefault},t("secretRecoveryPhrase"))),a.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2},G?a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.errorDefault},t("backup")):null,a.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:l.IconColor.iconAlternative})))):null,q.length>0&&a.default.createElement(s.Box,{className:"wallet-details-page__rows-container"},q.map(e=>a.default.createElement(g.default,x({key:e.id,account:e,onClick:W,onBalanceUpdate:j,className:"wallet-details-page__row"},H))),z?a.default.createElement(s.Box,x({className:"wallet-details-page__row wallet-details-page__add-account-button",padding:4,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},H,{as:"button",onClick:()=>{P(!0)}}),a.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:3},a.default.createElement(s.Icon,{name:s.IconName.Add,size:s.IconSize.Md,color:l.IconColor.primaryDefault}),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.primaryDefault},t("addAccount")))):null)),z&&N&&a.default.createElement(y.default,{keyringId:$,isOpen:N,onClose:()=>M(!1),closeAfterCompleting:!0}),D&&a.default.createElement(s.Modal,{isOpen:!0,onClose:K},a.default.createElement(s.ModalOverlay,null),a.default.createElement(c.ModalContent,{className:"multichain-account-menu-popover",modalDialogProps:{className:"multichain-account-menu-popover__dialog",padding:0,display:l.Display.Flex,flexDirection:l.FlexDirection.Column}},a.default.createElement(b.WalletDetailsAccountTypeSelection,{onAccountTypeSelect:async e=>{let t=!1;e===v.EVM_WALLET_TYPE?t=await(async()=>{(0,k.trace)({name:k.TraceName.AddAccount});try{return await T((0,E.addNewAccount)($,!1)),!0}catch(e){return console.error("Error creating Ethereum account:",e),!1}finally{(0,k.endTrace)({name:k.TraceName.AddAccount})}})():e===v.WalletClientType.Solana&&(t=await(async(e,t)=>{(0,k.trace)({name:k.TraceName.AddAccount});try{let n;return e!==v.WalletClientType.Solana?(console.error(`Unsupported client type: ${e}`),!1):(n=F,n?(await n.createAccount({scope:t,entropySource:$},{displayConfirmation:!1,displayAccountNameSuggestion:!1,setSelectedAccount:!1}),!0):(console.error(`Client not available for type: ${e}`),!1))}catch(t){return console.error(`Error creating ${e} account:`,t),!1}finally{(0,k.endTrace)({name:k.TraceName.AddAccount})}})(v.WalletClientType.Solana,r.SolScope.Mainnet)),t&&K()},onClose:K}))))};w.propTypes={};n.default=w}}},{package:"$root$",file:"ui/pages/multichain-accounts/wallet-details/wallet-details.component.tsx"}],[7114,{"../../../shared/constants/urls":5280,"../../../shared/lib/deep-links/routes/nonevm":5300,"../../../shared/lib/deep-links/routes/route":5303,"../../../shared/lib/deep-links/routes/swap":5304,"../../components/component-library":5919,"../../components/multichain/network-list-menu/add-non-evm-account/add-non-evm-account":6161,"../../helpers/constants/design-system":6458,"../../hooks/ramps/useRamps/useRamps":6552,"../../hooks/useMultichainBalances":6591,"../../selectors":7345,"../../selectors/multichain":7354,"../../store/actions":7369,react:4789,"react-redux":4733,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonEvmBalanceCheck=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("react-router-dom"),s=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),l=e("../../store/actions"),u=e("../../hooks/useMultichainBalances"),d=e("../../../shared/lib/deep-links/routes/nonevm"),p=e("../../../shared/lib/deep-links/routes/route"),m=e("../../../shared/lib/deep-links/routes/swap"),f=e("../../hooks/ramps/useRamps/useRamps"),g=e("../../selectors/multichain"),h=e("../../selectors"),y=e("../../../shared/constants/urls"),b=(a=e("../../components/multichain/network-list-menu/add-non-evm-account/add-non-evm-account"))&&a.__esModule?a:{default:a};function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const{getExtensionURL:C}=globalThis.platform;n.NonEvmBalanceCheck=()=>{const e=(0,r.useLocation)(),t=(0,i.useDispatch)(),n=(0,i.useSelector)(h.getMetaMetricsId),a=(0,i.useSelector)(h.getParticipateInMetaMetrics),E=(0,i.useSelector)(h.getDataCollectionForMarketing),k=(0,i.useSelector)(h.getMetaMaskAccountsOrdered),v=(0,i.useSelector)(g.getLastSelectedNonEvmAccount),T=new URLSearchParams(e.search).get(d.NonEvmQueryParams.ChainId),{assetsWithBalance:_}=(0,u.useMultichainBalances)(),x=k.some(e=>e.scopes.includes(T));return(0,o.useEffect)(()=>{if(T&&x){var e;null!=v&&null!==(e=v.scopes)&&void 0!==e&&e.includes(T)&&t((0,l.setSelectedAccount)(v.address));const o=_.some(e=>e.chainId===T&&e.balance&&"0"!==e.balance);window.location.href=o?(e=>{const t=new URLSearchParams;return t.set("sourceToken",e),t.set(m.BridgeQueryParams.SWAPS,"true"),C(p.SWAP_ROUTE,t.toString())})(T):((e,t,n,a)=>{const o=new URLSearchParams;o.set("metamaskEntry",f.RampsMetaMaskEntry.BuySellButton),o.set("chainId",e),t&&o.set("metametricsId",t),o.set("metricsEnabled",String(n)),a&&o.set("marketingEnabled",String(a));const i=new URL("/buy",y.BaseUrl.Portfolio);return i.search=o.toString(),i.toString()})(T,n,a,E)}},[T,_,n,a,E,x,k]),x?null:o.default.createElement(s.Modal,{isOpen:!0,onClose:()=>{}},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{modalDialogProps:{padding:0,display:c.Display.Flex,flexDirection:c.FlexDirection.Column}},o.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,width:c.BlockSize.Full,padding:2},o.default.createElement(b.default,{chainId:T}))))}}}},{package:"$root$",file:"ui/pages/nonevm-balance-check/index.tsx"}],[7115,{"./notification-details":7119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./notification-details"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/notification-details/index.js"}],[7116,{"../../../components/component-library":5919,"../../../helpers/constants/design-system":6458,"../../notifications/notification-components/types/notifications/notifications":7142,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsBody=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../notifications/notification-components/types/notifications/notifications");n.NotificationDetailsBody=({body:e,notification:t})=>o.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,padding:0},e.type===s.NotificationComponentType.AnnouncementBody&&o.default.createElement(o.default.Fragment,null,o.default.createElement(e.Image,{notification:t}),o.default.createElement(e.Description,{notification:t})),e.type===s.NotificationComponentType.OnChainBody&&o.default.createElement(o.default.Fragment,null,e.Image&&o.default.createElement(e.Image,{notification:t}),e.From&&o.default.createElement(e.From,{notification:t}),e.To&&o.default.createElement(e.To,{notification:t}),e.Account&&o.default.createElement(e.Account,{notification:t}),e.Asset&&o.default.createElement(e.Asset,{notification:t}),e.AssetReceived&&o.default.createElement(e.AssetReceived,{notification:t}),e.Status&&o.default.createElement(e.Status,{notification:t}),e.Network&&o.default.createElement(e.Network,{notification:t}),e.Rate&&o.default.createElement(e.Rate,{notification:t}),e.Provider&&o.default.createElement(e.Provider,{notification:t}),e.NetworkFee&&o.default.createElement(e.NetworkFee,{notification:t})),e.type===s.NotificationComponentType.SnapBody&&o.default.createElement(e.Content,{notification:t}))}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-body/notification-details-body.tsx"}],[7117,{"../../../components/component-library":5919,"../../../helpers/constants/design-system":6458,"../../notifications/notification-components/types/notifications/notifications":7142,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsFooter=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../notifications/notification-components/types/notifications/notifications");n.NotificationDetailsFooter=({footer:e,notification:t})=>o.default.createElement(i.Box,{width:r.BlockSize.Full,display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,padding:4,gap:4},e.type===s.NotificationComponentType.OnChainFooter&&o.default.createElement(e.ScanLink,{notification:t}),e.type===s.NotificationComponentType.AnnouncementFooter&&o.default.createElement(i.Box,{display:r.Display.Flex,gap:4,flexDirection:r.FlexDirection.Row,width:r.BlockSize.Full},o.default.createElement(e.ExternalLink,{notification:t}),o.default.createElement(e.ExtensionLink,{notification:t})),e.type===s.NotificationComponentType.SnapFooter&&o.default.createElement(e.Link,{notification:t}))}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-footer/notification-details-footer.tsx"}],[7118,{"../../../components/component-library":5919,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsHeader=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library");n.NotificationDetailsHeader=({children:e,onClickBack:t})=>o.default.createElement(i.HeaderBase,{padding:4,startAccessory:o.default.createElement(i.ButtonIcon,{ariaLabel:"Back",iconName:i.IconName.ArrowLeft,size:i.ButtonIconSize.Sm,onClick:t,"data-testid":"notification-details-back-button"}),endAccessory:null},e)}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-header/notification-details-header.tsx"}],[7119,{"../../components/component-library":5919,"../../components/multichain":6142,"../../components/multichain/pages/page":6237,"../../helpers/constants/design-system":6458,"../../helpers/constants/routes":6463,"../../hooks/metamask-notifications/useNotifications":6545,"../../hooks/useNotificationTimeouts":6598,"../../selectors/metamask-notifications/metamask-notifications":7346,"../notifications/notification-components":7134,"./notification-details-body/notification-details-body":7116,"./notification-details-footer/notification-details-footer":7117,"./notification-details-header/notification-details-header":7118,"./utils/utils":7120,"@metamask/notification-services-controller/notification-services":2042,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useNavigate)(),{notification:t}=function(){const{pathname:e}=(0,i.useLocation)(),t=(0,h.getExtractIdentifier)(e),n=(0,o.useSelector)((0,m.getMetamaskNotificationById)(t));return{notification:n}}();if(function(e){const{markNotificationAsRead:t}=(0,p.useMarkNotificationAsRead)(),{setNotificationTimeout:n}=(0,g.useSnapNotificationTimeouts)();(0,a.useEffect)(()=>(e&&t([{id:e.id,type:e.type,isRead:e.isRead}]),()=>{(null==e?void 0:e.type)===r.TRIGGER_TYPES.SNAP&&n(e.id)}),[])}(t),!t)return e(l.NOTIFICATIONS_ROUTE),null;if(!(0,f.hasNotificationComponents)(t.type))return e(l.NOTIFICATIONS_ROUTE),null;const n=f.NotificationComponents[t.type];return a.default.createElement(u.NotificationsPage,null,a.default.createElement(y.NotificationDetailsHeader,{onClickBack:()=>e(l.NOTIFICATIONS_ROUTE)},a.default.createElement(n.details.title,{notification:t})),a.default.createElement(d.Content,{padding:0},a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2,width:c.BlockSize.Full,height:c.BlockSize.Full,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(b.NotificationDetailsBody,{body:n.details.body,notification:t}),a.default.createElement(E.NotificationDetailsFooter,{footer:n.footer,notification:t}))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=e("@metamask/notification-services-controller/notification-services"),s=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),l=e("../../helpers/constants/routes"),u=e("../../components/multichain"),d=e("../../components/multichain/pages/page"),p=e("../../hooks/metamask-notifications/useNotifications"),m=e("../../selectors/metamask-notifications/metamask-notifications"),f=e("../notifications/notification-components"),g=e("../../hooks/useNotificationTimeouts"),h=e("./utils/utils"),y=e("./notification-details-header/notification-details-header"),b=e("./notification-details-body/notification-details-body"),E=e("./notification-details-footer/notification-details-footer");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notification-details/notification-details.tsx"}],[712,{"./RegistryItem":716,"./RegistryType":717,"./lib":727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoPSBT=void 0;const a=e("./lib"),o=e("./RegistryItem"),i=e("./RegistryType");class r extends o.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new a.DataItem(this.psbt)}}n.CryptoPSBT=r,r.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new r(t)},r.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return r.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[7120,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getExtractIdentifier=function(e){if("string"!=typeof e)return"";const t=e.split("/");return t.length>2?t[2]:""}}}},{package:"$root$",file:"ui/pages/notification-details/utils/utils.ts"}],[7121,{"./notifications-settings":7125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./notifications-settings"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/notifications-settings/index.js"}],[7122,{"../../../shared/constants/metametrics":5259,"../../components/component-library":5919,"../../components/multichain":6142,"../../contexts/metamask-notifications/metamask-notifications":6419,"../../contexts/metametrics":6421,"../../helpers/constants/design-system":6458,"../../hooks/metamask-notifications/useNotifications":6545,"../../hooks/useI18nContext":6583,"../../selectors/identity/backup-and-sync":7344,"../../selectors/metamask-notifications/metamask-notifications":7346,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsAllowNotifications=function({loading:e,setLoading:t,disabled:n,dataTestId:g}){const h=(0,i.useI18nContext)(),y=(0,a.useContext)(r.MetaMetricsContext),{listNotifications:b}=(0,d.useMetamaskNotificationsContext)(),E=(0,o.useSelector)(l.selectIsMetamaskNotificationsEnabled),[C,k]=(0,a.useState)(E),v=(0,o.useSelector)(l.getIsUpdatingMetamaskNotifications),T=(0,o.useSelector)(u.selectIsBackupAndSyncEnabled),{enableNotifications:_,error:x}=(0,c.useEnableNotifications)(),{disableNotifications:w,error:I}=(0,c.useDisableNotifications)(),S=x||I;(0,a.useEffect)(()=>{t(v)},[v,t]),(0,a.useEffect)(()=>{k(E)},[E]),(0,a.useEffect)(()=>{!S&&E&&b()},[E,S,b]);const O=(0,a.useCallback)(async()=>{t(!0),E?(y({category:s.MetaMetricsEventCategory.NotificationSettings,event:s.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"notifications",was_profile_syncing_on:T,old_value:!0,new_value:!1}}),await w()):(y({category:s.MetaMetricsEventCategory.NotificationSettings,event:s.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"notifications",was_profile_syncing_on:T,old_value:!1,new_value:!0}}),await _()),t(!1),k(!C)},[t,E,w,_,C,T,y]),N=(0,a.useMemo)(()=>a.default.createElement(p.Text,{as:"a",href:"https://support.metamask.io/privacy-and-security/profile-privacy",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:m.TextColor.infoDefault},h("notificationsSettingsPageAllowNotificationsLink")),[h]);return a.default.createElement(p.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.flexStart,flexDirection:m.FlexDirection.Column,alignItems:m.AlignItems.flexStart,gap:4,paddingLeft:8,paddingRight:8,paddingBottom:8},a.default.createElement(f.NotificationsSettingsBox,{value:C,onToggle:O,disabled:n,loading:e,dataTestId:g},a.default.createElement(f.NotificationsSettingsType,{title:h("allowNotifications")})),a.default.createElement(p.Text,{variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative},h("notificationsSettingsPageAllowNotifications",[N])),S&&a.default.createElement(p.Box,null,a.default.createElement(p.Text,{as:"p",color:m.TextColor.errorDefault},h(E?"turnOffMetamaskNotificationsError":"turnOnMetamaskNotificationsError"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("../../hooks/useI18nContext"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),c=e("../../hooks/metamask-notifications/useNotifications"),l=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../selectors/identity/backup-and-sync"),d=e("../../contexts/metamask-notifications/metamask-notifications"),p=e("../../components/component-library"),m=e("../../helpers/constants/design-system"),f=e("../../components/multichain");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-allow-notifications.tsx"}],[7123,{"../../../shared/constants/metametrics":5259,"../../components/multichain":6142,"../../contexts/metametrics":6421,"../../helpers/utils/util":6514,"../../hooks/metamask-notifications/useNotifications":6545,"../../hooks/metamask-notifications/useSwitchNotifications":6546,"@metamask/controller-utils":1224,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsPerAccount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/controller-utils"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/metamask-notifications/useSwitchNotifications"),c=e("../../components/multichain"),l=e("../../hooks/metamask-notifications/useNotifications"),u=e("../../helpers/utils/util");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.NotificationsSettingsPerAccount=({address:e,name:t,isEnabled:n,isLoading:d,disabledSwitch:p,refetchAccountSettings:m})=>{const f=(0,a.useContext)(i.MetaMetricsContext),{toggleAccount:g,loading:h,error:y}=function(e,t){const{onChange:n,error:o}=(0,s.useSwitchAccountNotificationsChange)(),{listNotifications:i}=(0,l.useListNotifications)(),[r,c]=(0,a.useState)(!1);return{toggleAccount:(0,a.useCallback)(async a=>{c(!0);try{await n([e],a),await t(),i()}catch{}c(!1)},[e,i,t,n]),loading:r,error:o}}(e,m),b=d||h,E=y,C=(0,a.useCallback)(async()=>{f({category:r.MetaMetricsEventCategory.NotificationSettings,event:r.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"account_notifications",old_value:n,new_value:!n}}),await g(!n)},[e,n,g,f]),k=(0,o.toChecksumHexAddress)(e),v=(0,u.shortenAddress)(k);return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.NotificationsSettingsBox,{value:n??!1,onToggle:C,key:e,disabled:p,loading:b,error:E,dataTestId:`${v}-notifications-settings`},a.default.createElement(c.NotificationsSettingsAccount,{address:e,name:t})))}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-per-account.tsx"}],[7124,{"../../../shared/constants/metametrics":5259,"../../components/component-library":5919,"../../components/multichain":6142,"../../contexts/metamask-notifications/metamask-notifications":6419,"../../contexts/metametrics":6421,"../../helpers/constants/design-system":6458,"../../hooks/metamask-notifications/useSwitchNotifications":6546,"../../hooks/useI18nContext":6583,"../../selectors/metamask-notifications/metamask-notifications":7346,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsTypes=function({disabled:e}){const t=(0,s.useI18nContext)(),{listNotifications:n}=(0,c.useMetamaskNotificationsContext)(),f=(0,a.useContext)(i.MetaMetricsContext),g=(0,o.useSelector)(m.selectIsFeatureAnnouncementsEnabled),{onChange:h,error:y}=(0,l.useSwitchFeatureAnnouncementsChange)(),[b,E]=(0,a.useState)(g);return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Box,{paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4,"data-testid":"notifications-settings-per-types"},a.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textDefault},t("customizeYourNotifications")),a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative},t("customizeYourNotificationsText"))),a.default.createElement(u.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.flexStart,flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.flexStart,gap:6,paddingLeft:8,paddingRight:8,paddingBottom:4},a.default.createElement(p.NotificationsSettingsBox,{value:b,onToggle:async()=>{E(!b);try{h(!b),f({category:r.MetaMetricsEventCategory.NotificationSettings,event:r.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"product_announcements",old_value:b,new_value:!b}}),n()}catch(e){E(b)}},error:y,disabled:e,dataTestId:"product-announcements"},a.default.createElement(p.NotificationsSettingsType,{icon:u.IconName.Star,title:t("productAnnouncements")}))),a.default.createElement(u.Box,{borderColor:d.BorderColor.borderMuted,width:d.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),c=e("../../contexts/metamask-notifications/metamask-notifications"),l=e("../../hooks/metamask-notifications/useSwitchNotifications"),u=e("../../components/component-library"),d=e("../../helpers/constants/design-system"),p=e("../../components/multichain"),m=e("../../selectors/metamask-notifications/metamask-notifications");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-types.tsx"}],[7125,{"../../components/component-library":5919,"../../components/multichain":6142,"../../components/multichain/pages/page":6237,"../../helpers/constants/design-system":6458,"../../helpers/constants/routes":6463,"../../hooks/metamask-notifications/useSwitchNotifications":6546,"../../hooks/useI18nContext":6583,"../../selectors":7345,"../../selectors/metamask-notifications/metamask-notifications":7346,"./notifications-settings-allow-notifications":7122,"./notifications-settings-per-account":7123,"./notifications-settings-types":7124,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,i.useNavigate)(),n=(0,i.useLocation)(),b=(0,r.useI18nContext)(),E=(0,o.useSelector)(p.selectIsMetamaskNotificationsEnabled),C=(0,o.useSelector)(p.getIsUpdatingMetamaskNotifications),k=function(){const e=(0,o.useSelector)(p.getValidNotificationAccounts),t=(0,o.useSelector)(m.getInternalAccounts),n=(0,a.useMemo)(()=>e.map(e=>t.find(t=>t.address.toLowerCase()===e.toLowerCase())).filter(e=>Boolean(e)),[e,t]);return n}(),[v,T]=(0,a.useState)(C),_=(0,a.useMemo)(()=>k.map(e=>e.address),[k]),x=(0,f.useAccountSettingsProps)(_),w=x.accountsBeingUpdated.length>0,I=async()=>{await x.update(_)},S=null===(e=n.state)||void 0===e?void 0:e.fromPage;return a.default.createElement(u.NotificationsPage,null,a.default.createElement(d.Header,{startAccessory:a.default.createElement(c.ButtonIcon,{ariaLabel:"Back",iconName:c.IconName.ArrowLeft,size:c.ButtonIconSize.Sm,onClick:()=>t(S||s.NOTIFICATIONS_ROUTE)}),endAccessory:null},b("notifications")),a.default.createElement(d.Content,{padding:0},a.default.createElement(g.NotificationsSettingsAllowNotifications,{loading:v,setLoading:T,dataTestId:"notifications-settings-allow",disabled:w}),a.default.createElement(c.Box,{borderColor:l.BorderColor.borderMuted,width:l.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),E&&a.default.createElement(a.default.Fragment,null,a.default.createElement(h.NotificationsSettingsTypes,{disabled:v||w}),a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Box,{paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4,"data-testid":"notifications-settings-per-account"},a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault},b("accountActivity")),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},b("accountActivityText"))),a.default.createElement(c.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.flexStart,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,gap:6,paddingLeft:8,paddingRight:8,paddingBottom:4},k.map(e=>{var t;return a.default.createElement(y.NotificationsSettingsPerAccount,{key:e.id,address:e.address,name:e.metadata.name,disabledSwitch:x.initialLoading||w,isLoading:x.accountsBeingUpdated.includes(e.address),isEnabled:(null===(t=x.data)||void 0===t?void 0:t[e.address.toLowerCase()])??!1,refetchAccountSettings:I})}))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=e("../../hooks/useI18nContext"),s=e("../../helpers/constants/routes"),c=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),u=e("../../components/multichain"),d=e("../../components/multichain/pages/page"),p=e("../../selectors/metamask-notifications/metamask-notifications"),m=e("../../selectors"),f=e("../../hooks/metamask-notifications/useSwitchNotifications"),g=e("./notifications-settings-allow-notifications"),h=e("./notifications-settings-types"),y=e("./notifications-settings-per-account");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings.tsx"}],[7126,{"../../components/component-library":5919,"../../helpers/constants/design-system":6458,"../../hooks/useI18nContext":6583,"../../selectors/metamask-notifications/metamask-notifications":7346,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NewFeatureTag=function(){const e=(0,l.useI18nContext)();if((0,i.useSelector)(r.selectIsMetamaskNotificationsFeatureSeen))return null;return o.default.createElement(s.Tag,{backgroundColor:c.BackgroundColor.infoMuted,borderStyle:c.BorderStyle.none,borderRadius:c.BorderRadius.MD,label:e("new"),labelProps:{color:c.TextColor.primaryDefault,variant:c.TextVariant.bodySm},paddingLeft:2,paddingRight:2})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications"),s=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),l=e("../../hooks/useI18nContext")}}},{package:"$root$",file:"ui/pages/notifications/NewFeatureTag.tsx"}],[7127,{"./notifications":7148},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./notifications"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/notifications/index.js"}],[7128,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../../../../helpers/utils/util":6514,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),m=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ERC1155_RECEIVED,g.ERC1155_SENT]),y=e=>e.type===g.ERC1155_SENT,b=e=>y(e)?(0,r.t)("notificationItemNFTSentTo"):(0,r.t)("notificationItemNFTReceivedFrom"),E=e=>{const t=(0,l.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,u.createTextItems)([b(e)||"",t],d.TextVariant.bodySm)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{var n,a,i,r,s;return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:null!==(n=e.data.nft)&&void 0!==n&&n.image?m.NotificationListItemIconType.Nft:m.NotificationListItemIconType.Token,value:(null===(a=e.data.nft)||void 0===a?void 0:a.image)||"http://foo.com/bar.png",badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:E(e),description:(r=e,(0,u.createTextItems)([(null===(s=r.data.nft)||void 0===s?void 0:s.collection.name)||""],d.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:(null===(i=e.data.nft)||void 0===i?void 0:i.token_id)||"",onClick:t})},details:{title:({notification:e})=>o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} NFT`,date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:c.NotificationComponentType.OnChainBody,Image:({notification:e})=>{var t,n,a;const{nativeCurrencyLogo:i,nativeCurrencyName:r}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailNft,{networkSrc:i,tokenId:(null===(t=e.data.nft)||void 0===t?void 0:t.token_id)||"",tokenName:(null===(n=e.data.nft)||void 0===n?void 0:n.name)||"",tokenSrc:(null===(a=e.data.nft)||void 0===a?void 0:a.image)||"",networkName:r})},From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:()=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{var t,n,a;const{nativeCurrencyLogo:i}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailCollection,{icon:{src:(null===(t=e.data.nft)||void 0===t?void 0:t.image)||"",badgeSrc:i},label:(0,r.t)("notificationItemCollection")||"",collection:`${null===(n=e.data.nft)||void 0===n?void 0:n.collection.name} (${null===(a=e.data.nft)||void 0===a?void 0:a.token_id})`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc1155-sent-received/erc1155-sent-received.tsx"}],[7129,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../../../../helpers/utils/util":6514,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),u=e("../../../../helpers/utils/util"),d=e("../../../../helpers/utils/notification.util"),p=e("../../../../components/multichain"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ERC20_RECEIVED,g.ERC20_SENT]),y=e=>e.type===g.ERC20_SENT,b=e=>y(e)?(0,r.t)("notificationItemSentTo"):(0,r.t)("notificationItemReceivedFrom"),E=e=>{const t=(0,u.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,d.createTextItems)([b(e)||"",t],m.TextVariant.bodySm)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:l.NotificationListItemIconType.Token,value:e.data.token.image,badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:E(e),description:(n=e,(0,d.createTextItems)([n.data.token.name],m.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:`${(0,d.getAmount)(e.data.token.amount,e.data.token.decimals,{shouldEllipse:!0})} ${e.data.token.symbol}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} ${e.data.token.symbol}`,date:(0,d.formatIsoDateString)(e.createdAt)}),body:{type:c.NotificationComponentType.OnChainBody,From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:({notification:e})=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:o.default.createElement(p.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,d.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:e.data.token.image,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,r.t)("asset")||"",detail:e.data.token.symbol,fiatValue:`$${(0,d.getUsdAmount)(e.data.token.amount,e.data.token.decimals,e.data.token.usd)}`,value:`${(0,d.getAmount)(e.data.token.amount,e.data.token.decimals,{shouldEllipse:!0})} ${e.data.token.symbol}`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,d.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc20-sent-received/erc20-sent-received.tsx"}],[713,{"..":724,"../RegistryType":717,"../errors":719,"@ngraveio/bc-ur":2652},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URRegistryDecoder=void 0;const a=e("@ngraveio/bc-ur"),o=e(".."),i=e("../RegistryType"),r=e("../errors");class s extends a.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case i.RegistryTypes.BYTES.getType():return o.Bytes.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_HDKEY.getType():return o.CryptoHDKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_KEYPATH.getType():return o.CryptoKeypath.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_COIN_INFO.getType():return o.CryptoCoinInfo.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ECKEY.getType():return o.CryptoECKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_OUTPUT.getType():return o.CryptoOutput.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_PSBT.getType():return o.CryptoPSBT.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ACCOUNT.getType():return o.CryptoAccount.fromCBOR(e.cbor);default:throw new r.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}n.URRegistryDecoder=s}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[7130,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../../../../helpers/utils/util":6514,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),m=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ERC721_RECEIVED,g.ERC721_SENT]),y=e=>e.type===g.ERC721_SENT,b=e=>y(e)?(0,r.t)("notificationItemNFTSentTo"):(0,r.t)("notificationItemNFTReceivedFrom"),E=e=>{const t=(0,l.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,u.createTextItems)([b(e)||"",t],d.TextVariant.bodySm)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:m.NotificationListItemIconType.Nft,value:e.data.nft.image,badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:E(e),description:(n=e,(0,u.createTextItems)([n.data.nft.collection.name],d.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:`#${e.data.nft.token_id}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} NFT`,date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:c.NotificationComponentType.OnChainBody,Image:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailNft,{networkSrc:t,tokenId:e.data.nft.token_id,tokenName:e.data.nft.name,tokenSrc:e.data.nft.image,networkName:n})},From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:()=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailCollection,{icon:{src:e.data.nft.image,badgeSrc:t},label:(0,r.t)("notificationItemCollection")||"",collection:`${e.data.nft.collection.name} (${e.data.nft.token_id})`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc721-sent-received/erc721-sent-received.tsx"}],[7131,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../../../../helpers/utils/util":6514,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),m=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ETH_RECEIVED,g.ETH_SENT]),y=e=>e.type===g.ETH_SENT,b=e=>y(e)?(0,r.t)("notificationItemSentTo"):(0,r.t)("notificationItemReceivedFrom"),E=e=>(0,u.getNetworkDetailsByChainId)(e.chain_id),C=e=>{const t=(0,l.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,u.createTextItems)([b(e)||"",t],d.TextVariant.bodySm)},k=e=>{const{nativeCurrencySymbol:t}=E(e);return(0,u.createTextItems)([t],d.TextVariant.bodyMd)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{const{nativeCurrencySymbol:n,nativeCurrencyLogo:a}=E(e);return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:m.NotificationListItemIconType.Token,value:a,badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:C(e),description:k(e),createdAt:new Date(e.createdAt),amount:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`,onClick:t})},details:{title:({notification:e})=>{const{nativeCurrencySymbol:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} ${t}`,date:(0,u.formatIsoDateString)(e.createdAt)})},body:{type:c.NotificationComponentType.OnChainBody,From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:({notification:e})=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:o.default.createElement(p.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencySymbol:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,r.t)("asset")||"",detail:n,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.amount.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/eth-sent-received/eth-sent-received.tsx"}],[7132,{"../../../../../shared/constants/metametrics":5259,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../contexts/metametrics":6421,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExternalLinkButton=n.ExtensionLinkButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../shared/constants/metametrics"),i=e("../../../../contexts/metametrics"),r=e("../../../../components/multichain"),s=e("../../../../components/component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const l=e=>{const t=(0,a.useContext)(i.MetaMetricsContext);return(0,a.useCallback)(()=>{t({category:o.MetaMetricsEventCategory.NotificationInteraction,event:o.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,clicked_item:e.clickType}})},[e.clickType,e.id,e.type,t])};n.ExtensionLinkButton=e=>{const{notification:t}=e,n=l({id:t.id,type:t.type,clickType:"internal_link"});return t.data.extensionLink?a.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Primary,text:t.data.extensionLink.extensionLinkText,href:`/${t.data.extensionLink.extensionLinkRoute}`,isExternal:!0,onClick:n}):null};n.ExternalLinkButton=e=>{const{notification:t}=e,n=l({id:t.id,type:t.type,clickType:"external_link"});return t.data.externalLink?a.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,text:t.data.externalLink.externalLinkText,href:`${t.data.externalLink.externalLinkUrl}`,isExternal:!0,onClick:n}):null}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/annonucement-footer-buttons.tsx"}],[7133,{"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../node-guard":7137,"../types/notifications/notifications":7142,"./annonucement-footer-buttons":7132,"@metamask/notification-services-controller":2070,dompurify:3762,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a=f(e("react")),o=e("@metamask/notification-services-controller"),i=f(e("dompurify")),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),l=e("../../../../helpers/utils/notification.util"),u=e("../../../../components/component-library"),d=e("../../../../components/multichain"),p=e("../../../../helpers/constants/design-system"),m=e("./annonucement-footer-buttons");function f(e){return e&&e.__esModule?e:{default:e}}const g=(0,i.default)(window),{TRIGGER_TYPES:h}=o.NotificationServicesController.Constants,y=(0,r.isOfTypeNodeGuard)([h.FEATURES_ANNOUNCEMENT]),b=e=>(0,l.createTextItems)([e.data.shortDescription],p.TextVariant.bodyMd);n.components={guardFn:y,item:({notification:e,onClick:t})=>{return a.default.createElement(d.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:c.NotificationListItemIconType.Token,value:"./images/product-announcement-logo.svg"},title:(n=e,(0,l.createTextItems)([n.data.title],p.TextVariant.bodySm)),description:b(e),createdAt:new Date(e.createdAt),onClick:t});var n},details:{title:({notification:e})=>a.default.createElement(d.NotificationDetailTitle,{title:e.data.title,date:(0,l.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.AnnouncementBody,Image:({notification:e})=>a.default.createElement(u.Box,{display:p.Display.Block,width:p.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(u.Box,{as:"img",src:`https:${e.data.image.url}?fm=jpg&fl=progressive&w=1000&q=80`,alt:e.data.title,title:e.data.title,display:p.Display.Block,justifyContent:p.JustifyContent.center,borderRadius:p.BorderRadius.XL,width:p.BlockSize.Full})),Description:({notification:e})=>a.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(u.Text,{variant:p.TextVariant.bodyMd,as:"div",dangerouslySetInnerHTML:{__html:g.sanitize(e.data.longDescription)}}))}},footer:{type:s.NotificationComponentType.AnnouncementFooter,ExtensionLink:m.ExtensionLinkButton,ExternalLink:m.ExternalLinkButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/feature-announcement.tsx"}],[7134,{"./erc1155-sent-received/erc1155-sent-received":7128,"./erc20-sent-received/erc20-sent-received":7129,"./erc721-sent-received/erc721-sent-received":7130,"./eth-sent-received/eth-sent-received":7131,"./feature-announcement/feature-announcement":7133,"./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn":7135,"./lido-withdrawal-requested/lido-withdrawal-requested":7136,"./snap/snap":7139,"./stake/stake":7140,"./swap-completed/swap-completed":7141,"@metamask/notification-services-controller":2070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasNotificationComponents=n.TRIGGER_TYPES=n.NotificationComponents=void 0;var a=e("@metamask/notification-services-controller"),o=e("./erc20-sent-received/erc20-sent-received"),i=e("./erc721-sent-received/erc721-sent-received"),r=e("./erc1155-sent-received/erc1155-sent-received"),s=e("./eth-sent-received/eth-sent-received"),c=e("./feature-announcement/feature-announcement"),l=e("./stake/stake"),u=e("./swap-completed/swap-completed"),d=e("./lido-withdrawal-requested/lido-withdrawal-requested"),p=e("./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn"),m=e("./snap/snap");const{TRIGGER_TYPES:f}=a.NotificationServicesController.Constants;n.TRIGGER_TYPES=f;const g=n.NotificationComponents={[f.ERC20_SENT]:o.components,[f.ERC20_RECEIVED]:o.components,[f.ERC721_SENT]:i.components,[f.ERC721_RECEIVED]:i.components,[f.ERC1155_SENT]:r.components,[f.ERC1155_RECEIVED]:r.components,[f.ETH_SENT]:s.components,[f.ETH_RECEIVED]:s.components,[f.FEATURES_ANNOUNCEMENT]:c.components,[f.ROCKETPOOL_STAKE_COMPLETED]:l.components,[f.ROCKETPOOL_UNSTAKE_COMPLETED]:l.components,[f.LIDO_STAKE_COMPLETED]:l.components,[f.LIDO_WITHDRAWAL_COMPLETED]:l.components,[f.LIDO_WITHDRAWAL_REQUESTED]:d.components,[f.METAMASK_SWAP_COMPLETED]:u.components,[f.LIDO_STAKE_READY_TO_BE_WITHDRAWN]:p.components,[f.SNAP]:m.components};n.hasNotificationComponents=e=>e in g}}},{package:"$root$",file:"ui/pages/notifications/notification-components/index.ts"}],[7135,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../components/multichain"),l=e("../../../../../shared/lib/translate"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([f.LIDO_STAKE_READY_TO_BE_WITHDRAWN]),h=e=>{const t=(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0}),n=(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawnMessage",[`${t} ${e.data.staked_eth.symbol}`])||"";return(0,u.createTextItems)([n],d.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(c.NotificationListItem,{id:e.trigger_id,isRead:e.isRead,icon:{type:p.NotificationListItemIconType.Token,value:e.data.staked_eth.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawn")||""],d.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),onClick:t}),details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,l.t)("account")||"",address:e.address}):null,Status:()=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,l.t)("notificationItemStatus")||"",detail:(0,l.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",detail:e.data.staked_eth.symbol,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.staked_eth.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0})} ${e.data.staked_eth.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemStakingProvider")||"",detail:e.data.staked_eth.symbol})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn.tsx"}],[7136,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),l=e("../../../../components/multichain"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../../shared/lib/translate"),p=e("../../../../helpers/constants/design-system"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([f.LIDO_WITHDRAWAL_REQUESTED]),h=e=>{const t=(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0}),n=(0,d.t)("notificationItemLidoWithdrawalRequestedMessage",[`${t} ${e.data.stake_in.symbol}`])||"";return(0,u.createTextItems)([n],p.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(l.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:c.NotificationListItemIconType.Token,value:e.data.stake_in.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,d.t)("notificationItemUnStakingRequested")||""],p.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`,onClick:t}),details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:(0,d.t)("notificationItemUnStakingRequested")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,d.t)("account")||"",address:e.address}):null,Status:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:p.TextColor.successDefault,backgroundColor:p.BackgroundColor.successMuted},label:(0,d.t)("notificationItemStatus")||"",detail:(0,d.t)("notificationItemConfirmed")||"",action:o.default.createElement(l.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,d.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemUnStakingRequested")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,u.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemStakingProvider")||"",detail:"Lido-staked ETH"})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-withdrawal-requested/lido-withdrawal-requested.tsx"}],[7137,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOfTypeNodeGuard=void 0;n.isOfTypeNodeGuard=e=>t=>e.includes(t.type)}}},{package:"$root$",file:"ui/pages/notifications/notification-components/node-guard.ts"}],[7138,{"../../../../../shared/constants/metametrics":5259,"../../../../components/app/snaps/snap-link-warning":5686,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../contexts/metametrics":6421,"../../../../hooks/snaps/useSnapNavigation":6558,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapFooterButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("../../../../hooks/snaps/useSnapNavigation")),i=u(e("../../../../components/app/snaps/snap-link-warning")),r=e("../../../../components/multichain"),s=e("../../../../components/component-library"),c=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.SnapFooterButton=e=>{var t;const n=(0,a.useContext)(c.MetaMetricsContext),{useSnapNavigate:u}=(0,o.default)(),[d,p]=(0,a.useState)(!1),m=e.notification.data,f=null==m||null===(t=m.detailedView)||void 0===t?void 0:t.footerLink,g=(0,a.useCallback)(()=>{p(!1)},[]),h=(0,a.useCallback)((t,a)=>{n({category:l.MetaMetricsEventCategory.NotificationInteraction,event:l.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.notification.id,notification_type:e.notification.type,clicked_item:a?"external_link":"internal_link"}}),a?p(!0):u(t)},[u,e.notification.id,e.notification.type,n]);if(!f)return null;const{href:y,text:b}=f,E=!y.startsWith("metamask:");return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.default,{isOpen:d,onClose:g,url:y}),a.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,isExternal:E,text:b,onClick:()=>h(y,E)}))}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap-footer-button.tsx"}],[7139,{"../../../../components/app/snaps/snap-icon":5682,"../../../../components/app/snaps/snap-ui-markdown":5739,"../../../../components/app/snaps/snap-ui-renderer":5778,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../../../../helpers/utils/util":6514,"../../../../hooks/metamask-notifications/useNotifications":6545,"../../../../selectors":7345,"../node-guard":7137,"../types/notifications/notifications":7142,"./snap-footer-button":7138,"@metamask/notification-services-controller/notification-services":2042,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("@metamask/notification-services-controller/notification-services"),c=e("../../../../components/multichain"),l=e("../../../../selectors"),u=e("../../../../helpers/utils/util"),d=e("../types/notifications/notifications"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../components/app/snaps/snap-ui-renderer"),f=e("../../../../helpers/constants/design-system"),g=e("../../../../components/component-library"),h=e("../node-guard"),y=e("../../../../components/app/snaps/snap-icon"),b=e("../../../../hooks/metamask-notifications/useNotifications"),E=e("../../../../components/app/snaps/snap-ui-markdown"),C=e("./snap-footer-button");n.components={guardFn:(0,h.isOfTypeNodeGuard)([s.TRIGGER_TYPES.SNAP]),item:({notification:e,onClick:t})=>{const n=(0,r.useNavigate)(),a=(0,i.useSelector)(l.getSnapsMetadata),s=(0,u.getSnapName)(a),{markNotificationAsRead:d}=(0,b.useMarkNotificationAsRead)();return o.default.createElement(c.NotificationListItemSnap,{id:e.id,snapId:e.data.origin,isRead:e.isRead,createdAt:new Date(e.createdAt),title:{items:[{text:s(e.data.origin)}]},snapMessage:e.data.message,handleSnapClick:t,handleSnapButton:()=>{e.isRead||d([{id:e.id,type:e.type,isRead:e.isRead}]),n((0,u.getSnapRoute)(e.data.origin))}})},details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:e.data.detailedView.title,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:d.NotificationComponentType.SnapBody,Content:({notification:e})=>{const t=(0,i.useSelector)(l.getSnapsMetadata),n=(0,u.getSnapName)(t),a=e.data.origin;return o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Box,{display:f.Display.Flex,style:{borderBottom:"1px solid var(--color-border-muted)"},flexDirection:f.FlexDirection.Column,padding:[4,2,4,4]},o.default.createElement(g.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,paddingBottom:2},o.default.createElement(y.SnapIcon,{snapId:a,avatarSize:g.IconSize.Xl}),o.default.createElement(g.Text,{paddingLeft:4,fontWeight:f.FontWeight.Medium},n(a))),o.default.createElement(E.SnapUIMarkdown,{markdown:!0},e.data.message)),o.default.createElement(g.Box,{paddingLeft:1,paddingRight:1},o.default.createElement(m.SnapUIRenderer,{snapId:e.data.origin,interfaceId:e.data.detailedView.interfaceId,contentBackgroundColor:f.BackgroundColor.backgroundDefault})))}}},footer:{type:d.NotificationComponentType.SnapFooter,Link:C.SnapFooterButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap.tsx"}],[714,{"./CryptoECKey":708,"./CryptoHDKey":709,"./RegistryItem":716,"./RegistryType":717,"./lib/DataItem":725},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultiKey=void 0;const a=e("./CryptoECKey"),o=e("./CryptoHDKey"),i=e("./lib/DataItem"),r=e("./RegistryItem"),s=e("./RegistryType");var c;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(c||(c={}));class l extends r.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[c.threshold]=this.threshold;const t=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t});return e[c.keys]=t,new i.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(e=>e.getOutputDescriptorContent()).join(",")].join(",")}}n.MultiKey=l,l.fromDataItem=e=>{const t=e.getData(),n=t[c.threshold],i=t[c.keys],r=[];return i.forEach(e=>{e.getTag()===s.RegistryTypes.CRYPTO_HDKEY.getTag()?r.push(o.CryptoHDKey.fromDataItem(e)):e.getTag()===s.RegistryTypes.CRYPTO_ECKEY.getTag()&&r.push(a.CryptoECKey.fromDataItem(e))}),new l(n,r)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[7140,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,s.isOfTypeNodeGuard)([f.ROCKETPOOL_STAKE_COMPLETED,f.ROCKETPOOL_UNSTAKE_COMPLETED,f.LIDO_STAKE_COMPLETED,f.LIDO_WITHDRAWAL_COMPLETED]),h={[f.LIDO_STAKE_COMPLETED]:(0,r.t)("notificationItemStaked"),[f.LIDO_WITHDRAWAL_COMPLETED]:(0,r.t)("notificationItemUnStakeCompleted"),[f.ROCKETPOOL_STAKE_COMPLETED]:(0,r.t)("notificationItemStakeCompleted"),[f.ROCKETPOOL_UNSTAKE_COMPLETED]:(0,r.t)("notificationItemUnStakeCompleted")},y={[f.ROCKETPOOL_STAKE_COMPLETED]:"staked",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"unstaked",[f.LIDO_STAKE_COMPLETED]:"staked",[f.LIDO_WITHDRAWAL_COMPLETED]:"unstaked"},b={[f.LIDO_STAKE_COMPLETED]:"Lido-staked ETH",[f.LIDO_WITHDRAWAL_COMPLETED]:"Lido-staked ETH",[f.ROCKETPOOL_STAKE_COMPLETED]:"Rocket Pool-staked ETH",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"Rocket Pool-staked ETH"},E=e=>{const t=y[e.type];return(0,p.createTextItems)(["staked"===t?e.data.stake_out.symbol:e.data.stake_in.symbol],m.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>{const n=y[e.type],a="staked"===n?e.data.stake_in:e.data.stake_out,i=(0,p.getAmount)(a.amount,a.decimals,{shouldEllipse:!0});return o.default.createElement(l.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.stake_out.image,badge:{icon:d.IconName.Stake,position:d.BadgeWrapperPosition.bottomRight}},title:(r=e,(0,p.createTextItems)([h[r.type]||""],m.TextVariant.bodySm)),description:E(e),createdAt:new Date(e.createdAt),amount:`${i} ${"staked"===n?e.data.stake_in.symbol:e.data.stake_out.symbol}`,onClick:t});var r},details:{title:({notification:e})=>{const t="staked"===y[e.type]?`${(0,r.t)("notificationItemStaked")} ${e.data.stake_in.symbol}`:`${(0,r.t)("notificationItemUnStaked")} ${e.data.stake_in.symbol}`;return o.default.createElement(l.NotificationDetailTitle,{title:t,date:(0,p.formatIsoDateString)(e.createdAt)})},body:{type:c.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,r.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const t=y[e.type],{nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:n,position:d.BadgeWrapperPosition.topRight}},label:"staked"===t?(0,r.t)("notificationItemStaked")||"":(0,r.t)("notificationItemUnStaked")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,p.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,r.t)("notificationItemReceived")||"",detail:e.data.stake_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,e.data.stake_out.usd)}`,value:`${(0,p.getAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,{shouldEllipse:!0})} ${e.data.stake_out.symbol}`})},Status:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:o.default.createElement(l.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Provider:({notification:e})=>{const t=y[e.type],n=b[e.type];return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:"staked"===t?e.data.stake_out.image:e.data.stake_in.image}},label:(0,r.t)("notificationItemStakingProvider")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(l.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/stake/stake.tsx"}],[7141,{"../../../../../shared/lib/translate":5347,"../../../../components/component-library":5919,"../../../../components/multichain":6142,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6210,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/notification.util":6502,"../node-guard":7137,"../types/notifications/notifications":7142,"@metamask/notification-services-controller":2070,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../../shared/lib/translate"),l=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([f.METAMASK_SWAP_COMPLETED]),h=e=>(0,p.createTextItems)([e.data.token_out.symbol],m.TextVariant.bodyMd);n.components={guardFn:g,item:({notification:e,onClick:t})=>{return o.default.createElement(l.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.token_out.image,badge:{icon:d.IconName.SwapHorizontal,position:d.BadgeWrapperPosition.bottomRight}},title:(n=e,(0,p.createTextItems)([(0,c.t)("notificationItemSwapped")||"",n.data.token_in.symbol,(0,c.t)("notificationItemSwappedFor")||""],m.TextVariant.bodySm)),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:`${(0,c.t)("notificationItemSwapped")||""} ${e.data.token_out.symbol}`,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,c.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.token_in.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemSwapped")||"",detail:e.data.token_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_in.amount,e.data.token_in.decimals,e.data.token_in.usd)}`,value:`${(0,p.getAmount)(e.data.token_in.amount,e.data.token_in.decimals,{shouldEllipse:!0})} ${e.data.token_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.token_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemTo")||"",detail:e.data.token_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_out.amount,e.data.token_out.decimals,e.data.token_out.usd)}`,value:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`})},Status:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,c.t)("notificationItemStatus")||"",detail:(0,c.t)("notificationItemConfirmed")||"",action:o.default.createElement(l.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,c.t)("notificationItemTransactionId")||""})}),Network:({notification:e})=>{const{nativeCurrencyName:t,nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:n},label:(0,c.t)("notificationItemNetwork")||"",detail:t})},Rate:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:d.IconName.SwapHorizontal,color:m.TextColor.infoDefault,backgroundColor:m.BackgroundColor.infoMuted},label:(0,c.t)("notificationItemRate")||"",detail:`1 ${e.data.token_out.symbol}  ${(1/parseFloat(e.data.rate)).toFixed(5)} ${e.data.token_in.symbol}`}),NetworkFee:({notification:e})=>o.default.createElement(l.NotificationDetailNetworkFee,{notification:e})}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/swap-completed/swap-completed.tsx"}],[7142,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationComponentType=void 0;n.NotificationComponentType=function(e){return e.AnnouncementBody="body_feature_announcement",e.AnnouncementFooter="footer_feature_announcement",e.OnChainBody="body_onchain_notification",e.OnChainFooter="footer_onchain_notification",e.SnapBody="body_snap_notification",e.SnapFooter="footer_snap_notification",e}({})}}},{package:"$root$",file:"ui/pages/notifications/notification-components/types/notifications/notifications.ts"}],[7143,{"../../../shared/constants/metametrics":5259,"../../components/component-library":5919,"../../contexts/metametrics":6421,"../../helpers/constants/design-system":6458,"../../helpers/constants/routes":6463,"../../hooks/metamask-notifications/useNotifications":6545,"../../hooks/useNotificationTimeouts":6598,"./notification-components":7134,"@metamask/utils":2632,react:4789,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListItem=function({notification:e}){const t=(0,o.useNavigate)(),n=(0,a.useContext)(r.MetaMetricsContext),{setNotificationTimeout:f}=(0,p.useSnapNotificationTimeouts)(),{markNotificationAsRead:g}=(0,d.useMarkNotificationAsRead)(),h=(0,a.useCallback)(()=>{n({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.NotificationClicked,properties:{notification_id:e.id,notification_type:e.type,..."chain_id"in e&&{chain_id:e.chain_id},previously_read:e.isRead}}),g([{id:e.id,type:e.type,isRead:e.isRead}]),e.type!==m.TRIGGER_TYPES.SNAP||(0,i.hasProperty)(e.data,"detailedView")?t(`${u.NOTIFICATIONS_ROUTE}/${e.id}`):f(e.id)},[e,g,t]);if(!(0,m.hasNotificationComponents)(e.type))return null;const y=m.NotificationComponents[e.type];return a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,width:l.BlockSize.Full,"data-testid":`notification-list-item-${e.id}`},a.default.createElement(y.item,{notification:e,onClick:h}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("@metamask/utils"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),c=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),u=e("../../helpers/constants/routes"),d=e("../../hooks/metamask-notifications/useNotifications"),p=e("../../hooks/useNotificationTimeouts"),m=e("./notification-components");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-item.tsx"}],[7144,{"../../components/component-library":5919,"../../helpers/constants/design-system":6458,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPlaceholder=function({title:e,text:t}){return o.default.createElement(i.Box,{height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,flexDirection:r.FlexDirection.Column,gap:2,"data-testid":"notifications-list-placeholder"},o.default.createElement(i.Icon,{name:i.IconName.Notification,size:i.IconSize.Xl}),o.default.createElement(i.Text,{variant:r.TextVariant.headingSm},e),o.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center},t))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../components/component-library"),r=e("../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-placeholder.tsx"}],[7145,{"../../../shared/constants/metametrics":5259,"../../components/component-library":5919,"../../contexts/metametrics":6421,"../../helpers/constants/design-system":6458,"../../hooks/metamask-notifications/useNotifications":6545,"../../hooks/useI18nContext":6583,"../../hooks/useNotificationTimeouts":6598,"@metamask/notification-services-controller/notification-services":2042,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListReadAllButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/notification-services-controller/notification-services"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),c=e("../../hooks/metamask-notifications/useNotifications"),l=e("../../components/component-library"),u=e("../../helpers/constants/design-system"),d=e("../../hooks/useNotificationTimeouts");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.NotificationsListReadAllButton=({notifications:e})=>{const t=(0,s.useI18nContext)(),{markNotificationAsRead:n}=(0,c.useMarkNotificationAsRead)(),p=(0,a.useContext)(i.MetaMetricsContext),{setNotificationTimeout:m}=(0,d.useSnapNotificationTimeouts)();return a.default.createElement(l.Box,{paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,className:"notifications__list__read__all__button"},a.default.createElement(l.Button,{onClick:()=>{let t=[];e&&e.length>0&&(t=e.filter(e=>(null==e?void 0:e.id)!==undefined&&!e.isRead).map(e=>({id:e.id,type:e.type,isRead:e.isRead})),t.filter(e=>e.type===o.TRIGGER_TYPES.SNAP).forEach(e=>m(e.id))),p({category:r.MetaMetricsEventCategory.NotificationInteraction,event:r.MetaMetricsEventName.MarkAllNotificationsRead}),n(t)},variant:l.ButtonVariant.Primary,width:u.BlockSize.Full,"data-testid":"notifications-list-read-all-button"},t("notificationsMarkAllAsRead")))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-read-all-button.tsx"}],[7146,{"../../../shared/constants/metametrics":5259,"../../components/component-library":5919,"../../contexts/metamask-notifications/metamask-notifications":6419,"../../contexts/metametrics":6421,"../../helpers/constants/design-system":6458,"../../hooks/metamask-notifications/useNotifications":6545,"../../hooks/useI18nContext":6583,"../../selectors/metamask-notifications/metamask-notifications":7346,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListTurnOnNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("../../hooks/useI18nContext"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),c=e("../../hooks/metamask-notifications/useNotifications"),l=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../contexts/metamask-notifications/metamask-notifications"),d=e("../../components/component-library"),p=e("../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.NotificationsListTurnOnNotifications=()=>{const e=(0,i.useI18nContext)(),t=(0,a.useContext)(r.MetaMetricsContext),{listNotifications:n}=(0,u.useMetamaskNotificationsContext)(),{enableNotifications:m,error:f}=(0,c.useEnableNotifications)(),g=f,h=(0,o.useSelector)(l.getIsUpdatingMetamaskNotifications),[y,b]=(0,a.useState)(h||!1);(0,a.useEffect)(()=>{b(h)},[h]);const E=a.default.createElement(d.Text,{as:"a",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:p.TextColor.infoDefault},e("turnOnMetamaskNotificationsMessagePrivacyLink")),C=a.default.createElement(d.Text,{as:"span",fontWeight:p.FontWeight.Bold,key:"strong-text"},e("turnOnMetamaskNotificationsMessagePrivacyBold"));return a.default.createElement(d.Container,{maxWidth:d.ContainerMaxWidth.Sm,height:p.BlockSize.Full,margin:"auto",display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,gap:4,"data-testid":"notifications-list-turn-on-notifications",textAlign:p.TextAlign.Center,paddingLeft:4,paddingRight:4,paddingTop:4},a.default.createElement(d.Text,{variant:p.TextVariant.headingSm},e("metamaskNotificationsAreOff")),a.default.createElement(d.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:p.BlockSize.Full,borderRadius:p.BorderRadius.MD}),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageSecond",[E])),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageThird",[C])),a.default.createElement(d.Box,null,a.default.createElement(d.Button,{onClick:()=>(async()=>{await m(),t({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.EnablingNotifications}),g||h||n()})(),size:d.ButtonSize.Md,disabled:y,loading:y},e("turnOnMetamaskNotificationsButton")),g&&a.default.createElement(d.Text,{as:"p",color:p.TextColor.errorDefault},e("turnOnMetamaskNotificationsError"))))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-turn-on-notifications.tsx"}],[7147,{"../../components/component-library":5919,"../../components/ui/icon/preloader/preloader-icon.component":6336,"../../helpers/constants/design-system":6458,"../../hooks/useI18nContext":6583,"../../selectors/metamask-notifications/metamask-notifications":7346,"./notifications-list-item":7143,"./notifications-list-placeholder":7144,"./notifications-list-read-all-button":7145,"./notifications-list-turn-on-notifications":7146,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsList=function(e){return a.default.createElement(i.Box,{"data-testid":"notifications-list",height:r.BlockSize.Full,width:r.BlockSize.Full,className:"notifications__list"},a.default.createElement(C,e),e.notifications.length>0&&e.notificationsCount>0?a.default.createElement(m.NotificationsListReadAllButton,{notifications:e.notifications}):null)},n.TAB_KEYS=void 0;var a=f(e("react")),o=e("react-redux"),i=e("../../components/component-library"),r=e("../../helpers/constants/design-system"),s=f(e("../../components/ui/icon/preloader/preloader-icon.component")),c=e("../../selectors/metamask-notifications/metamask-notifications"),l=e("../../hooks/useI18nContext"),u=e("./notifications-list-placeholder"),d=e("./notifications-list-turn-on-notifications"),p=e("./notifications-list-item"),m=e("./notifications-list-read-all-button");function f(e){return e&&e.__esModule?e:{default:e}}let g=n.TAB_KEYS=function(e){return e.ALL="notifications-all-tab",e.WALLET="notifications-wallet-tab",e.WEB3="notifications-other-tab",e}({});function h(){return a.default.createElement(i.Box,{height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,flexDirection:r.FlexDirection.Column,"data-testid":"notifications-list-loading"},a.default.createElement(s.default,{size:36}))}function y(){const e=(0,l.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageEmptyTitle"),text:e("notificationsPageNoNotificationsContent")})}function b(){const e=(0,l.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageErrorTitle"),text:e("notificationsPageErrorContent")})}function E(e){const{notification:t}=e;return a.default.createElement(p.NotificationsListItem,{notification:t})}function C({activeTab:e,notifications:t,isLoading:n,isError:i}){const r=(0,o.useSelector)(c.selectIsMetamaskNotificationsEnabled);return e!==g.WALLET||r?n?a.default.createElement(h,null):i?a.default.createElement(b,null):0===t.length?a.default.createElement(y,null):a.default.createElement(a.default.Fragment,null,t.map(e=>a.default.createElement(E,{key:e.id,notification:e}))):a.default.createElement(d.NotificationsListTurnOnNotifications,null)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list.tsx"}],[7148,{"../../components/component-library":5919,"../../components/multichain":6142,"../../components/multichain/pages/page":6237,"../../components/ui/tabs":6390,"../../contexts/metamask-notifications/metamask-notifications":6419,"../../helpers/constants/design-system":6458,"../../helpers/constants/routes":6463,"../../hooks/metamask-notifications/useCounter":6544,"../../hooks/useI18nContext":6583,"../../selectors":7345,"../../selectors/metamask-notifications/metamask-notifications":7346,"../../store/actions":7369,"./NewFeatureTag":7126,"./notifications-list":7147,"@metamask/notification-services-controller":2070,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useNavigate)(),t=(0,s.useI18nContext)(),n=(0,o.useDispatch)(),{isLoading:r,error:h}=(0,m.useMetamaskNotificationsContext)(),[k,v]=(0,a.useState)(E.TAB_KEYS.ALL),T=_(),{notificationsUnreadCount:w}=(0,f.useUnreadNotificationsCounter)(),I=(0,a.useMemo)(()=>x(k,T),[k,T]);let S=!1;return S=(0,o.useSelector)(g.getNotifySnaps).length>0,(0,a.useEffect)(()=>{n((0,b.deleteExpiredNotifications)())},[n]),a.default.createElement(d.NotificationsPage,null,a.default.createElement(p.Header,{startAccessory:a.default.createElement(c.ButtonIcon,{ariaLabel:"Back",iconName:c.IconName.ArrowLeft,size:c.ButtonIconSize.Sm,onClick:()=>{e(u.DEFAULT_ROUTE)},"data-testid":"back-button"}),endAccessory:a.default.createElement(c.ButtonIcon,{ariaLabel:"Notifications Settings",iconName:c.IconName.Setting,size:c.ButtonIconSize.Sm,onClick:()=>{e(u.NOTIFICATIONS_SETTINGS_ROUTE)},"data-testid":"notifications-settings-button"}),marginBottom:0},t("notifications")),a.default.createElement(p.Content,{padding:0},S&&a.default.createElement(l.Tabs,{defaultActiveTabKey:k,onTabClick:e=>v(e),tabsClassName:"notifications__tabs"},a.default.createElement(l.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":E.TAB_KEYS.ALL,name:t("all"),tabKey:E.TAB_KEYS.ALL}),a.default.createElement(l.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":E.TAB_KEYS.WALLET,name:a.default.createElement(c.Box,{display:y.Display.Flex,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center,gap:2},t("wallet"),a.default.createElement(C.NewFeatureTag,null)),tabKey:E.TAB_KEYS.WALLET}),a.default.createElement(l.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":E.TAB_KEYS.WEB3,name:t("web3"),tabKey:E.TAB_KEYS.WEB3})),a.default.createElement(E.NotificationsList,{activeTab:k,notifications:I,isLoading:r,isError:Boolean(h),notificationsCount:w})))},n.filterNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=e("@metamask/notification-services-controller"),s=e("../../hooks/useI18nContext"),c=e("../../components/component-library"),l=e("../../components/ui/tabs"),u=e("../../helpers/constants/routes"),d=e("../../components/multichain"),p=e("../../components/multichain/pages/page"),m=e("../../contexts/metamask-notifications/metamask-notifications"),f=e("../../hooks/metamask-notifications/useCounter"),g=e("../../selectors"),h=e("../../selectors/metamask-notifications/metamask-notifications"),y=e("../../helpers/constants/design-system"),b=e("../../store/actions"),E=e("./notifications-list"),C=e("./NewFeatureTag");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const{TRIGGER_TYPES:v,TRIGGER_TYPES_WALLET_SET:T}=r.NotificationServicesController.Constants,_=()=>{const{featureAnnouncementNotifications:e,walletNotifications:t,snapNotifications:n}=(()=>{const e=(0,o.useSelector)(h.selectIsFeatureAnnouncementsEnabled),t=(0,o.useSelector)(h.selectIsMetamaskNotificationsEnabled),n=(0,o.useSelector)(h.getMetamaskNotifications);return{featureAnnouncementNotifications:(0,a.useMemo)(()=>e?(n??[]).filter(e=>e.type===v.FEATURES_ANNOUNCEMENT):[],[e,n]),walletNotifications:(0,a.useMemo)(()=>t?(n??[]).filter(e=>e.type!==v.FEATURES_ANNOUNCEMENT&&e.type!==v.SNAP):[],[t,n]),snapNotifications:(0,a.useMemo)(()=>(n??[]).filter(e=>e.type===v.SNAP),[n])}})();return(0,a.useMemo)(()=>[...n,...e,...t].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),[n,e,t])},x=(e,t)=>e===E.TAB_KEYS.ALL?t:e===E.TAB_KEYS.WALLET?t.filter(e=>T.has(e.type)||e.type===v.FEATURES_ANNOUNCEMENT):e===E.TAB_KEYS.WEB3?t.filter(e=>e.type===v.SNAP):t;n.filterNotifications=x}}},{package:"$root$",file:"ui/pages/notifications/notifications.tsx"}],[7149,{"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/onboarding":5265,"../../../../shared/lib/trace":5342,"../../../components/component-library":5919,"../../../components/component-library/button":5900,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../store/actions":7369,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,i.useDispatch)(),n=(0,l.useI18nContext)(),y=(0,i.useSelector)(d.getFirstTimeFlowType),b=(0,i.useSelector)(d.getSocialLoginEmail),E=(0,i.useSelector)(d.getSocialLoginType),C=(0,a.useContext)(f.MetaMetricsContext),{bufferedTrace:k,bufferedEndTrace:v,onboardingParentContext:T}=C;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialCreate&&e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0}),y===p.FirstTimeFlowType.socialCreate&&(C({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.AccountAlreadyExistsPageViewed}),null==k||k({name:h.TraceName.OnboardingNewSocialAccountExists,op:h.TraceOperation.OnboardingUserJourney,parentContext:null==T?void 0:T.current})),()=>{y===p.FirstTimeFlowType.socialCreate&&(null==v||v({name:h.TraceName.OnboardingNewSocialAccountExists}))}),[y,e,T,k,v,C]),a.default.createElement(c.Box,{className:"account-exist","data-testid":"account-exist",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6},a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(c.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountAlreadyExistsTitle")),a.default.createElement(c.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountAlreadyExistsTitle"),style:{alignSelf:"center"}})),a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountAlreadyExistsLoginDescription",[b||"-"])))),a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(r.Button,{"data-testid":"onboarding-complete-done",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{C({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${g.MetaMetricsEventAccountType.Imported}_${E}`}}),null==k||k({name:h.TraceName.OnboardingExistingSocialLogin,op:h.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==T?void 0:T.current}),await t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialImport)),e(u.ONBOARDING_UNLOCK_ROUTE,{replace:!0})}},n("accountAlreadyExistsLogin")),a.default.createElement(r.Button,{"data-testid":"account-exist-login-with-different-method",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async n=>{n.preventDefault(),await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/lib/trace");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-exist/account-exist.tsx"}],[715,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PathComponent=void 0;class a{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&0!==(this.index&a.HARDENED_BIT))throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}n.PathComponent=a,a.HARDENED_BIT=2147483648}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[7150,{"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/onboarding":5265,"../../../../shared/lib/trace":5342,"../../../components/component-library":5919,"../../../components/component-library/button":5900,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../store/actions":7369,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,i.useDispatch)(),n=(0,l.useI18nContext)(),y=(0,i.useSelector)(d.getFirstTimeFlowType),b=(0,i.useSelector)(d.getSocialLoginEmail),E=(0,i.useSelector)(d.getSocialLoginType),C=(0,a.useContext)(h.MetaMetricsContext),{bufferedTrace:k,bufferedEndTrace:v,onboardingParentContext:T}=C;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialImport&&e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0}),y===p.FirstTimeFlowType.socialImport&&(C({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.AccountNotFoundPageViewed}),null==k||k({name:g.TraceName.OnboardingExistingSocialAccountNotFound,op:g.TraceOperation.OnboardingUserJourney,parentContext:null==T?void 0:T.current})),()=>{y===p.FirstTimeFlowType.socialImport&&(null==v||v({name:g.TraceName.OnboardingExistingSocialAccountNotFound}))}),[y,e,T,k,v,C]),a.default.createElement(c.Box,{className:"account-not-found","data-testid":"account-not-found",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,gap:6,height:s.BlockSize.Full},a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(c.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountNotFoundTitle")),a.default.createElement(c.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountNotFoundTitle"),style:{alignSelf:"center"}})),a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountNotFoundDescription",[b||"-"])))),a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(r.Button,{"data-testid":"onboarding-complete-done",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:()=>{C({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${E}`}}),null==k||k({name:g.TraceName.OnboardingNewSocialCreateWallet,op:g.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==T?void 0:T.current}),t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialCreate)),e(u.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})}},n("accountNotFoundCreateOne")),a.default.createElement(r.Button,{"data-testid":"account-exist-login-with-different-method",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/lib/trace"),h=e("../../../contexts/metametrics");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-not-found/account-not-found.tsx"}],[7151,{"../../../../shared/constants/app":5244,"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/onboarding":5265,"../../../../shared/lib/trace":5342,"../../../../shared/modules/browser-runtime.utils":5351,"../../../../shared/modules/environment":5355,"../../../components/app/password-form/password-form":5626,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../helpers/constants/zendesk-url":6470,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../store/actions":7369,buffer:3590,"prop-types":4605,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=v(e("prop-types")),i=e("react-router-dom-v5-compat"),r=e("react-redux"),s=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),u=v(e("../../../helpers/constants/zendesk-url")),d=e("../../../selectors"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../components/component-library"),g=e("../../../../shared/constants/onboarding"),h=v(e("../../../components/app/password-form/password-form")),y=e("../../../../shared/constants/app"),b=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../store/actions"),C=e("../../../../shared/modules/environment"),k=e("../../../../shared/lib/trace");function v(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const _=(0,b.getBrowserName)()===y.PLATFORM_FIREFOX;function x({createNewAccount:e,importWithRecoveryPhrase:n,secretRecoveryPhrase:o}){const y=(0,s.useI18nContext)(),[b,v]=(0,a.useState)(""),[T,x]=(0,a.useState)(!1),[w,I]=(0,a.useState)(!1),S=(0,i.useNavigate)(),O=(0,r.useDispatch)(),N=(0,r.useSelector)(d.getFirstTimeFlowType),M=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:A,bufferedEndTrace:B,onboardingParentContext:R}=M,D=(0,r.useSelector)(d.getCurrentKeyring),P=(0,C.getIsSeedlessOnboardingFeatureEnabled)(),F=(0,r.useSelector)(d.getIsSocialLoginFlow),L=(0,r.useSelector)(d.getSocialLoginType),j=(0,r.useSelector)(d.getParticipateInMetaMetrics),W=(0,r.useSelector)(d.getIsParticipateInMetaMetricsSet),U=(0,r.useSelector)(d.getMetaMetricsId),$=t.from(U??"").toString("base64"),z=Boolean(j&&$),V=`https://start.metamask.io/?${new URLSearchParams({mmi:$,env:"production"})}`;(0,a.useEffect)(()=>{D&&!w?N===g.FirstTimeFlowType.import||N===g.FirstTimeFlowType.socialImport?S(W?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0}):N===g.FirstTimeFlowType.socialCreate?S(_?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0}):S(l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,{replace:!0}):N!==g.FirstTimeFlowType.import||o||S(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0})},[D,S,N,w,o,W]);const G=(e,t=!1)=>{if(t&&L){return`${e}_${String(L).toLowerCase()}`}return e};(0,a.useEffect)(()=>(null==A||A({name:k.TraceName.OnboardingPasswordSetupAttempt,op:k.TraceOperation.OnboardingUserJourney,parentContext:null==R?void 0:R.current}),()=>{null==B||B({name:k.TraceName.OnboardingPasswordSetupAttempt})}),[R,A,B]);const q=a.default.createElement("a",{onClick:e=>{e.stopPropagation(),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"create_password",url:u.default.PASSWORD_ARTICLE}})},key:"create-password__link-text",href:u.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},a.default.createElement("span",{className:"create-password__link-text"},y("learnMoreUpperCaseWithDot"))),K=y(F?"createPasswordMarketing":"passwordTermsWarning");return a.default.createElement(f.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:4,as:"form",className:"create-password","data-testid":"create-password",onSubmit:async t=>{if(null==t||t.preventDefault(),b)try{o&&N===g.FirstTimeFlowType.import?await(async()=>{M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportAttempted}),await n(b,o),null==B||B({name:k.TraceName.OnboardingExistingSrpImport}),null==B||B({name:k.TraceName.OnboardingJourneyOverall}),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImported,properties:{biometrics_enabled:!1}}),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"import",new_wallet:!1,account_type:G(m.MetaMetricsEventAccountType.Imported,F)}}),S(_?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0})})():await(async()=>{M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreationAttempted,properties:{account_type:G(m.MetaMetricsEventAccountType.Default,F)}}),e&&(I(!0),await e(b)),F&&(null==B||B({name:k.TraceName.OnboardingNewSocialCreateWallet}),null==B||B({name:k.TraceName.OnboardingJourneyOverall})),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreated,properties:{biometrics_enabled:!1,account_type:G(m.MetaMetricsEventAccountType.Default,F)}}),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"new",new_wallet:!0,account_type:G(m.MetaMetricsEventAccountType.Default,F)}}),P&&F?(T&&(O((0,E.setMarketingConsent)(!0)),O((0,E.setDataCollectionForMarketing)(!0))),S(l.ONBOARDING_COMPLETION_ROUTE,{replace:!0})):S(l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,{replace:!0})})()}catch(e){(e=>{const t=e instanceof Error?e.message:"Unknown error";null==A||A({name:k.TraceName.OnboardingPasswordSetupError,op:k.TraceOperation.OnboardingUserJourney,parentContext:R.current,tags:{errorMessage:t}}),null==B||B({name:k.TraceName.OnboardingPasswordSetupError}),console.error(e)})(e),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupFailure})}}},a.default.createElement(f.Box,null,a.default.createElement(f.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},a.default.createElement(f.ButtonIcon,{iconName:f.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:f.ButtonIconSize.Md,"data-testid":"create-password-back-button",type:"button",onClick:async e=>{e.preventDefault(),await O((0,E.resetOnboarding)()),await(0,E.forceUpdateMetamaskState)(O),N===g.FirstTimeFlowType.import?S(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0}):S(l.ONBOARDING_WELCOME_ROUTE,{replace:!0})},ariaLabel:y("back")})),a.default.createElement(f.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},!F&&a.default.createElement(f.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},y("stepOf",[N===g.FirstTimeFlowType.import?2:1,N===g.FirstTimeFlowType.import?2:3])),a.default.createElement(f.Text,{variant:c.TextVariant.headingLg,as:"h2"},y("createPassword")),F?a.default.createElement(f.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,as:"h2"},y("createPasswordDetailsSocial"),a.default.createElement(f.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.warningDefault,as:"span"},y("createPasswordDetailsSocialReset"))):a.default.createElement(f.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,as:"h2"},y("createPasswordDetails"))),a.default.createElement(h.default,{onChange:e=>v(e)}),a.default.createElement(f.Box,{className:"create-password__terms-container",alignItems:F?c.AlignItems.center:c.AlignItems.flexStart,justifyContent:c.JustifyContent.spaceBetween,marginTop:6,backgroundColor:F?c.BackgroundColor.backgroundMuted:c.BackgroundColor.backgroundDefault,padding:F?3:0,borderRadius:c.BorderRadius.LG},a.default.createElement(f.Checkbox,{inputProps:{"data-testid":"create-password-terms"},alignItems:c.AlignItems.flexStart,isChecked:T,onChange:()=>{x(!T)},label:a.default.createElement(f.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},K," ",!F&&q)}))),a.default.createElement(f.Box,null,a.default.createElement(f.Button,{"data-testid":"create-password-submit",variant:f.ButtonVariant.Primary,width:c.BlockSize.Full,size:f.ButtonSize.Lg,className:"create-password__form--submit-button",disabled:!b||!F&&!T},y("createPasswordCreate"))),z?a.default.createElement("iframe",{src:V,className:"create-password__analytics-iframe","data-testid":"create-password-iframe"}):null)}x.propTypes={createNewAccount:o.default.func,importWithRecoveryPhrase:o.default.func,secretRecoveryPhrase:o.default.string}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/pages/onboarding-flow/create-password/create-password.js"}],[7152,{"../../../components/component-library":5919,"../../../components/component-library/button":5900,"../../../components/component-library/lottie-animation":5925,"../../../ducks/metamask/metamask":6445,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,lodash:4362,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,u.useI18nContext)(),{search:n}=(0,o.useLocation)(),g=(0,i.useSelector)(m.getIsPrimarySeedPhraseBackedUp),h=(0,i.useSelector)(p.getSocialLoginType),y=new URLSearchParams(n),b=y.get("isFromReminder"),E=y.get("isFromSettingsSecurity"),C=(0,a.useMemo)(()=>t(g?b?"yourWalletIsReadyFromReminder":"yourWalletIsReady":"yourWalletIsReadyRemind"),[b,g,t]),k=(0,a.useMemo)(()=>h?t("walletReadySocialDetails1",[(0,r.capitalize)(h)]):t(g?b?"walletReadyLoseSrpFromReminder":"walletReadyLoseSrp":"walletReadyLoseSrpRemind"),[h,g,t,b]),v=(0,a.useMemo)(()=>h?t("walletReadySocialDetails2"):g||b?t("walletReadyLearn",[a.default.createElement(l.ButtonLink,{key:"walletReadyLearn",size:l.ButtonLinkSize.Inherit,textProps:{variant:c.TextVariant.bodyMd,alignItems:c.AlignItems.flexStart},as:"a",href:"https://support.metamask.io/stay-safe/safety-in-web3/basic-safety-and-security-tips-for-metamask/",target:"_blank",rel:"noopener noreferrer"},t("learnHow"))]):t("walletReadyLearnRemind"),[h,g,b,t]),T=(0,a.useMemo)(()=>a.default.createElement(f.LottieAnimation,{path:"images/animations/fox/celebrating.lottie.json",loop:!0,autoplay:!0}),[g,b]),_=(0,a.useCallback)(()=>{e(b?E?d.SECURITY_ROUTE:d.DEFAULT_ROUTE:d.ONBOARDING_DOWNLOAD_APP_ROUTE)},[e,b,E]);return a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:6,className:"creation-successful","data-testid":"wallet-ready"},a.default.createElement(l.Box,null,a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.flexStart},a.default.createElement(l.Text,{variant:c.TextVariant.headingLg,as:"h2",justifyContent:c.JustifyContent.center,style:{alignSelf:c.AlignItems.flexStart},marginBottom:4},C),a.default.createElement(l.Box,{width:c.BlockSize.Full,display:c.Display.Flex,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,marginBottom:6},a.default.createElement(l.Box,{display:c.Display.Flex,style:{width:"144px",height:"144px"}},T)),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,marginBottom:6},k),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,marginBottom:6},v)),!b&&a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexStart,className:"creation-successful__settings-actions",gap:4},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,"data-testid":"manage-default-settings",borderRadius:c.BorderRadius.LG,width:c.BlockSize.Full,onClick:()=>e(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE)},a.default.createElement(l.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center},a.default.createElement(l.Icon,{name:l.IconName.Setting,size:l.IconSize.Md,marginInlineEnd:3}),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t("manageDefaultSettings"))),a.default.createElement(l.Icon,{name:l.IconName.ArrowRight,color:c.IconColor.iconAlternative,size:l.IconSize.Sm})))),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},a.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:c.BlockSize.Full,onClick:_},t("done"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("lodash"),s=e("../../../components/component-library/button"),c=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../ducks/metamask/metamask"),f=e("../../../components/component-library/lottie-animation");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/creation-successful.js"}],[7153,{"../../../components/component-library":5919,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useI18nContext)(),t=(0,o.useNavigate)(),n=(0,i.useSelector)(u.getCurrentKeyring);return(0,a.useEffect)(()=>{n||t(c.ONBOARDING_WELCOME_ROUTE,{replace:!0})},[n,t]),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,height:s.BlockSize.Full,gap:6,className:"onboarding-download-app","data-testid":"onboarding-download-app"},a.default.createElement(l.Box,null,a.default.createElement(l.Text,{variant:s.TextVariant.headingLg,marginBottom:4},e("downloadAppTitle")),a.default.createElement(l.Box,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,justifyContent:s.JustifyContent.center,marginBottom:4},a.default.createElement("img",{src:"/images/onboarding-download-app.png",alt:"Download the app"})),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd},e("downloadAppDescription"))),a.default.createElement(l.Box,null,a.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,"data-testid":"download-app-continue",onClick:async()=>{t(c.ONBOARDING_PIN_EXTENSION_ROUTE)}},e("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),l=e("../../../components/component-library"),u=e("../../../selectors");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/download-app/download-app.tsx"}],[7154,{"../../../../shared/constants/metametrics":5259,"../../../components/app/srp-details-modal":5790,"../../../components/app/srp-input-import":5792,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../selectors/selectors":7361,"@ethersproject/hdnode":606,"prop-types":4605,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=b(e("prop-types")),s=e("@ethersproject/hdnode"),c=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),u=e("../../../hooks/useI18nContext"),d=b(e("../../../components/app/srp-input-import")),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../selectors/selectors"),h=e("../../../components/component-library"),y=b(e("../../../components/app/srp-details-modal"));function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const C=e=>e!==e.toLowerCase();function k({submitSecretRecoveryPhrase:e}){const[t,n]=(0,a.useState)(""),[r,b]=(0,a.useState)(!1),[E,k]=(0,a.useState)(""),v=(0,o.useNavigate)(),T=(0,i.useSelector)(g.getHDEntropyIndex),_=(0,u.useI18nContext)(),x=(0,i.useSelector)(p.getCurrentKeyring);(0,a.useEffect)(()=>{x&&v(l.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})},[x,v]);const w=(0,a.useContext)(m.MetaMetricsContext),I=(0,a.useCallback)(()=>{w({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),b(!0)},[w]),S=(0,a.useCallback)(()=>{let n="";!C(t)&&(0,s.isValidMnemonic)(t)||(n=_("invalidSeedPhraseNotFound")),k(n),n||(e(t),w({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:T}}),v(l.ONBOARDING_CREATE_PASSWORD_ROUTE))},[t,_,T,w,v,e]);return(0,a.useEffect)(()=>{k("")},[t]),a.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:4,className:"import-srp","data-testid":"import-srp"},r&&a.default.createElement(y.default,{onClose:()=>b(!1)}),a.default.createElement(h.Box,null,a.default.createElement(h.Box,{marginBottom:4},a.default.createElement(h.ButtonIcon,{iconName:h.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:h.ButtonIconSize.Md,"data-testid":"import-srp-back-button",onClick:()=>{v(l.ONBOARDING_WELCOME_ROUTE,{replace:!0})},ariaLabel:_("back")})),a.default.createElement(h.Box,{textAlign:c.TextAlign.Left},a.default.createElement(h.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},_("stepOf",[1,2]))),a.default.createElement(h.Box,{textAlign:c.TextAlign.Left,marginBottom:2},a.default.createElement(h.Text,{variant:c.TextVariant.headingLg},_("importAWallet"))),a.default.createElement(h.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,marginBottom:4},a.default.createElement(h.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},_("typeYourSRP")),a.default.createElement(h.ButtonIcon,{iconName:h.IconName.Info,size:h.ButtonIconSize.Sm,color:c.IconColor.iconAlternative,onClick:I,ariaLabel:"info"})),a.default.createElement(h.Box,{width:c.BlockSize.Full},a.default.createElement("form",{onSubmit:e=>e.preventDefault()},a.default.createElement(d.default,{onChange:n}),E&&a.default.createElement(h.Box,{marginTop:2},a.default.createElement(h.Text,{"data-testid":"import-srp-error",variant:c.TextVariant.bodySm,color:c.TextColor.errorDefault},E))))),a.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,textAlign:c.TextAlign.Left},a.default.createElement(h.Button,{width:c.BlockSize.Full,size:h.ButtonSize.Lg,type:"primary","data-testid":"import-srp-confirm",onClick:S,disabled:!t.trim()||Boolean(E)},_("continue"))))}k.propTypes={submitSecretRecoveryPhrase:r.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/import-srp/import-srp.js"}],[7155,{"../../../../shared/constants/app":5244,"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/onboarding":5265,"../../../../shared/modules/browser-runtime.utils":5351,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../store/actions":7369,loglevel:4370,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,l.useI18nContext)(),t=(0,i.useDispatch)(),n=(0,r.useNavigate)(),a=(0,i.useSelector)(d.getFirstTimeFlowType),m=(0,i.useSelector)(d.getDataCollectionForMarketing),b=(0,i.useSelector)(d.getCurrentKeyring),C=(0,o.useContext)(g.MetaMetricsContext);let k=(0,i.useSelector)(d.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn);E&&a!==y.FirstTimeFlowType.restore&&(k=b&&a===y.FirstTimeFlowType.socialCreate?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_WELCOME_ROUTE);return o.default.createElement("div",{className:"onboarding-metametrics","data-testid":"onboarding-metametrics"},o.default.createElement(h.Text,{variant:c.TextVariant.headingLg,textAlign:c.TextAlign.Left,fontWeight:c.FontWeight.Bold,marginBottom:4},e("onboardingMetametricsTitle")),o.default.createElement(h.Text,{className:"onboarding-metametrics__desc",textAlign:c.TextAlign.Left},e("onboardingMetametricsDescription")),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:c.IconColor.successDefault}),o.default.createElement(h.Text,{color:c.TextColor.textAlternative},e("onboardingMetametricsNeverCollect",[o.default.createElement(h.Text,{variant:c.TextVariant.inherit,key:"never",fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault,marginTop:0},e("onboardingMetametricsNeverCollectEmphasis"))])))),o.default.createElement("li",null,o.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:c.IconColor.successDefault}),o.default.createElement(h.Text,{color:c.TextColor.textAlternative},e("onboardingMetametricsNeverCollectIP",[o.default.createElement(h.Text,{variant:c.TextVariant.inherit,key:"never-collect",fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault},e("onboardingMetametricsNeverCollectIPEmphasis"))])))),o.default.createElement("li",null,o.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:c.IconColor.successDefault}),o.default.createElement(h.Text,{color:c.TextColor.textAlternative},e("onboardingMetametricsNeverSellData",[o.default.createElement(h.Text,{variant:c.TextVariant.inherit,key:"never-sell",fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault},e("onboardingMetametricsNeverSellDataEmphasis"))]))))),o.default.createElement(h.Checkbox,{id:"metametrics-opt-in","data-testid":"metametrics-data-collection-checkbox",isChecked:m,onClick:()=>t((0,u.setDataCollectionForMarketing)(!m)),label:o.default.createElement(h.Text,{fontWeight:c.FontWeight.Medium},e("onboardingMetametricsUseDataCheckbox")),paddingBottom:3,alignItems:c.AlignItems.flexStart}),o.default.createElement(h.Text,{color:c.TextColor.textAlternative,textAlign:c.TextAlign.Left,variant:c.TextVariant.bodySm,paddingTop:4,className:"onboarding-metametrics__terms"},e("onboardingMetametricsInfuraTerms",[o.default.createElement("a",{href:E?"https://addons.mozilla.org/en-CA/firefox/addon/ether-metamask/privacy/":"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link"},e("onboardingMetametricsInfuraTermsPolicy"))])),o.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,width:c.BlockSize.Full,className:"onboarding-metametrics__buttons",marginTop:6,gap:4},o.default.createElement(h.Button,{"data-testid":"metametrics-no-thanks",variant:h.ButtonVariant.Secondary,size:h.ButtonSize.Lg,width:c.BlockSize.Full,onClick:async e=>{e.preventDefault(),await t((0,u.setParticipateInMetaMetrics)(!1)),await t((0,u.setDataCollectionForMarketing)(!1)),n(k)}},e("noThanks")),o.default.createElement(h.Button,{"data-testid":"metametrics-i-agree",size:h.ButtonSize.Lg,width:c.BlockSize.Full,onClick:async e=>{e.preventDefault(),await t((0,u.setDataCollectionForMarketing)(Boolean(m))),await t((0,u.setParticipateInMetaMetrics)(!0));try{await C({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AppInstalled}),await C({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(m),location:"onboarding_metametrics"}})}catch(e){s.default.error("onConfirm::error",e)}finally{n(k)}}},e("onboardingMetametricsAgree"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../selectors"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/constants/app"),f=e("../../../helpers/constants/routes"),g=e("../../../contexts/metametrics"),h=e("../../../components/component-library"),y=e("../../../../shared/constants/onboarding");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const E=(0,e("../../../../shared/modules/browser-runtime.utils").getBrowserName)()===m.PLATFORM_FIREFOX}}},{package:"$root$",file:"ui/pages/onboarding-flow/metametrics/metametrics.js"}],[7156,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/preferences":5267,"../../../components/component-library":5919,"../../../components/ui/dropdown":6316,"../../../components/ui/metafox-logo":6361,"../../../ducks/locale/locale":6444,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../store/actions":7369,classnames:3623,"prop-types":4605,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=y(e("react")),o=y(e("prop-types")),i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=y(e("classnames")),c=y(e("../../../components/ui/metafox-logo")),l=y(e("../../../components/ui/dropdown")),u=e("../../../ducks/locale/locale"),d=e("../../../store/actions"),p=y(e("../../../../app/_locales/index.json")),m=e("../../../helpers/constants/routes"),f=e("../../../components/component-library"),g=e("../../../helpers/constants/design-system"),h=e("../../../../shared/constants/preferences");function y(e){return e&&e.__esModule?e:{default:e}}function b({isWelcomePage:e}){const t=(0,i.useDispatch)(),{pathname:n}=(0,r.useLocation)(),o=(0,i.useSelector)(u.getCurrentLocale),y=p.default.map(e=>({name:e.name,value:e.code}));return a.default.createElement(f.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,padding:4,className:(0,s.default)("onboarding-app-header",{"onboarding-app-header--welcome":e})},a.default.createElement(f.Box,{display:g.Display.Flex,width:g.BlockSize.Full,justifyContent:g.JustifyContent.spaceBetween,className:"onboarding-app-header__contents"},a.default.createElement(c.default,{theme:n===m.ONBOARDING_WELCOME_ROUTE?h.ThemeType.light:undefined,unsetIconHeight:!0,isOnboarding:!0}),a.default.createElement(l.default,{"data-testid":"select-locale",className:(0,s.default)("onboarding-app-header__dropdown",{"onboarding-app-header__dropdown--welcome--login":e}),options:y,selectedOption:o,onChange:async e=>t((0,d.updateCurrentLocale)(e))})))}b.propTypes={isWelcomePage:o.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-app-header/onboarding-app-header.js"}],[7157,{"../../../../shared/constants/app":5244,"../../../../shared/constants/onboarding":5265,"../../../../shared/modules/browser-runtime.utils":5351,"../../../ducks/metamask/metamask":6445,"../../../helpers/constants/routes":6463,"../../../selectors":7345,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useSelector)(c.getCompletedOnboarding),t=(0,i.useSelector)(c.getIsInitialized),n=(0,i.useSelector)(d.getIsSocialLoginUserAuthenticated),a=(0,i.useSelector)(c.getSeedPhraseBackedUp),m=(0,i.useSelector)(d.getFirstTimeFlowType),f=(0,i.useSelector)(d.getIsSocialLoginFlow),g=(0,i.useSelector)(c.getIsUnlocked),h=(0,i.useSelector)(d.getIsParticipateInMetaMetricsSet);if(e)return o.default.createElement(r.Navigate,{to:s.DEFAULT_ROUTE,replace:!0});if(null!==a||g&&f)return o.default.createElement(r.Navigate,{to:h?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS,replace:!0});if(g)return o.default.createElement(r.Navigate,{to:s.LOCK_ROUTE,replace:!0});if(!t&&!n){let e;return e=(0,u.getBrowserName)()===l.PLATFORM_FIREFOX?o.default.createElement(r.Navigate,{to:s.ONBOARDING_METAMETRICS,replace:!0}):o.default.createElement(r.Navigate,{to:s.ONBOARDING_WELCOME_ROUTE,replace:!0}),e}if(!t&&n&&m===p.FirstTimeFlowType.socialCreate)return o.default.createElement(r.Navigate,{to:s.ONBOARDING_CREATE_PASSWORD_ROUTE,replace:!0});return o.default.createElement(r.Navigate,{to:s.ONBOARDING_UNLOCK_ROUTE,replace:!0})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("../../../helpers/constants/routes"),c=e("../../../ducks/metamask/metamask"),l=e("../../../../shared/constants/app"),u=e("../../../../shared/modules/browser-runtime.utils"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding")}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow-switch/onboarding-flow-switch.js"}],[7158,{"../../../app/scripts/lib/util":237,"../../../shared/constants/app":5244,"../../../shared/constants/onboarding":5265,"../../../shared/lib/trace":5342,"../../../shared/modules/environment":5355,"../../components/app/toast-master/utils":5810,"../../components/component-library":5919,"../../components/ui/loading-screen":6349,"../../contexts/metametrics":6421,"../../ducks/metamask/metamask":6445,"../../helpers/constants/design-system":6458,"../../helpers/constants/routes":6463,"../../selectors":7345,"../../store/actions":7369,"../unlock-page":7329,"./account-exist/account-exist":7149,"./account-not-found/account-not-found":7150,"./create-password/create-password":7151,"./creation-successful/creation-successful":7152,"./download-app/download-app":7153,"./import-srp/import-srp":7154,"./metametrics/metametrics":7155,"./onboarding-app-header/onboarding-app-header":7156,"./onboarding-flow-switch/onboarding-flow-switch":7157,"./pin-extension/pin-extension":7159,"./privacy-settings/privacy-settings":7160,"./recovery-phrase/confirm-recovery-phrase":7162,"./recovery-phrase/reveal-recovery-phrase":7165,"./recovery-phrase/review-recovery-phrase":7166,"./secure-your-wallet/secure-your-wallet":7167,"./welcome/welcome":7173,classnames:3623,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,a.useState)(""),[n,L]=(0,a.useState)(!1),j=(0,i.useDispatch)(),{pathname:W,search:U}=(0,o.useLocation)(),$=(0,o.useNavigate)(),z=(0,i.useSelector)(l.getCompletedOnboarding),V=(0,i.useSelector)(d.getFirstTimeFlowTypeRouteAfterUnlock),G=new URLSearchParams(U).get("isFromReminder"),q=new URLSearchParams(U).get("isFromSettingsSecurity"),K=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:H,onboardingParentContext:J}=K,Y=(0,i.useSelector)(l.getIsUnlocked),X=(0,i.useSelector)(d.getFirstTimeFlowType),Q=(0,E.getIsSeedlessOnboardingFeatureEnabled)(),Z=(0,i.useSelector)(l.getIsPrimarySeedPhraseBackedUp),ee=(0,h.getEnvironmentType)()===y.ENVIRONMENT_TYPE_POPUP,te=(0,a.useMemo)(()=>W===c.ONBOARDING_WELCOME_ROUTE,[W]);(0,a.useEffect)(()=>{(0,m.submitRequestToBackgroundAndCatch)("setOnboardingDate")},[]),(0,a.useEffect)(()=>{z&&!G&&$(c.DEFAULT_ROUTE)},[$,z,G]),(0,a.useEffect)(()=>{const t=[c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,c.ONBOARDING_REVIEW_SRP_ROUTE,c.ONBOARDING_CONFIRM_SRP_ROUTE].some(e=>null==W?void 0:W.startsWith(e));!Y||z||e||t&&$(c.ONBOARDING_UNLOCK_ROUTE),Z&&t&&z&&$(q?c.SECURITY_ROUTE:c.DEFAULT_ROUTE,{replace:!0})},[Y,z,e,W,$,Z,q]),(0,a.useEffect)(()=>{const e=null==H?void 0:H({name:C.TraceName.OnboardingJourneyOverall,op:C.TraceOperation.OnboardingUserJourney});J&&(J.current=e)},[J,H]);let ne=W===c.ONBOARDING_WELCOME_ROUTE||W===c.ONBOARDING_UNLOCK_ROUTE;return a.default.createElement(f.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,height:g.BlockSize.Full,display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:W===c.ONBOARDING_WELCOME_ROUTE?g.AlignItems.flexStart:g.AlignItems.center,justifyContent:g.JustifyContent.flexStart,className:(0,r.default)("onboarding-flow",{"onboarding-flow--welcome-login":te})},!ee&&a.default.createElement(B.default,{isWelcomePage:te}),a.default.createElement(f.Box,{className:(0,r.default)("onboarding-flow__container",{"onboarding-flow__container--full":ne,"onboarding-flow__container--popup":ee}),width:g.BlockSize.Full,borderStyle:ne||ee?g.BorderStyle.none:g.BorderStyle.solid,borderRadius:g.BorderRadius.LG,marginTop:W===c.ONBOARDING_WELCOME_ROUTE||ee?0:3,marginInline:"auto",borderColor:g.BorderColor.borderMuted},a.default.createElement(o.Routes,null,a.default.createElement(o.Route,{path:c.ONBOARDING_ACCOUNT_EXIST,element:a.default.createElement(R.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_ACCOUNT_NOT_FOUND,element:a.default.createElement(D.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_CREATE_PASSWORD_ROUTE,element:a.default.createElement(T.default,{createNewAccount:async e=>{try{let n;L(!0),Q&&X===b.FirstTimeFlowType.socialCreate?n=await j((0,u.createNewVaultAndSyncWithSocial)(e)):X===b.FirstTimeFlowType.create&&(n=await j((0,u.createNewVaultAndGetSeedPhrase)(e))),t(n)}finally{L(!1)}},importWithRecoveryPhrase:async(e,t)=>await j((0,u.createNewVaultAndRestore)(e,t)),secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,element:a.default.createElement(x.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_REVEAL_SRP_ROUTE,element:a.default.createElement(P.default,{setSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:c.ONBOARDING_REVIEW_SRP_ROUTE,element:a.default.createElement(_.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:c.ONBOARDING_CONFIRM_SRP_ROUTE,element:a.default.createElement(w.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:c.ONBOARDING_IMPORT_WITH_SRP_ROUTE,element:a.default.createElement(N.default,{submitSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:c.ONBOARDING_UNLOCK_ROUTE,element:a.default.createElement(s.default,{onSubmit:async e=>{try{let n;L(!0),n=Q&&X===b.FirstTimeFlowType.socialImport?await j((0,u.restoreSocialBackupAndGetSeedPhrase)(e)):await j((0,u.unlockAndGetSeedPhrase)(e)),t(n),$(V,{replace:!0})}finally{L(!1)}}})}),a.default.createElement(o.Route,{path:c.ONBOARDING_PRIVACY_SETTINGS_ROUTE,element:a.default.createElement(I.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_COMPLETION_ROUTE,element:a.default.createElement(S.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_WELCOME_ROUTE,element:a.default.createElement(O.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_PIN_EXTENSION_ROUTE,element:a.default.createElement(M.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_METAMETRICS,element:a.default.createElement(A.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_DOWNLOAD_APP_ROUTE,element:a.default.createElement(F.default,null)}),a.default.createElement(o.Route,{path:"*",element:a.default.createElement(v.default,null)}))),n&&a.default.createElement(k.default,null))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=L(e("classnames")),s=L(e("../unlock-page")),c=e("../../helpers/constants/routes"),l=e("../../ducks/metamask/metamask"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../contexts/metametrics"),m=e("../../components/app/toast-master/utils"),f=e("../../components/component-library"),g=e("../../helpers/constants/design-system"),h=e("../../../app/scripts/lib/util"),y=e("../../../shared/constants/app"),b=e("../../../shared/constants/onboarding"),E=e("../../../shared/modules/environment"),C=e("../../../shared/lib/trace"),k=L(e("../../components/ui/loading-screen")),v=L(e("./onboarding-flow-switch/onboarding-flow-switch")),T=L(e("./create-password/create-password")),_=L(e("./recovery-phrase/review-recovery-phrase")),x=L(e("./secure-your-wallet/secure-your-wallet")),w=L(e("./recovery-phrase/confirm-recovery-phrase")),I=L(e("./privacy-settings/privacy-settings")),S=L(e("./creation-successful/creation-successful")),O=L(e("./welcome/welcome")),N=L(e("./import-srp/import-srp")),M=L(e("./pin-extension/pin-extension")),A=L(e("./metametrics/metametrics")),B=L(e("./onboarding-app-header/onboarding-app-header")),R=L(e("./account-exist/account-exist")),D=L(e("./account-not-found/account-not-found")),P=L(e("./recovery-phrase/reveal-recovery-phrase")),F=L(e("./download-app/download-app"));function L(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow.js"}],[7159,{"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/onboarding":5265,"../../../../shared/modules/browser-runtime.utils":5351,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../store/actions":7369,classnames:3623,react:4789,"react-redux":4733,"react-responsive-carousel":4749,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,u.useI18nContext)(),t=(0,i.useNavigate)(),[n,a]=(0,o.useState)(0),E=(0,r.useDispatch)(),C=(0,o.useContext)(f.MetaMetricsContext),k=(0,r.useSelector)(g.getFirstTimeFlowType),v=(0,r.useSelector)(g.getCurrentKeyring),T=(0,r.useSelector)(g.getExternalServicesOnboardingToggleState);return(0,o.useEffect)(()=>{v||t(p.ONBOARDING_WELCOME_ROUTE,{replace:!0})},[v,t]),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,gap:6,className:"onboarding-pin-extension","data-testid":"onboarding-pin-extension"},o.default.createElement(m.Box,null,o.default.createElement(s.Carousel,{selectedItem:n,showThumbs:!1,showStatus:!1,dynamicHeight:!0,renderArrowPrev:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Left,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,c.default)("onboarding-pin-extension__arrow",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("prev")}),renderArrowNext:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Right,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,c.default)("onboarding-pin-extension__arrow","onboarding-pin-extension__arrow--next",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("next"),"data-testid":"pin-extension-next"}),onChange:e=>a(e)},o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-pin.svg",alt:e("onboardingPinExtensionAltPin")})),o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-launch.svg",alt:e("onboardingPinExtensionAltLaunch")}))),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.flexStart,width:d.BlockSize.Full,marginTop:4,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.headingLg,fontWeight:d.FontWeight.Medium,as:"h2"},e("onboardingPinExtensionTitle")),0===n?o.default.createElement(m.Box,null,o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription"))):o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription2")),o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription3",[(0,b.getBrowserName)()]))))),o.default.createElement(m.Box,null,o.default.createElement(m.Button,{variant:m.ButtonVariant.Primary,size:m.ButtonSize.Lg,block:!0,"data-testid":"pin-extension-done",onClick:async()=>{await E((0,l.toggleExternalServices)(T)),await E((0,l.setCompletedOnboarding)()),C({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.ExtensionPinned,properties:{wallet_setup_type:k===y.FirstTimeFlowType.import?"import":"new",new_wallet:k===y.FirstTimeFlowType.create}}),t(p.DEFAULT_ROUTE)}},e("done"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom-v5-compat"),r=e("react-redux"),s=e("react-responsive-carousel"),c=(a=e("classnames"))&&a.__esModule?a:{default:a},l=e("../../../store/actions"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),f=e("../../../contexts/metametrics"),g=e("../../../selectors"),h=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/constants/onboarding"),b=e("../../../../shared/modules/browser-runtime.utils");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/pin-extension/pin-extension.js"}],[716,{"./lib":727,"@ngraveio/bc-ur":2652},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryItem=void 0;const a=e("@ngraveio/bc-ur"),o=e("./lib");n.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,o.encodeDataItem)(this.toDataItem())},this.toUR=()=>new a.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{const o=this.toUR();return new a.UREncoder(o,e,t,n)}}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[7160,{"../../../../app/scripts/lib/util":237,"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/network":5262,"../../../../shared/lib/ui-utils":5348,"../../../../shared/modules/selectors/networks":5371,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":5534,"../../../components/component-library":5919,"../../../components/ui/button":6292,"../../../contexts/metametrics":6421,"../../../ducks/app/app":6430,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../helpers/constants/zendesk-url":6470,"../../../hooks/identity/useBackupAndSync":6540,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../selectors/identity/backup-and-sync":7344,"../../../store/actions":7369,"../../settings/security-tab/delete-metametrics-data-button":7237,"../../settings/security-tab/metametrics-toggle/metametrics-toggle":7240,"./setting":7161,"@metamask/profile-sync-controller/user-storage":2141,"@metamask/snaps-sdk":2402,classnames:3623,loglevel:4370,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,C.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,i.useNavigate)(),[M,A]=(0,a.useState)(!1),[R,D]=(0,a.useState)(null),[P,F]=(0,a.useState)(!0),L=(0,o.useSelector)(e=>e.metamask),{use4ByteResolution:j,useTokenDetection:W,useCurrencyRateCheck:U,useMultiAccountBalanceChecker:$,ipfsGateway:z,useAddressBarEnsResolution:V,useTransactionSimulations:G}=L,q=(0,o.useSelector)(k.getUseExternalNameSources),K=(0,o.useSelector)(k.getIsSocialLoginFlow),H=(0,o.useSelector)(k.getDataCollectionForMarketing),[J,Y]=(0,a.useState)(j),[X,Q]=(0,a.useState)(W),[Z,ee]=(0,a.useState)(U),[te,ne]=(0,a.useState)($),[ae,oe]=(0,a.useState)(G),[ie,re]=(0,a.useState)(z),[se,ce]=(0,a.useState)(null),[le,ue]=(0,a.useState)(V),[de,pe]=(0,a.useState)(q),me=(0,a.useContext)(y.MetaMetricsContext),fe=(0,o.useSelector)(v.getNetworkConfigurationsByChainId),ge=(0,o.useSelector)(k.getExternalServicesOnboardingToggleState),he=(0,o.useSelector)(w.selectIsBackupAndSyncEnabled),{setIsBackupAndSyncFeatureEnabled:ye,error:be}=(0,d.useBackupAndSync)();(0,a.useEffect)(()=>{ye(c.BACKUPANDSYNC_FEATURES.main,!!ge)},[ge,ye]);const Ee=e=>{D(e),A(!0),setTimeout(()=>{F(!1)},B)},Ce=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e(K?"securityDefaultSettingsSocialLogin":"security"),subtitle:e(K?"securitySocialLoginDefaultSettingsDescription":"securityDescription")}];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},a.default.createElement("div",{className:(0,r.default)("container",{"show-detail":M,"show-list":!M})},a.default.createElement("div",{className:"list-view"},a.default.createElement(h.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:b.Display.Flex,flexDirection:b.FlexDirection.Column,justifyContent:b.JustifyContent.flexStart},a.default.createElement(h.Box,{display:b.Display.Flex,alignItems:b.AlignItems.center,flexDirection:b.FlexDirection.Row,justifyContent:b.JustifyContent.flexStart},a.default.createElement(g.default,{type:"inline",icon:a.default.createElement(h.Icon,{name:h.IconName.ArrowLeft,size:h.IconSize.Lg,color:b.IconColor.iconDefault}),"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,T.setUse4ByteResolution)(J)),t((0,T.setUseTokenDetection)(X)),t((0,T.setUseMultiAccountBalanceChecker)(te)),t((0,T.setUseCurrencyRateCheck)(Z)),t((0,T.setUseAddressBarEnsResolution)(le)),(0,T.setUseTransactionSimulations)(ae),(0,T.setUseExternalNameSources)(de),ge||ye(c.BACKUPANDSYNC_FEATURES.main,!1),ie&&!se){const{host:e}=new URL((0,u.addUrlProtocolPrefix)(ie));t((0,T.setIpfsGateway)(e))}me({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:he,is_basic_functionality_enabled:ge,turnon_token_detection:X}}),n(E.ONBOARDING_COMPLETION_ROUTE)}}),a.default.createElement(h.Box,{display:b.Display.Flex,alignItems:b.AlignItems.center,justifyContent:b.JustifyContent.center,width:b.BlockSize.Full},a.default.createElement(h.Text,{variant:b.TextVariant.headingLg,as:"h2"},e("defaultSettingsTitle")))),a.default.createElement(h.Text,{variant:b.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),a.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),a.default.createElement(h.Box,null,a.default.createElement(h.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},Ce.map(e=>a.default.createElement(h.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>Ee(e)},a.default.createElement(h.Box,{display:b.Display.Flex,alignItems:b.AlignItems.flexStart,justifyContent:b.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},a.default.createElement(h.Text,{variant:b.TextVariant.bodyLgMedium},e.title),a.default.createElement(g.default,{type:"inline",icon:a.default.createElement(h.Icon,{name:h.IconName.ArrowRight,color:b.IconColor.iconDefault}),onClick:()=>Ee(e)})),a.default.createElement(h.Text,{className:"description",variant:b.TextVariant.bodyMd,color:b.TextColor.textAlternative},e.subtitle)))))),a.default.createElement("div",{className:(0,r.default)("detail-view",{hidden:!M&&P})},a.default.createElement(h.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:b.Display.Flex,flexDirection:b.FlexDirection.Row,justifyContent:b.JustifyContent.flexStart},a.default.createElement(g.default,{"data-testid":"category-back-button",type:"inline",icon:a.default.createElement(h.Icon,{name:h.IconName.ArrowLeft,size:h.IconSize.Lg,color:b.IconColor.iconDefault}),onClick:()=>{A(!1),setTimeout(()=>{F(!0)},B)}}),a.default.createElement(h.Box,{display:b.Display.Flex,alignItems:b.AlignItems.center,justifyContent:b.JustifyContent.center,width:b.BlockSize.Full},a.default.createElement(h.Text,{variant:b.TextVariant.headingLg,as:"h2"},null==R?void 0:R.title))),a.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==R?void 0:R.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(N.Setting,{dataTestId:"basic-functionality-toggle",value:ge,setValue:e=>{e?(t((0,_.onboardingToggleBasicFunctionalityOn)()),me({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,_.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),a.default.createElement(I.BackupAndSyncToggle,null),be&&a.default.createElement(h.Box,{paddingBottom:4},a.default.createElement(h.Text,{as:"p",color:b.TextColor.errorDefault,variant:b.TextVariant.bodySm},e("notificationsSettingsBoxError"))),a.default.createElement(N.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),a.default.createElement("a",{href:f.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),a.default.createElement(h.Box,{paddingTop:4},a.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,gap:5},Object.values(fe).filter(({chainId:e})=>!x.TEST_CHAINS.includes(e)).map(e=>{var n,o;return a.default.createElement(h.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,T.setEditedNetwork)({chainId:e.chainId})),t((0,T.toggleNetworkMenu)())},display:b.Display.Flex,alignItems:b.AlignItems.center,justifyContent:b.JustifyContent.spaceBetween},a.default.createElement(h.Box,{display:b.Display.Flex,alignItems:b.AlignItems.center},a.default.createElement(h.AvatarNetwork,{src:x.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]}),a.default.createElement(h.Box,{textAlign:b.TextAlign.Left,marginLeft:3},a.default.createElement(h.Text,{variant:b.TextVariant.bodySmMedium},e.name),a.default.createElement(h.Text,{variant:b.TextVariant.bodyXs,color:b.TextColor.textAlternative},null===(n=new URL(null==e||null===(o=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===o?void 0:o.url))||void 0===n?void 0:n.origin))),a.default.createElement(h.ButtonIcon,{iconName:h.IconName.ArrowRight,size:h.IconSize.Md}))}),a.default.createElement(h.ButtonLink,{onClick:()=>{t((0,T.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:b.JustifyContent.Left,variant:s.ButtonVariant.link},a.default.createElement(h.Box,{display:b.Display.Flex,alignItems:b.AlignItems.center},a.default.createElement(h.Icon,{name:h.IconName.Add,marginRight:3}),a.default.createElement(h.Text,{color:b.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==R?void 0:R.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(N.Setting,{value:X,setValue:Q,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),a.default.createElement(N.Setting,{value:ae,setValue:oe,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[a.default.createElement("a",{key:"learn_more_link",href:m.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),a.default.createElement(N.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),a.default.createElement(h.Box,{paddingTop:2},a.default.createElement(h.TextField,{value:ie,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{re(t);try{const{host:e}=new URL((0,u.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;ce(null)}catch(t){ce(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),ie?a.default.createElement(h.Text,{variant:b.TextVariant.bodySm,color:se?b.TextColor.errorDefault:b.TextColor.successDefault},se||e("onboardingAdvancedPrivacyIPFSValid")):null))}),a.default.createElement(N.Setting,{value:Z,setValue:ee,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[a.default.createElement("a",{key:"coingecko_link",href:m.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),a.default.createElement("a",{key:"cryptocompare_link",href:m.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),a.default.createElement("a",{key:"privacy_policy_link",href:m.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),a.default.createElement(N.Setting,{value:le,setValue:ue,title:e("ensDomainsSettingTitle"),description:a.default.createElement(a.default.Fragment,null,a.default.createElement(h.Text,{variant:b.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),a.default.createElement(h.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},a.default.createElement(h.Text,{variant:b.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),a.default.createElement(h.Text,{variant:b.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),a.default.createElement(h.Text,{variant:b.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),a.default.createElement(N.Setting,{value:te,setValue:ne,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==R?void 0:R.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(N.Setting,{value:J,setValue:Y,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),a.default.createElement(N.Setting,{value:de,setValue:pe,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")}),K&&a.default.createElement(a.default.Fragment,null,a.default.createElement(O.default,{dataCollectionForMarketing:H,setDataCollectionForMarketing:async e=>{try{t((0,T.setMarketingConsent)(e))}catch(e){l.default.error("Error setting marketing consent in default settings",e)}t((0,T.setDataCollectionForMarketing)(e))},fromDefaultSettings:!0}),a.default.createElement(S.default,{defaultPrivacySettings:!0}))):null)))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=M(e("classnames")),s=e("@metamask/snaps-sdk"),c=e("@metamask/profile-sync-controller/user-storage"),l=M(e("loglevel")),u=e("../../../../app/scripts/lib/util"),d=e("../../../hooks/identity/useBackupAndSync"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/lib/ui-utils"),f=M(e("../../../helpers/constants/zendesk-url")),g=M(e("../../../components/ui/button")),h=e("../../../components/component-library"),y=e("../../../contexts/metametrics"),b=e("../../../helpers/constants/design-system"),E=e("../../../helpers/constants/routes"),C=e("../../../hooks/useI18nContext"),k=e("../../../selectors"),v=e("../../../../shared/modules/selectors/networks"),T=e("../../../store/actions"),_=e("../../../ducks/app/app"),x=e("../../../../shared/constants/network"),w=e("../../../selectors/identity/backup-and-sync"),I=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),S=M(e("../../settings/security-tab/delete-metametrics-data-button")),O=M(e("../../settings/security-tab/metametrics-toggle/metametrics-toggle")),N=e("./setting");function M(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const B=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.js"}],[7161,{"../../../components/component-library":5919,"../../../components/ui/toggle-button":6398,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"prop-types":4605,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var a=l(e("react")),o=l(e("prop-types")),i=e("../../../components/component-library"),r=l(e("../../../components/ui/toggle-button")),s=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const u=({value:e,setValue:t,title:n,description:o,showToggle:l=!0,dataTestId:u,disabled:d=!1})=>{const p=(0,c.useI18nContext)();return a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.flexStart,marginTop:3,marginBottom:3,className:"privacy-settings__setting__wrapper","data-testid":u},a.default.createElement("div",{className:"privacy-settings__setting"},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium},n),a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,as:"div"},o)),l?a.default.createElement("div",{className:"privacy-settings__setting__toggle"},a.default.createElement(r.default,{value:e,onToggle:e=>t(!e),offLabel:p("off"),onLabel:p("on"),disabled:d})):null)};n.Setting=u,u.propTypes={value:o.default.bool,setValue:o.default.func,title:o.default.string,description:o.default.oneOfType([o.default.object,o.default.string]),showToggle:o.default.bool,dataTestId:o.default.string,disabled:o.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.js"}],[7162,{"../../../../shared/constants/app":5244,"../../../../shared/constants/metametrics":5259,"../../../../shared/lib/trace":5342,"../../../../shared/modules/browser-runtime.utils":5351,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors/selectors":7361,"../../../store/actions":7369,"./confirm-srp-modal":7163,"./recovery-phrase-chips":7164,"prop-types":4605,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=C(e("prop-types")),s=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../selectors/selectors"),f=e("../../../helpers/constants/routes"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/lib/trace"),y=e("../../../../shared/modules/browser-runtime.utils"),b=C(e("./confirm-srp-modal")),E=C(e("./recovery-phrase-chips"));function C(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const v=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map(t=>({index:t,word:e[t]}))};function T({secretRecoveryPhrase:e=""}){const t=(0,i.useDispatch)(),n=(0,o.useNavigate)(),{search:r}=(0,o.useLocation)(),C=(0,l.useI18nContext)(),k=(0,a.useContext)(d.MetaMetricsContext),{bufferedEndTrace:T}=k,_=(0,i.useSelector)(m.getHDEntropyIndex),x=(0,a.useMemo)(()=>e?e.split(" "):[],[e]),w=new URLSearchParams(r),I=w.get("isFromReminder"),S=w.get("isFromSettingsSecurity"),O=new URLSearchParams;I&&O.set("isFromReminder",I),S&&O.set("isFromSettingsSecurity",S);const N=O.toString(),[M,A]=(0,a.useState)(!1),[B,R]=(0,a.useState)(!1),[D,P]=(0,a.useState)(v(x)),[F,L]=(0,a.useState)("");(0,a.useEffect)(()=>{e||n(`${f.ONBOARDING_REVEAL_SRP_ROUTE}${N?`?${N}`:""}`,{replace:!0})},[n,e,N]);const j=(0,a.useCallback)(()=>{const e=v(x);P(e)},[x]),W=(0,a.useCallback)(e=>{if(e.some(e=>!e.word))L("");else{const t=[...x];e.forEach(e=>{t[e.index]=e.word}),L(t.join(" "))}},[x]),U=(0,a.useCallback)(()=>{R(F===e),A(!0)},[F,e]),$=(0,a.useCallback)(()=>{t((0,u.setSeedPhraseBackedUp)(!0)),k({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:_}}),null==T||T({name:h.TraceName.OnboardingNewSrpCreateWallet}),null==T||T({name:h.TraceName.OnboardingJourneyOverall});const e=(0,y.getBrowserName)()===g.PLATFORM_FIREFOX||I?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_METAMETRICS;n(`${e}${N?`?${N}`:""}`,{replace:!0})},[t,_,n,k,I,N,T]);return a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},a.default.createElement(s.Box,null,M&&a.default.createElement(b.default,{isError:!B,onContinue:$,onClose:()=>{j(),A(!1)}}),a.default.createElement(s.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>n(-1),ariaLabel:C("back")})),a.default.createElement(s.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},!I&&a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},C("stepOf",[3,3])),a.default.createElement(s.Text,{variant:c.TextVariant.headingLg,as:"h2"},C("confirmRecoveryPhraseTitle"))),a.default.createElement(s.Box,{marginBottom:6},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},C("confirmRecoveryPhraseDetails"))),x.length>0&&a.default.createElement(E.default,{secretRecoveryPhrase:x,quizWords:D,confirmPhase:!0,setInputValue:W})),a.default.createElement(s.Box,{width:c.BlockSize.Full},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,width:c.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:s.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:()=>U(),disabled:""===F.trim()},C("continue"))))}T.propTypes={secretRecoveryPhrase:r.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.js"}],[7163,{"../../../components/component-library":5919,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onContinue:e,onClose:t,isError:n}){const a=(0,r.useI18nContext)();return o.default.createElement(s.Modal,{isOpen:!0,onClose:()=>null,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{alignItems:i.AlignItems.center},o.default.createElement(s.ModalHeader,null,o.default.createElement(s.Box,{textAlign:i.TextAlign.Center},o.default.createElement(s.Icon,{name:n?s.IconName.CircleX:s.IconName.Confirmation,size:s.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:n?i.IconColor.errorDefault:i.IconColor.successDefault}),o.default.createElement(s.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,marginTop:2,as:"h2"},a(n?"confirmSrpErrorTitle":"confirmSrpSuccessTitle")))),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(s.Text,{variant:i.TextVariant.bodyMd},a(n?"confirmSrpErrorDescription":"confirmSrpSuccessDescription")),o.default.createElement(s.Box,{marginTop:6},o.default.createElement(s.Button,{"data-testid":"confirm-srp-modal-button",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:()=>{n?t():e()},block:!0},a(n?"tryAgain":"gotIt"))))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../helpers/constants/design-system"),r=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library")}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[7164,{"../../../components/component-library":5919,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,classnames:3623,"prop-types":4605,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p,n.fakeSeedPhraseWords=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("classnames")),i=l(e("prop-types")),r=e("../../../components/component-library"),s=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=n.fakeSeedPhraseWords=["candy","maple","cake","sugar","pudding","cream","honey","rich","smooth","crumble","sweet","treat"];function p({secretRecoveryPhrase:e,phraseRevealed:t=!0,revealPhrase:n,confirmPhase:i,quizWords:l=[],setInputValue:u}){const p=(0,s.useI18nContext)(),m=(0,a.useMemo)(()=>l.map(e=>e.index),[l]),[f,g]=(0,a.useState)(m.map(e=>({index:e,word:"",actualIndexInSrp:-1}))),h=e=>{const t=e.reduce((e,t)=>(""===t.word&&e.push(t.index),e),[]);return t.length?Math.min(...t):-1},[y,b]=(0,a.useState)(h(f)),E=(0,a.useCallback)((e,t)=>{const n=[...f],a=n.findIndex(e=>e.index===y);n[a]={index:y,word:e,actualIndexInSrp:t},g(n),b(h(n))},[f,y]),C=(0,a.useCallback)(e=>{const t=[...f],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},g(t),b(t[n].index)},[f]);(0,a.useEffect)(()=>{null==u||u(f)},[f,u]),(0,a.useEffect)(()=>{if(l.length){const e=l.map(e=>({index:e.index,word:"",actualIndexInSrp:-1}));g(e),b(h(e))}},[l]);const k=t?e:e.map((e,t)=>d[t%d.length]);return a.default.createElement(r.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4},a.default.createElement(r.Box,{padding:4,borderRadius:c.BorderRadius.LG,display:c.Display.Grid,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},a.default.createElement(r.Box,{key:"recovery-phrase-chips",display:c.Display.Grid,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,gap:2,"data-testid":"recovery-phrase-chips","data-recovery-phrase":e.join(":"),"data-quiz-words":JSON.stringify(l),className:(0,o.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":!t})},k.map((e,t)=>{var n;const o=m.includes(t),s=o?(null===(n=f.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,l=t===y;return o||!i?a.default.createElement(r.Box,{as:o?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:c.Display.Flex,alignItems:c.AlignItems.center,backgroundColor:c.BackgroundColor.backgroundDefault,borderColor:l?c.BorderColor.primaryDefault:c.BorderColor.borderMuted,borderWidth:l?2:1,borderRadius:c.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{o&&(""===s?b(t):C(s))}},a.default.createElement(r.Text,{color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),a.default.createElement(r.Text,null,o?s:e)):a.default.createElement(r.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:s,startAccessory:a.default.createElement(r.Text,{color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:"password",disabled:!0,readOnly:!0})})),!t&&a.default.createElement(r.Box,{key:"recovery-phrase__secret-blocker-container",width:c.BlockSize.Full,height:c.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},a.default.createElement(r.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderRadius:c.BorderRadius.SM,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),a.default.createElement(r.Box,{as:"button",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.transparent,height:c.BlockSize.Full,width:c.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==n||n()},"data-testid":"recovery-phrase-reveal"},a.default.createElement(r.Icon,{name:r.IconName.EyeSlash,color:c.IconColor.iconDefault,size:r.IconSize.Md}),a.default.createElement(r.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault,fontWeight:c.FontWeight.Medium},p("tapToReveal")),a.default.createElement(r.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},p("tapToRevealNote"))))),3===l.length&&a.default.createElement(r.Box,{display:c.Display.Flex,gap:2,width:c.BlockSize.Full},l.map(t=>{const n=t.index;return f.some(e=>e.actualIndexInSrp===n)?a.default.createElement(r.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${n}`,key:t.index,color:c.TextColor.textAlternative,borderRadius:c.BorderRadius.LG,block:!0,onClick:()=>{C(t.word)}},e[n]):a.default.createElement(r.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${n}`,key:t.index,variant:r.ButtonVariant.Secondary,borderRadius:c.BorderRadius.LG,block:!0,onClick:()=>{E(t.word,n)}},e[n])})))}p.propTypes={secretRecoveryPhrase:i.default.array,phraseRevealed:i.default.bool,revealPhrase:i.default.func,confirmPhase:i.default.bool,quizWords:i.default.array,setInputValue:i.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.js"}],[7165,{"../../../components/component-library":5919,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../store/actions":7369,react:4789,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,i.useI18nContext)(),{search:u}=(0,o.useLocation)(),d=new URLSearchParams(u),p=d.get("isFromReminder"),m=d.get("isFromSettingsSecurity"),f=new URLSearchParams;p&&f.set("isFromReminder",p);m&&f.set("isFromSettingsSecurity",m);const g=f.toString(),[h,y]=(0,a.useState)(""),[b,E]=(0,a.useState)(!1),C=(0,a.useCallback)(async n=>{try{const a=await(0,c.getSeedPhrase)(n);e(a),t(`${l.ONBOARDING_REVIEW_SRP_ROUTE}${g?`?${g}`:""}`,{replace:!0})}catch(e){E(!0)}},[e,t,g]),k=(0,a.useCallback)(()=>{t(m?l.REVEAL_SRP_LIST_ROUTE:l.DEFAULT_ROUTE,{replace:!0})},[t,m]);return a.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(r.Box,{width:s.BlockSize.Full},a.default.createElement(r.Box,{className:"recovery-phrase__header",display:s.Display.Grid,alignItems:s.AlignItems.center,gap:3,marginBottom:4,width:s.BlockSize.Full},a.default.createElement(r.ButtonIcon,{iconName:r.IconName.ArrowLeft,color:s.IconColor.iconDefault,size:r.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:k,ariaLabel:n("back")}),a.default.createElement(r.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(r.ButtonIcon,{iconName:r.IconName.Close,color:s.IconColor.iconDefault,size:r.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:k,ariaLabel:n("close")})),a.default.createElement(r.Box,{width:s.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),C(h)}},a.default.createElement(r.FormTextField,{size:r.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{y(e.target.value),E(!1)},value:h,error:b,helpText:b?n("unlockPageIncorrectPassword"):null,type:r.TextFieldType.Password,labelProps:{fontWeight:s.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(r.Box,{width:s.BlockSize.Full},a.default.createElement(r.Button,{width:s.BlockSize.Full,variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>C(h)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),c=e("../../../store/actions"),l=e("../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[7166,{"../../../../shared/constants/metametrics":5259,"../../../components/app/srp-details-modal":5790,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors/selectors":7361,"./recovery-phrase-chips":7164,"prop-types":4605,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=h(e("prop-types")),s=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),l=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/metametrics"),p=e("../../../contexts/metametrics"),m=e("../../../selectors/selectors"),f=h(e("../../../components/app/srp-details-modal")),g=h(e("./recovery-phrase-chips"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b({secretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,s.useI18nContext)(),{search:r}=(0,o.useLocation)(),h=(0,i.useSelector)(m.getHDEntropyIndex),[y,b]=(0,a.useState)(!1),[E,C]=(0,a.useState)(!1),k=new URLSearchParams(r),v=k.get("isFromReminder"),T=k.get("isFromSettingsSecurity"),_=new URLSearchParams;v&&_.set("isFromReminder",v),T&&_.set("isFromSettingsSecurity",T);const x=_.toString();(0,a.useEffect)(()=>{e||t({pathname:c.ONBOARDING_REVEAL_SRP_ROUTE,search:x?`?${x}`:""},{replace:!0})},[t,e,x]);const w=(0,a.useContext)(p.MetaMetricsContext),I=(0,a.useCallback)(()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:h}}),t({pathname:c.ONBOARDING_CONFIRM_SRP_ROUTE,search:x?`?${x}`:""})},[h,t,w,x]),S=(0,a.useCallback)(()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),C(!0)},[w]);return a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.Center,height:u.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},a.default.createElement(l.Box,null,E&&a.default.createElement(f.default,{onClose:()=>C(!1)}),a.default.createElement(l.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:u.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"review-srp-back-button",onClick:()=>t(-1),ariaLabel:n("back")})),a.default.createElement(l.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},!v&&a.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative},n("stepOf",[2,3])),a.default.createElement(l.Text,{variant:u.TextVariant.headingLg,as:"h2"},n("seedPhraseReviewTitle"))),a.default.createElement(l.Box,{marginBottom:6},a.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative,marginBottom:6},n("seedPhraseReviewDetails",[a.default.createElement(l.ButtonLink,{key:"seedPhraseReviewDetails",size:l.ButtonLinkSize.Inherit,onClick:S},n("secretRecoveryPhrase")),a.default.createElement(l.Text,{key:"seedPhraseReviewDetails2",fontWeight:u.FontWeight.Medium,color:u.TextColor.textAlternative},n("seedPhraseReviewDetails2"))]))),a.default.createElement(g.default,{secretRecoveryPhrase:e.split(" "),phraseRevealed:y,revealPhrase:()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:h}}),b(!0)}})),a.default.createElement(l.Box,{width:u.BlockSize.Full},a.default.createElement(l.Button,{width:u.BlockSize.Full,variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:!y,onClick:I},n("continue"))))}b.propTypes={secretRecoveryPhrase:r.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.js"}],[7167,{"../../../../shared/constants/metametrics":5259,"../../../components/app/srp-details-modal":5790,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../ducks/metamask/metamask":6445,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"./skip-srp-backup-popover":7168,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,s.useI18nContext)(),{search:n}=(0,o.useLocation)(),h=(0,i.useSelector)(p.getHDEntropyIndex),[y,b]=(0,a.useState)(!1),[E,C]=(0,a.useState)(!1),k=new URLSearchParams(n).get("isFromReminder")?"?isFromReminder=true":"",v=(0,i.useSelector)(p.getIsSocialLoginFlow),T=(0,i.useSelector)(f.getCompletedOnboarding),_=(0,a.useContext)(c.MetaMetricsContext),x=(0,a.useCallback)(()=>{_({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"secure_your_wallet"}}),C(!0)},[_]),w=()=>{_({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecurityStarted,properties:{hd_entropy_index:h??0}}),e(`${l.ONBOARDING_REVIEW_SRP_ROUTE}${k}`)};return(0,a.useEffect)(()=>{!T&&v&&e(l.ONBOARDING_WELCOME_ROUTE,{replace:!0})},[T,e,v]),a.default.createElement(d.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.spaceBetween,alignItems:r.AlignItems.flexStart,flexDirection:r.FlexDirection.Column,gap:4,height:r.BlockSize.Full,className:"secure-your-wallet","data-testid":"secure-your-wallet"},a.default.createElement(d.Box,null,y&&a.default.createElement(g.default,{onClose:()=>b(!1),secureYourWallet:w}),E&&a.default.createElement(m.default,{onClose:()=>C(!1)}),a.default.createElement(d.Box,{justifyContent:r.JustifyContent.flexStart,marginBottom:4,width:r.BlockSize.Full},a.default.createElement(d.Text,{variant:r.TextVariant.bodyMd,color:r.TextColor.textAlternative},t("stepOf",[2,3])),a.default.createElement(d.Text,{variant:r.TextVariant.headingLg,as:"h2"},t("seedPhraseIntroTitle"))),a.default.createElement(d.Box,{className:"secure-your-wallet__srp-design-container",marginBottom:6,width:r.BlockSize.Full,textAlign:r.TextAlign.Center},a.default.createElement("img",{className:"secure-your-wallet__srp-design-image",src:"./images/srp-lock-design.png",alt:t("srpDesignImageAlt")})),a.default.createElement(d.Box,null,a.default.createElement(d.Text,{color:r.TextColor.textAlternative,marginBottom:6,as:"div"},t("secureWalletWalletSaveSrp",[[a.default.createElement(d.ButtonLink,{key:"secureWalletWalletSaveSrp",size:d.ButtonLinkSize.Inherit,onClick:x},t("secretRecoveryPhrase"))]])),a.default.createElement(d.Text,{color:r.TextColor.textAlternative},t("secureWalletWalletRecover")))),a.default.createElement(d.Box,{width:r.BlockSize.Full,display:r.Display.Flex,flexDirection:r.FlexDirection.Column,gap:4},a.default.createElement(d.Button,{"data-testid":"secure-wallet-recommended",size:d.ButtonSize.Lg,block:!0,onClick:w},t("secureWalletGetStartedButton")),a.default.createElement(d.Button,{"data-testid":"secure-wallet-later",variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,block:!0,onClick:()=>{_({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipInitiated,properties:{hd_entropy_index:h??0}}),b(!0)}},t("secureWalletRemindLaterButton"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),c=e("../../../contexts/metametrics"),l=e("../../../helpers/constants/routes"),u=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),p=e("../../../selectors"),m=h(e("../../../components/app/srp-details-modal")),f=e("../../../ducks/metamask/metamask"),g=h(e("./skip-srp-backup-popover"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/secure-your-wallet.js"}],[7168,{"../../../../shared/constants/app":5244,"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/onboarding":5265,"../../../../shared/lib/trace":5342,"../../../../shared/modules/browser-runtime.utils":5351,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/constants/routes":6463,"../../../hooks/useI18nContext":6583,"../../../selectors":7345,"../../../selectors/selectors":7361,"../../../store/actions":7369,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,secureYourWallet:t}){const[n,E]=(0,i.useState)(!1),C=(0,r.useI18nContext)(),k=(0,o.useDispatch)(),v=(0,o.useSelector)(d.getHDEntropyIndex),T=(0,o.useSelector)(g.getFirstTimeFlowType),_=(0,i.useContext)(l.MetaMetricsContext),{bufferedEndTrace:x}=_,w=(0,a.useNavigate)(),I=(0,i.useCallback)(async()=>{await k((0,p.setSeedPhraseBackedUp)(!1)),_({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:v}}),null==x||x({name:b.TraceName.OnboardingNewSrpCreateWallet}),null==x||x({name:b.TraceName.OnboardingJourneyOverall}),(0,y.getBrowserName)()===f.PLATFORM_FIREFOX||T===h.FirstTimeFlowType.restore?w(m.ONBOARDING_COMPLETION_ROUTE):w(m.ONBOARDING_METAMETRICS)},[k,T,v,w,_,x]);return i.default.createElement(c.Modal,{isOpen:!0,onClose:e,className:"skip-srp-backup-modal","data-testid":"skip-srp-backup-modal"},i.default.createElement(c.ModalOverlay,null),i.default.createElement(c.ModalContent,{alignItems:s.AlignItems.center},i.default.createElement(c.ModalHeader,{onClose:e},i.default.createElement(c.Box,{textAlign:s.TextAlign.Center},i.default.createElement(c.Icon,{name:c.IconName.Danger,size:c.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:s.IconColor.errorDefault}),i.default.createElement(c.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:4,as:"h3"},C("skipAccountSecurity")))),i.default.createElement(c.Box,{paddingLeft:4,paddingRight:4},i.default.createElement(c.Checkbox,{id:"skip-srp-backup__checkbox",className:"skip-srp-backup__checkbox","data-testid":"skip-srp-backup-checkbox",isChecked:n,alignItems:s.AlignItems.flexStart,onChange:()=>{E(!n)},label:C("skipAccountSecurityDetails")}),i.default.createElement(c.Box,{display:s.Display.Flex,marginTop:6,gap:4},i.default.createElement(c.Button,{variant:c.ButtonVariant.Secondary,size:c.ButtonSize.Lg,onClick:()=>{_({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipCanceled,properties:{hd_entropy_index:v}}),t()},block:!0},C("skipAccountSecuritySecureNow")),i.default.createElement(c.Button,{"data-testid":"skip-srp-backup-button",size:c.ButtonSize.Lg,disabled:!n,onClick:I,block:!0,danger:!0},C("skipAccountSecuritySkip"))))))};var a=e("react-router-dom-v5-compat"),o=e("react-redux"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),l=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../selectors/selectors"),p=e("../../../store/actions"),m=e("../../../helpers/constants/routes"),f=e("../../../../shared/constants/app"),g=e("../../../selectors"),h=e("../../../../shared/constants/onboarding"),y=e("../../../../shared/modules/browser-runtime.utils"),b=e("../../../../shared/lib/trace");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/skip-srp-backup-popover.tsx"}],[7169,{"../../../../shared/constants/metametrics":5259,"../../../components/component-library":5919,"../../../contexts/metametrics":6421,"../../../helpers/constants/common":6456,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"./types":7171,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,loginError:t}){const n=(0,i.useI18nContext)(),d=(0,a.useContext)(l.MetaMetricsContext);return a.default.createElement(r.Modal,{isOpen:!0,onClose:e,"data-testid":"login-error-modal"},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,{alignItems:o.AlignItems.center},a.default.createElement(r.ModalHeader,{onClose:e},a.default.createElement(r.Box,{textAlign:o.TextAlign.Center},a.default.createElement(r.Icon,{name:r.IconName.Danger,size:r.IconSize.Xl,color:o.IconColor.warningDefault}),a.default.createElement(r.Text,{variant:o.TextVariant.headingMd,textAlign:o.TextAlign.Center,marginTop:4},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectTitle"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredTitle"):n("loginErrorGenericTitle")))),a.default.createElement(r.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(r.Text,{variant:o.TextVariant.bodyMd},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectDescription"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredDescription"):n("loginErrorGenericDescription",[a.default.createElement(r.ButtonLink,{key:"loginErrorGenericDescription",size:r.ButtonLinkSize.Inherit,externalLink:!0,href:c.SUPPORT_LINK,onClick:()=>{d({category:s.MetaMetricsEventCategory.Onboarding,event:s.MetaMetricsEventName.SupportLinkClicked,properties:{url:c.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[s.MetaMetricsContextProp.PageTitle]})}},n("loginErrorGenericSupport"))])),a.default.createElement(r.Box,{marginTop:6},a.default.createElement(r.Button,{"data-testid":"login-error-modal-button",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,onClick:e,block:!0},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectButton"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredButton"):n("loginErrorGenericButton"))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),s=e("../../../../shared/constants/metametrics"),c=e("../../../helpers/constants/common"),l=e("../../../contexts/metametrics"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[717,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryTypes=n.RegistryType=void 0;class a{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}n.RegistryType=a,n.RegistryTypes={UUID:new a("uuid",37),BYTES:new a("bytes",undefined),CRYPTO_HDKEY:new a("crypto-hdkey",303),CRYPTO_KEYPATH:new a("crypto-keypath",304),CRYPTO_COIN_INFO:new a("crypto-coin-info",305),CRYPTO_ECKEY:new a("crypto-eckey",306),CRYPTO_OUTPUT:new a("crypto-output",308),CRYPTO_PSBT:new a("crypto-psbt",310),CRYPTO_ACCOUNT:new a("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new a("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new a("qr-hardware-call",1201),KEY_DERIVATION_CALL:new a("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new a("key-derivation-schema",1302)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[7170,{"../../../components/component-library":5919,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"./types":7171,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function({onClose:e,loginOption:t,handleLogin:n}){const a=(0,s.useI18nContext)();return o.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"options-modal",isClosedOnOutsideClick:!1},o.default.createElement(i.ModalOverlay,null),o.default.createElement(i.ModalContent,{size:i.ModalContentSize.Sm,alignItems:r.AlignItems.center},o.default.createElement(i.ModalHeader,{onClose:e},a("onboardingOptionTitle")),o.default.createElement(i.Box,{paddingInline:4},o.default.createElement(u,{"data-testid":t===c.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button",icon:o.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:a("onboardingOptionIcon",["Google"])}),label:t===c.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Google"]):a("onboardingContinueWith",["Google"]),marginBottom:4,onClick:()=>n(c.LOGIN_TYPE.GOOGLE)}),o.default.createElement(u,{"data-testid":t===c.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button",icon:o.default.createElement(i.Icon,{name:i.IconName.Apple,color:r.IconColor.iconDefault,size:i.IconSize.Lg}),label:t===c.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Apple"]):a("onboardingContinueWith",["Apple"]),marginBottom:2,onClick:()=>n(c.LOGIN_TYPE.APPLE)}),o.default.createElement(i.Box,{alignItems:r.AlignItems.center,marginBottom:4,className:"options-modal__or"},o.default.createElement(i.Text,{width:r.BlockSize.Min,variant:r.TextVariant.bodyMd,fontWeight:r.FontWeight.Medium,color:r.TextColor.textMuted,backgroundColor:r.BackgroundColor.backgroundDefault,paddingInline:2,marginInline:"auto",textTransform:r.TextTransform.Lowercase,as:"div",style:{position:"relative",zIndex:1}},a("or"))),o.default.createElement(i.Button,{"data-testid":t===c.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button",variant:i.ButtonVariant.Secondary,width:r.BlockSize.Full,size:i.ButtonSize.Lg,onClick:()=>n(c.LOGIN_TYPE.SRP)},t===c.LOGIN_OPTION.EXISTING?a("onboardingSrpImport"):a("onboardingSrpCreate")),o.default.createElement(i.Text,{variant:r.TextVariant.bodySm,fontWeight:r.FontWeight.Medium,textAlign:r.TextAlign.Center,paddingTop:8,width:r.BlockSize.Full,margin:"auto"},a("onboardingLoginFooter",[o.default.createElement(i.Text,{as:"a",href:"https://consensys.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",variant:r.TextVariant.bodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.primaryDefault,key:"onboardingLoginFooterTermsOfUse"},a("onboardingLoginFooterTermsOfUse")),o.default.createElement(i.Text,{as:"a",variant:r.TextVariant.bodySm,fontWeight:r.FontWeight.Medium,href:"https://consensys.io/privacy-notice",target:"_blank",rel:"noopener noreferrer",color:r.TextColor.primaryDefault,key:"onboardingLoginFooterPrivacyNotice"},a("onboardingLoginFooterPrivacyNotice"))])))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),c=e("./types");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const u=n.SocialButton=o.default.forwardRef(({icon:e,label:t,...n},a)=>o.default.createElement(i.Text,l({ref:a,as:"button",className:"options-modal__plain-button",display:r.Display.Flex,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,width:r.BlockSize.Full,borderRadius:r.BorderRadius.XL,borderColor:r.BorderColor.borderMuted,backgroundColor:r.BackgroundColor.transparent,gap:2},n),e,o.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,fontWeight:r.FontWeight.Medium},t)))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[7171,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[7172,{"../../../../shared/constants/preferences":5267,"../../../../shared/modules/environment":5355,"../../../components/component-library":5919,"../../../components/ui/mascot":6355,"../../../helpers/constants/design-system":6458,"../../../helpers/utils/build-types":6484,"../../../hooks/useI18nContext":6583,"../../../store/actions":7369,"./login-options":7170,"./types":7171,classnames:3623,events:3902,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onLogin:e}){const t=(0,u.useI18nContext)(),n=(0,o.useRef)(new a.default),[y,b]=(0,o.useState)(!1),[E,C]=(0,o.useState)(null),k=(0,p.getIsSeedlessOnboardingFeatureEnabled)(),v=(0,r.useDispatch)(),T=(0,o.useCallback)(async t=>{E&&(b(!1),await v((0,f.setTermsOfUseLastAgreed)((new Date).getTime())),await e(t,E))},[v,E,e]);return o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,gap:4,marginInline:"auto",marginTop:2,padding:6,className:"welcome-login","data-testid":"get-started"},o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,className:"welcome-login__content"},o.default.createElement(c.Box,{className:(0,i.default)("welcome-login__mascot",{"welcome-login__mascot--image":(0,d.isFlask)()||(0,d.isBeta)()})},(0,d.isFlask)()||(0,d.isBeta)()?o.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"178",height:"178"}):o.default.createElement(s.default,{animationEventEmitter:n.current,width:"268",height:"268"})),o.default.createElement(c.Text,{marginInline:5,textAlign:l.TextAlign.Center,as:"h2",className:"welcome-login__title","data-testid":"onboarding-welcome"},t("welcomeToMetaMask"),"!")),o.default.createElement(c.Box,{"data-theme":m.ThemeType.light,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(c.Button,{"data-testid":"onboarding-create-wallet",variant:c.ButtonVariant.Primary,size:c.ButtonSize.Lg,block:!0,onClick:async()=>{b(!0),C(h.LOGIN_OPTION.NEW),k||await e(h.LOGIN_TYPE.SRP,h.LOGIN_OPTION.NEW)}},t("onboardingCreateWallet")),o.default.createElement(c.Button,{"data-testid":"onboarding-import-wallet",variant:c.ButtonVariant.Secondary,size:c.ButtonSize.Lg,block:!0,onClick:async()=>{b(!0),C(h.LOGIN_OPTION.EXISTING),k||await e(h.LOGIN_TYPE.SRP,h.LOGIN_OPTION.EXISTING)}},t(k?"onboardingImportWallet":"onboardingSrpImport"))),k&&y&&E&&o.default.createElement(g.default,{loginOption:E,onClose:()=>{C(null)},handleLogin:T}))};var a=b(e("events")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=b(e("classnames")),r=e("react-redux"),s=b(e("../../../components/ui/mascot")),c=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/build-types"),p=e("../../../../shared/modules/environment"),m=e("../../../../shared/constants/preferences"),f=e("../../../store/actions"),g=b(e("./login-options")),h=e("./types");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[7173,{"../../../../shared/constants/app":5244,"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/onboarding":5265,"../../../../shared/lib/trace":5342,"../../../../shared/modules/browser-runtime.utils":5351,"../../../../shared/modules/environment":5355,"../../../../shared/modules/error":5356,"../../../components/ui/loading-screen":6349,"../../../contexts/metametrics":6421,"../../../helpers/constants/routes":6463,"../../../selectors":7345,"../../../store/actions":7369,"./login-error-modal":7169,"./types":7171,"./welcome-login":7172,loglevel:4370,react:4789,"react-redux":4733,"react-router-dom-v5-compat":4752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useDispatch)(),t=(0,i.useNavigate)(),n=(0,o.useSelector)(c.getCurrentKeyring),v=(0,f.getIsSeedlessOnboardingFeatureEnabled)(),T=(0,o.useSelector)(c.getFirstTimeFlowType),_=(0,o.useSelector)(c.getIsSocialLoginUserAuthenticated),x=(0,o.useSelector)(c.getIsParticipateInMetaMetricsSet),[w,I]=(0,a.useState)(!1),[S,O]=(0,a.useState)(!1),[N,M]=(0,a.useState)(null),A=(0,g.getBrowserName)()===h.PLATFORM_FIREFOX;(0,a.useEffect)(()=>{n&&!w?T===l.FirstTimeFlowType.import||T===l.FirstTimeFlowType.socialImport||T===l.FirstTimeFlowType.restore?t(x?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS,{replace:!0}):T===l.FirstTimeFlowType.socialCreate?t(A?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS,{replace:!0}):t(s.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,{replace:!0}):_&&(T===l.FirstTimeFlowType.socialCreate?t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0}):t(s.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))},[n,t,T,w,x,_,A]);const B=(0,a.useContext)(u.MetaMetricsContext),{bufferedTrace:R,bufferedEndTrace:D,onboardingParentContext:P}=B,F=(0,a.useCallback)(async()=>{O(!0),I(!0),await e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.create)),B({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:m.MetaMetricsEventAccountType.Default}}),null==R||R({name:b.TraceName.OnboardingNewSrpCreateWallet,op:b.TraceOperation.OnboardingUserJourney,parentContext:null==P?void 0:P.current}),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE)},[e,t,B,P,R]),L=(0,a.useCallback)(async()=>{O(!0),await e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.import)),B({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportStarted,properties:{account_type:m.MetaMetricsEventAccountType.Imported}}),null==R||R({name:b.TraceName.OnboardingExistingSrpImport,op:b.TraceOperation.OnboardingUserJourney,parentContext:null==P?void 0:P.current}),t(s.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[e,t,B,P,R]),j=(0,a.useCallback)(async t=>{if(v){null==R||R({name:b.TraceName.OnboardingSocialLoginAttempt,op:b.TraceOperation.OnboardingUserJourney,tags:{provider:t},parentContext:null==P?void 0:P.current});const n=await e((0,d.startOAuthLogin)(t,R,D));return null==D||D({name:b.TraceName.OnboardingSocialLoginAttempt}),n}return!0},[e,v,P,R,D]),W=(0,a.useCallback)((e,t)=>{const n=e instanceof Error?e.message:"Unknown error";n!==y.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR?(null==R||R({name:b.TraceName.OnboardingSocialLoginError,op:b.TraceOperation.OnboardingError,tags:{provider:t,errorMessage:n},parentContext:P.current}),null==D||D({name:b.TraceName.OnboardingSocialLoginError}),null==D||D({name:b.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}}),n!==y.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR?n!==y.OAuthErrorMessages.NO_REDIRECT_URL_FOUND_ERROR&&n!==y.OAuthErrorMessages.NO_AUTH_CODE_FOUND_ERROR?M(C.LOGIN_ERROR.GENERIC):M(C.LOGIN_ERROR.UNABLE_TO_CONNECT):M(C.LOGIN_ERROR.SESSION_EXPIRED)):M(null)},[P,R,D]),U=(0,a.useCallback)(async n=>{O(!0),I(!0),await e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.socialCreate)),B({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${m.MetaMetricsEventAccountType.Default}_${n}`}});try{const e=await j(n);B({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${m.MetaMetricsEventAccountType.Default}_${n}`}}),e?(null==R||R({name:b.TraceName.OnboardingNewSocialCreateWallet,op:b.TraceOperation.OnboardingUserJourney,parentContext:P.current}),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})):t(s.ONBOARDING_ACCOUNT_EXIST,{replace:!0})}catch(e){W(e,n)}finally{O(!1)}},[e,j,B,t,P,W,R]),$=(0,a.useCallback)(async n=>{O(!0),e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.socialImport)),B({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${m.MetaMetricsEventAccountType.Imported}_${n}`}});try{const e=await j(n);B({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${m.MetaMetricsEventAccountType.Imported}_${n}`}}),e?t(s.ONBOARDING_ACCOUNT_NOT_FOUND):(null==R||R({name:b.TraceName.OnboardingExistingSocialLogin,op:b.TraceOperation.OnboardingUserJourney,parentContext:P.current}),t(s.ONBOARDING_UNLOCK_ROUTE))}catch(e){W(e,n)}finally{O(!1)}},[e,j,B,t,P,W,R]),z=(0,a.useCallback)(e=>{r.default.error("handleLoginError::error",e);e.message===y.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR?M(null):M(C.LOGIN_ERROR.GENERIC)},[]),V=(0,a.useCallback)(async(t,n)=>{try{if(A||e((0,d.setParticipateInMetaMetrics)(null)),t===C.LOGIN_TYPE.SRP)return void(n===C.LOGIN_OPTION.NEW?await F():n===C.LOGIN_OPTION.EXISTING&&await L());if(!v)return;n===C.LOGIN_OPTION.NEW?await U(t):n===C.LOGIN_OPTION.EXISTING&&await $(t),A||e((0,d.setParticipateInMetaMetrics)(!0))}catch(e){z(e)}},[v,e,F,L,U,A,$,z]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(E.default,{onLogin:V}),S&&a.default.createElement(p.default,null),null!==N&&a.default.createElement(k.default,{onClose:()=>M(null),loginError:N}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=v(e("loglevel")),s=e("../../../helpers/constants/routes"),c=e("../../../selectors"),l=e("../../../../shared/constants/onboarding"),u=e("../../../contexts/metametrics"),d=e("../../../store/actions"),p=v(e("../../../components/ui/loading-screen")),m=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/modules/environment"),g=e("../../../../shared/modules/browser-runtime.utils"),h=e("../../../../shared/constants/app"),y=e("../../../../shared/modules/error"),b=e("../../../../shared/lib/trace"),E=v(e("./welcome-login")),C=e("./types"),k=v(e("./login-error-modal"));function v(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.js"}],[7174,{"../../../components/app/permissions-connect-footer":5641,"../../../components/component-library":5919,"../../../components/ui/account-list":6281,"../../../components/ui/page-container":6367,"../../../helpers/constants/design-system":6458,"../../../hooks/useI18nContext":6583,"@metamask/keyring-api":1914,"@metamask/permission-controller":2090,"prop-types":4605,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@metamask/permission-controller"),r=e("@metamask/keyring-api"),s=e("../../../hooks/useI18nContext"),c=f(e("../../../components/app/permissions-connect-footer")),l=f(e("../../../components/ui/account-list")),u=e("../../../components/ui/page-container"),d=e("../../../helpers/constants/design-system"),p=e("../../../components/component-library");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}const g=({selectedAccountAddresses:e,addressLastConnectedMap:t={},accounts:n,selectAccounts:a,selectNewAccountViaModal:m,cancelPermissionsRequest:f,permissionsRequestId:g,targetSubjectMetadata:h,nativeCurrency:y})=>{const[b,E]=(0,o.useState)(e),C=n.filter(e=>(0,r.isEvmAccountType)(e.type)),k=(0,s.useI18nContext)(),v=Object.keys(e).length>C.length,T=0===n.length?k("connectAccountOrCreate"):(null==h?void 0:h.subjectType)===i.SubjectType.Snap?k("selectAccountsForSnap"):k("selectAccounts");return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.Box,{className:"permissions-connect-choose-account__content",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative,width:d.BlockSize.Full,height:d.BlockSize.Full,paddingLeft:6,paddingRight:6},o.default.createElement(p.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,paddingTop:4,paddingBottom:4},o.default.createElement(p.Text,{variant:d.TextVariant.headingMd},k("connectWithMetaMask")),o.default.createElement(p.Text,{variant:d.TextVariant.bodyMd},T)),o.default.createElement(l.default,{accounts:n,selectNewAccountViaModal:m,addressLastConnectedMap:t,nativeCurrency:y,selectedAccounts:b,allAreSelected:()=>C.length===b.size,deselectAll:()=>{E(new Set)},selectAll:()=>{const e=new Set(C.map(e=>e.address));E(e)},handleAccountClick:e=>{const t=new Set(b);t.has(e)?t.delete(e):t.add(e),E(t)}})),o.default.createElement(p.Box,{backgroundColor:d.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},(null==h?void 0:h.subjectType)!==i.SubjectType.Snap&&o.default.createElement(c.default,null),o.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>f(g),cancelText:k("cancel"),onSubmit:()=>a(b),submitText:k("next"),disabled:v||0===b.size})))};g.propTypes={accounts:a.default.arrayOf(a.default.shape({address:a.default.string,addressLabel:a.default.string,lastConnectedDate:a.default.string,balance:a.default.string})).isRequired,selectAccounts:a.default.func.isRequired,selectNewAccountViaModal:a.default.func.isRequired,nativeCurrency:a.default.string.isRequired,addressLastConnectedMap:a.default.object,cancelPermissionsRequest:a.default.func.isRequired,permissionsRequestId:a.default.string.isRequired,selectedAccountAddresses:a.default.object.isRequired,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string})};n.default=g}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[7175,{"./choose-account":7174},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[7176,{"../../../../shared/constants/metametrics":5259,"../../../../shared/constants/network":5262,"../../../../shared/lib/caip25-caveat-merger":5290,"../../../../shared/modules/selectors/networks":5371,"../../../components/component-library":5919,"../../../components/multichain":6142,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":6116,"../../../components/multichain/pages/page":6237,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":6244,"../../../components/ui/tabs":6390,"../../../contexts/metametrics":6421,"../../../helpers/constants/design-system":6458,"../../../helpers/utils/util":6514,"../../../hooks/useI18nContext":6583,"../../../hooks/useOriginTrustSignals":6600,"../../../hooks/useTrustSignals":6620,"../../../selectors":7345,"../../../selectors/multichain":7354,"./utils":7177,"@metamask/chain-agnostic-permission":1204,"@metamask/utils":2632,lodash:4362,react:4789,"react-redux":4733,"react-tippy":4771},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("@metamask/chain-agnostic-permission"),r=e("@metamask/utils"),s=e("lodash"),c=e("react-tippy"),l=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../../shared/modules/selectors/networks"),p=e("../../../components/component-library"),m=e("../../../components/multichain/pages/page"),f=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),g=e("../../../helpers/constants/design-system"),h=e("../../../../shared/constants/network"),y=e("../../../selectors/multichain"),b=e("../../../components/ui/tabs"),E=e("../../../components/multichain"),C=e("../../../helpers/utils/util"),k=e("../../../../shared/constants/metametrics"),v=e("../../../contexts/metametrics"),T=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),_=e("../../../../shared/lib/caip25-caveat-merger"),x=e("../../../hooks/useOriginTrustSignals"),w=e("../../../hooks/useTrustSignals"),I=e("./utils");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:S,targetSubjectMetadata:O})=>{const N=(0,l.useI18nContext)(),M=(0,a.useContext)(v.MetaMetricsContext),A=(0,o.useSelector)(t=>{var n;return(0,u.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),B=(0,a.useMemo)(()=>A?(0,I.getCaip25CaveatValueFromPermissions)(A):null,[A]),R=(0,I.getCaip25CaveatValueFromPermissions)(e.permissions),D=B?(0,_.mergeCaip25CaveatValues)(R,B):R,P=(0,i.getCaipAccountIdsFromCaip25CaveatValue)(D),F=(0,i.getAllScopesFromCaip25CaveatValue)(D),{promptToCreateSolanaAccount:L,isEip1193Request:j}=e.metadata??{},W=(0,o.useSelector)(d.getAllNetworkConfigurationsByCaipChainId),[U,$]=(0,a.useMemo)(()=>Object.entries(W).reduce(([e,t],[n,a])=>{const o=n;return(h.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[W]),z=(0,a.useMemo)(()=>[...U,...$].map(({caipChainId:e})=>e),[U,$]),[V,G]=(0,a.useState)(!1),[q,K]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),Y=(0,o.useSelector)(y.getMultichainNetwork).chainId,X=$.find(e=>e.caipChainId===Y);let Q=X?[...U,X].map(({caipChainId:e})=>e):U.map(({caipChainId:e})=>e),Z=F.filter(e=>z.includes(e));if(j){Q=Q.filter(e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155});!Z.some(e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155})&&B&&(Z=Array.from(new Set([...Q,...Z])))}const ee=Z.length>0?Z:Q,[te,ne]=(0,a.useState)(ee),ae=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&G(!0),ne(e)},[G,ne]),oe=(0,o.useSelector)(u.getUpdatedAndSortedAccountsWithCaipAccountId),ie=(0,i.getAllNamespacesFromCaip25CaveatValue)(D).filter(e=>e!==r.KnownCaipNamespace.Wallet),re=oe.filter(e=>{const{chain:{namespace:t}}=(0,r.parseCaipAccountId)(e.caipAccountId);return ie.includes(t)}),se=re.filter(e=>(0,i.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,P)),ce=(0,I.getDefaultAccounts)(ie,se,re).map(({caipAccountId:e})=>e),[le,ue]=(0,a.useState)(ce),de=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&G(!0);let n=[...te];e.forEach(e=>{const{chain:{namespace:t}}=(0,r.parseCaipAccountId)(e);if(!n.some(e=>{try{const{namespace:n}=(0,r.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=z.filter(e=>{try{const{namespace:n}=(0,r.parseCaipChainId)(e);return t===n}catch(e){return!1}});n=Array.from(new Set([...n,...e]))}}),ae(n,{isUserModified:t}),ue(e)},[G,ue,te,ae,z]);(0,a.useEffect)(()=>{V||(0,s.isEqual)(ce,le)||de(ce,{isUserModified:!1})},[V,de,le,JSON.stringify(ce)]);const pe=oe.filter(({caipAccountId:e})=>le.some(t=>t===e)),me=(0,a.useMemo)(()=>oe.some(({caipAccountId:e})=>{const{chain:t}=(0,r.parseCaipAccountId)(e);return t.namespace===r.KnownCaipNamespace.Solana}),[oe]),fe=(0,a.useCallback)(()=>{K(!0),M({category:k.MetaMetricsEventCategory.Navigation,event:k.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})},[M]),ge=(0,a.useCallback)(()=>{J(!0)},[]),he=(0,a.useCallback)(()=>{J(!1)},[]),ye=(0,a.useCallback)(()=>{K(!1)},[]),be=(0,a.useCallback)(()=>{n(t)},[t,n]),Ee=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,i.generateCaip25Caveat)(D,le,te)}};S(t)},[e,D,le,te,S]),Ce=(0,C.transformOriginToTitle)(O.origin),ke=(0,x.useOriginTrustSignals)(O.origin);return a.default.createElement(m.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:g.BackgroundColor.backgroundDefault},a.default.createElement(m.Header,{paddingTop:8,paddingBottom:0},a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center,marginBottom:8},O.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Xl,src:O.iconUrl,name:Ce})),a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Lg,src:O.iconUrl,name:Ce,style:{zIndex:1,background:"transparent"}})):a.default.createElement(p.AvatarBase,{size:p.AvatarBaseSize.Lg,display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,color:g.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:g.BackgroundColor.backgroundMuted},(0,C.isIpAddress)(Ce)?"?":(0,C.getAvatarFallbackLetter)(Ce))),a.default.createElement(p.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,gap:2,marginBottom:1},a.default.createElement(p.Text,{variant:g.TextVariant.headingLg,style:{wordBreak:"break-word",whiteSpace:"normal"}},Ce),ke.state===w.TrustSignalDisplayState.Verified&&a.default.createElement(c.Tooltip,{title:N("alertReasonOriginTrustSignalVerified"),position:"bottom",style:{display:"flex"}},a.default.createElement(p.Icon,{name:p.IconName.VerifiedFilled,color:g.IconColor.infoDefault,size:p.IconSize.Sm}))),a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.Text,{color:g.TextColor.textAlternative},N("connectionDescription")))),a.default.createElement(m.Content,{paddingLeft:4,paddingRight:4,backgroundColor:g.BackgroundColor.transparent},a.default.createElement(b.Tabs,{onTabClick:()=>null,backgroundColor:g.BackgroundColor.transparent,justifyContent:g.JustifyContent.center,defaultActiveTabKey:"accounts",tabListProps:{backgroundColor:g.BackgroundColor.transparent}},a.default.createElement(b.Tab,{name:N("accounts"),tabKey:"accounts",width:g.BlockSize.Full,"data-testid":"accounts-tab"},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(p.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,borderRadius:g.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},pe.map(e=>a.default.createElement(E.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1})),0===pe.length&&!L&&a.default.createElement(p.Box,{className:"connect-page__accounts-empty",display:g.Display.Flex,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,borderRadius:g.BorderRadius.XL},a.default.createElement(p.ButtonLink,{onClick:fe,"data-testid":"edit"},N("selectAccountToConnect")))),pe.length>0&&a.default.createElement(p.Box,{marginTop:4,display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.ButtonLink,{onClick:fe,"data-testid":"edit"},N("editAccounts"))),L&&!me&&a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,marginTop:4,gap:2},a.default.createElement(p.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative,textAlign:g.TextAlign.Center},0===pe.length?N("solanaAccountRequired"):N("solanaAccountRequested")),a.default.createElement(p.Button,{variant:p.ButtonVariant.Secondary,width:g.BlockSize.Full,size:p.ButtonSize.Lg,onClick:ge,"data-testid":"create-solana-account"},N("createSolanaAccount"))),H&&a.default.createElement(T.CreateSolanaAccountModal,{onClose:he}),q&&a.default.createElement(E.EditAccountsModal,{accounts:oe,defaultSelectedAccountAddresses:le,onClose:ye,onSubmit:de}))),a.default.createElement(b.Tab,{name:N("permissions"),tabKey:"permissions",width:g.BlockSize.Full,"data-testid":"permissions-tab",disabled:L&&!me&&0===pe.length},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(f.SiteCell,{nonTestNetworks:U,testNetworks:$,accounts:oe,onSelectAccountAddresses:de,onSelectChainIds:ae,selectedAccountAddresses:le,selectedChainIds:te,isConnectFlow:!0}))))),a.default.createElement(m.Footer,null,a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Box,{display:g.Display.Flex,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Button,{block:!0,variant:p.ButtonVariant.Secondary,size:p.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:be},N("cancel")),a.default.createElement(p.Button,{block:!0,"data-testid":"confirm-btn",size:p.ButtonSize.Lg,onClick:Ee,disabled:0===le.length||0===te.length},N("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[7177,{"../../../helpers/utils/util":6514,"@metamask/chain-agnostic-permission":1204,"@metamask/utils":2632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),i=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:i}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],r=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),r.add(n))});const s=e.filter(e=>!r.has(e));if(s.length>0){const e=(0,i.sortSelectedInternalAccounts)(n);for(const t of s){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),i=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[7178,{"./permissions-connect.container":7180},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[7179,{"../../../app/scripts/lib/multichain/address":166,"../../../shared/constants/time":5277,"../../components/app/permission-page-container":5635,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":5672,"../../components/component-library":5919,"../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-accounts-page":6022,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6028,"../../helpers/constants/routes":6463,"../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page":7107,"./choose-account":7175,"./connect-page/connect-page":7176,"./connect-page/utils":7177,"./redirect":7181,"./snaps/snap-install":7183,"./snaps/snap-result":7185,"./snaps/snap-update":7187,"./snaps/snaps-connect":7189,"@metamask/chain-agnostic-permission":1204,"@metamask/permission-controller":2090,"@metamask/rpc-errors":2224,"@metamask/snaps-utils":2516,"prop-types":4605,react:4789,"react-router-dom":4757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=S(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom"),r=e("@metamask/rpc-errors"),s=e("@metamask/permission-controller"),c=e("@metamask/snaps-utils"),l=e("@metamask/chain-agnostic-permission"),u=e("../../../app/scripts/lib/multichain/address"),d=e("../../../shared/constants/time"),p=e("../../helpers/constants/routes"),m=S(e("../../components/app/permission-page-container")),f=e("../../components/component-library"),g=S(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),h=e("../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-accounts-page"),y=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),b=e("../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page"),E=S(e("./choose-account")),C=S(e("./redirect")),k=S(e("./snaps/snaps-connect")),v=S(e("./snaps/snap-install")),T=S(e("./snaps/snap-update")),_=S(e("./snaps/snap-result")),x=e("./connect-page/connect-page"),w=e("./connect-page/utils");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=1200*d.MILLISECOND;function M(e,t){const n=(0,w.getCaip25CaveatValueFromPermissions)(t),a=(0,l.getEthAccounts)(n);return a.length>0?new Set(a.map(e=>e.toLowerCase()).filter(u.isEthAddress)):new Set((0,u.isEthAddress)(e)?[e]:[])}function A(e){const t=(0,w.getCaip25CaveatValueFromPermissions)(e);return(0,l.getPermittedEthChainIds)(t)}class B extends o.Component{constructor(...e){var t;super(...e),O(this,"state",{redirecting:!1,selectedAccountAddresses:M(this.props.currentAddress,null===(t=this.props.permissionsRequest)||void 0===t?void 0:t.permissions),permissionsApproved:null,origin:this.props.origin,targetSubjectMetadata:this.props.targetSubjectMetadata||{},snapsInstallPrivacyWarningShown:this.props.snapsInstallPrivacyWarningShown}),O(this,"selectAccounts",e=>{const{confirmPermissionPath:t,requestType:n,snapsConnectPath:a,snapInstallPath:o,snapUpdatePath:i,snapResultPath:r}=this.props;this.setState({selectedAccountAddresses:e},()=>{switch(n){case"wallet_installSnap":this.props.history.push(o);break;case"wallet_updateSnap":this.props.history.push(i);break;case"wallet_installSnapResult":this.props.history.push(r);break;case"wallet_connectSnaps":this.props.history.replace(a);break;default:this.props.history.push(t)}})}),O(this,"cancelPermissionsRequest",async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))}),O(this,"renderSnapChooseAccountState1",()=>{const{accounts:e,nativeCurrency:t,showNewAccountModal:n,newAccountNumber:a,addressLastConnectedMap:i,permissionsRequestId:r,targetSubjectMetadata:s}=this.props,{selectedAccountAddresses:c}=this.state;return o.default.createElement(E.default,{accounts:e,nativeCurrency:t,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:a})},addressLastConnectedMap:i,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:r,selectedAccountAddresses:c,targetSubjectMetadata:s})}),O(this,"renderSnapChooseAccountState2",()=>{const{permissionsRequestId:e}=this.props;return o.default.createElement(h.MultichainEditAccountsPage,{displayChooseAccountPage:!0,defaultSelectedAccountGroups:[],supportedAccountGroups:[],onSubmit:()=>{},onClose:()=>this.cancelPermissionsRequest(e)})}),O(this,"renderConnectPageState1",()=>{const e={rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:this.props.permissionsRequest||{},permissionsRequestId:this.props.permissionsRequestId,approveConnection:this.approveConnection,targetSubjectMetadata:this.props.targetSubjectMetadata};return o.default.createElement(x.ConnectPage,e)}),O(this,"renderConnectPageState2",()=>{const e={rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:this.props.permissionsRequest||{},permissionsRequestId:this.props.permissionsRequestId,approveConnection:this.approveConnection,targetSubjectMetadata:this.props.targetSubjectMetadata};return o.default.createElement(b.MultichainAccountsConnectPage,e)}),O(this,"approveConnection",(...e)=>{const{approvePermissionsRequest:t}=this.props;t(...e),this.redirect(!0)})}componentDidMount(){const{connectPath:e,confirmPermissionPath:t,snapsConnectPath:n,snapInstallPath:a,snapUpdatePath:o,snapResultPath:i,requestType:r,getRequestAccountTabIds:s,permissionsRequest:c,history:l,isRequestingAccounts:u}=this.props;if(s(),c){if(l.location.pathname===e&&!u)switch(r){case"wallet_installSnap":l.replace(a);break;case"wallet_updateSnap":l.replace(o);break;case"wallet_installSnapResult":l.replace(i);break;case"wallet_connectSnaps":l.replace(n);break;default:l.replace(t)}}else l.replace(p.DEFAULT_ROUTE)}componentDidUpdate(e){var t;const{permissionsRequest:n,lastConnectedInfo:a,targetSubjectMetadata:o}=this.props,{redirecting:i,origin:r}=this.state;if(null!=o&&o.origin&&(null===(t=e.targetSubjectMetadata)||void 0===t?void 0:t.origin)!==(null==o?void 0:o.origin)&&this.setState({targetSubjectMetadata:o}),!n&&e.permissionsRequest&&!i){var s,c;const t=((null===(s=a[r])||void 0===s?void 0:s.lastApproved)||0)>((null===(c=e.lastConnectedInfo[r])||void 0===c?void 0:c.lastApproved)||0);this.redirect(t)}}redirect(e){const{history:t,permissionsRequest:n}=this.props;let a=!0;a=!((null==n?void 0:n.permissions)&&Object.keys(n.permissions).includes("wallet_snap")),this.setState({redirecting:a,permissionsApproved:e}),a&&e?setTimeout(()=>t.push(p.DEFAULT_ROUTE),N):t.push(p.DEFAULT_ROUTE)}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}renderTopBar(e){const{targetSubjectMetadata:t}=this.state;return o.default.createElement(f.Box,{style:{boxShadow:t.subjectType===s.SubjectType.Snap&&"var(--shadow-size-lg) var(--color-shadow-default)"}},t.subjectType===s.SubjectType.Snap&&o.default.createElement(g.default,{snapId:t.origin,boxShadow:"none",onCancel:()=>{this.cancelPermissionsRequest(e)}}))}render(){var e;const{accounts:t,permissionsRequest:n,permissionsRequestId:a,connectPath:s,confirmPermissionPath:l,hideTopBar:u,targetSubjectMetadata:d,snapsConnectPath:p,snapInstallPath:f,snapUpdatePath:g,snapResultPath:h,requestState:b,approvePendingApproval:E,rejectPendingApproval:x,setSnapsInstallPrivacyWarningShownStatus:w,approvePermissionsRequest:I,history:S}=this.props,{selectedAccountAddresses:O,permissionsApproved:N,redirecting:M,snapsInstallPrivacyWarningShown:B}=this.state,R=(0,c.isSnapId)(null==n||null===(e=n.metadata)||void 0===e?void 0:e.origin);return o.default.createElement("div",{className:"permissions-connect"},!u&&this.renderTopBar(a),M&&N?o.default.createElement(C.default,{subjectMetadata:d}):o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{path:s,exact:!0,render:()=>R?o.default.createElement(y.State2Wrapper,{state1Component:this.renderSnapChooseAccountState1,state2Component:this.renderSnapChooseAccountState2}):o.default.createElement(y.State2Wrapper,{state1Component:this.renderConnectPageState1,state2Component:this.renderConnectPageState2})}),o.default.createElement(i.Route,{path:l,exact:!0,render:()=>o.default.createElement(m.default,{request:n||{},approvePermissionsRequest:(...e)=>{I(...e),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedAccounts:t.filter(e=>O.has(e.address)),requestedChainIds:A(null==n?void 0:n.permissions),targetSubjectMetadata:d,history:S,connectPath:s,snapsInstallPrivacyWarningShown:B,setSnapsInstallPrivacyWarningShownStatus:w})}),o.default.createElement(i.Route,{path:p,exact:!0,render:()=>o.default.createElement(k.default,{request:n||{},approveConnection:this.approveConnection,rejectConnection:e=>this.cancelPermissionsRequest(e),targetSubjectMetadata:d,snapsInstallPrivacyWarningShown:B,setSnapsInstallPrivacyWarningShownStatus:w})}),o.default.createElement(i.Route,{path:f,exact:!0,render:()=>o.default.createElement(v.default,{request:n||{},requestState:b||{},approveSnapInstall:e=>{E(e,{...n,permissions:b.permissions,approvedAccounts:[...O]}),this.setState({permissionsApproved:!0})},rejectSnapInstall:e=>{x(e,(0,r.serializeError)(r.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!0})},targetSubjectMetadata:d})}),o.default.createElement(i.Route,{path:g,exact:!0,render:()=>o.default.createElement(T.default,{request:n||{},requestState:b||{},approveSnapUpdate:e=>{E(e,{...n,permissions:b.permissions,approvedAccounts:[...O]}),this.setState({permissionsApproved:!0})},rejectSnapUpdate:e=>{x(e,(0,r.serializeError)(r.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!1})},targetSubjectMetadata:d})}),o.default.createElement(i.Route,{path:h,exact:!0,render:()=>o.default.createElement(_.default,{request:n||{},requestState:b||{},approveSnapResult:e=>{E(e),this.setState({permissionsApproved:!0})},targetSubjectMetadata:d})})))}}n.default=B,O(B,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,getRequestAccountTabIds:a.default.func.isRequired,accounts:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,address:a.default.string.isRequired,metadata:a.default.shape({name:a.default.string.isRequired,snap:a.default.shape({id:a.default.string.isRequired,name:a.default.string,enabled:a.default.bool}),keyring:a.default.shape({type:a.default.string.isRequired}).isRequired}).isRequired,addressLabel:a.default.string.isRequired,label:a.default.string.isRequired,balance:a.default.string.isRequired})).isRequired,currentAddress:a.default.string.isRequired,origin:a.default.string,showNewAccountModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,nativeCurrency:a.default.string,permissionsRequest:a.default.object,addressLastConnectedMap:a.default.object.isRequired,lastConnectedInfo:a.default.object.isRequired,permissionsRequestId:a.default.string,history:a.default.object.isRequired,connectPath:a.default.string.isRequired,confirmPermissionPath:a.default.string.isRequired,requestType:a.default.string.isRequired,snapsConnectPath:a.default.string.isRequired,snapInstallPath:a.default.string.isRequired,snapUpdatePath:a.default.string.isRequired,snapResultPath:a.default.string.isRequired,requestState:a.default.object.isRequired,approvePendingApproval:a.default.func.isRequired,rejectPendingApproval:a.default.func.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func.isRequired,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,hideTopBar:a.default.bool,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string,subjectType:a.default.string}),isRequestingAccounts:a.default.bool.isRequired}),O(B,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:undefined,permissionsRequestId:""}),O(B,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.component.js"}],[718,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptExpressions=n.ScriptExpression=void 0;class a{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}n.ScriptExpression=a,a.fromTag=e=>Object.values(n.ScriptExpressions).find(t=>t.getTag()===e),n.ScriptExpressions={SCRIPT_HASH:new a(400,"sh"),WITNESS_SCRIPT_HASH:new a(401,"wsh"),PUBLIC_KEY:new a(402,"pk"),PUBLIC_KEY_HASH:new a(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new a(404,"wpkh"),COMBO:new a(405,"combo"),MULTISIG:new a(406,"multi"),SORTED_MULTISIG:new a(407,"sortedmulti"),ADDRESS:new a(307,"addr"),RAW_SCRIPT:new a(408,"raw")}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[7180,{"../../ducks/metamask/metamask":6445,"../../helpers/constants/routes":6463,"../../helpers/utils/util":6514,"../../selectors":7345,"../../store/actions":7369,"./permissions-connect.component":7179,"@metamask/chain-agnostic-permission":1204,"@metamask/keyring-api":1914,"@metamask/permission-controller":2090,"@metamask/snaps-rpc-methods":2346,"prop-types":4605,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/permission-controller"),o=e("@metamask/snaps-rpc-methods"),i=e("react-redux"),r=g(e("prop-types")),s=e("@metamask/keyring-api"),c=e("@metamask/chain-agnostic-permission"),l=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=e("../../helpers/utils/util"),p=e("../../store/actions"),m=e("../../helpers/constants/routes"),f=g(e("./permissions-connect.component"));function g(e){return e&&e.__esModule?e:{default:e}}const h=(0,i.connect)((e,t)=>{var n,i,r;const{match:{params:{id:p}},location:{pathname:f}}=t;let g=(0,l.getPermissionsRequests)(e);g=[...g,...(0,l.getSnapInstallOrUpdateRequests)(e)];const{address:h}=(0,l.getSelectedInternalAccount)(e),y=g.find(e=>e.metadata.id===p),{metadata:b={},diff:E={}}=y||{},{origin:C}=b,k=(0,u.getNativeCurrency)(e),v=Boolean(null==E?void 0:E.permissionDiffMap),T=Boolean((null==y||null===(n=y.permissions)||void 0===n?void 0:n[c.Caip25EndowmentPermissionName])&&!v),_=(0,l.getTargetSubjectMetadata)(e,C)??{name:(0,d.getURLHostName)(C)||C,origin:C,iconUrl:null,extensionId:null,subjectType:a.SubjectType.Unknown};let x=(0,l.getRequestType)(e,p);y&&1===Object.keys(y.permissions||{}).length&&null!==(i=y.permissions)&&void 0!==i&&i[o.WALLET_SNAP_PERMISSION_KEY]&&(x="wallet_connectSnaps");const w=(0,l.getRequestState)(e,p)||{},I=(0,l.getAccountsWithLabels)(e).filter(e=>(0,s.isEvmAccountType)(e.type)),S=(0,l.getLastConnectedInfo)(e)||{},O=(null===(r=S[C])||void 0===r?void 0:r.accounts)||{};Object.keys(O).forEach(e=>{O[e]=(0,d.formatDate)(O[e],"yyyy-MM-dd")});const N=`${m.CONNECT_ROUTE}/${p}`,M=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,A=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAPS_CONNECT_ROUTE}`,B=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_INSTALL_ROUTE}`,R=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_UPDATE_ROUTE}`,D=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_RESULT_ROUTE}`,P=f===B||f===R||f===D;let F=1+T;F+=P,F=F.toString();let L="";if(f===N)L="1";else if(f===M)L=T?"2":"1";else if(P)L=T?"3":"2";else{if(f!==A)throw new Error("Incorrect path for permissions-connect component");L=1}return{isRequestingAccounts:T,requestType:x,snapsConnectPath:A,snapInstallPath:B,snapUpdatePath:R,snapResultPath:D,requestState:w,hideTopBar:P,snapsInstallPrivacyWarningShown:(0,l.getSnapsInstallPrivacyWarningShown)(e),permissionsRequest:y,permissionsRequestId:p,accounts:I,currentAddress:h,origin:C,newAccountNumber:I.length+1,nativeCurrency:k,addressLastConnectedMap:O,lastConnectedInfo:S,connectPath:N,confirmPermissionPath:M,totalPages:F,page:L,targetSubjectMetadata:_}},e=>({approvePermissionsRequest:t=>e((0,p.approvePermissionsRequest)(t)),rejectPermissionsRequest:t=>e((0,p.rejectPermissionsRequest)(t)),approvePendingApproval:(t,n)=>e((0,p.resolvePendingApproval)(t,n)),rejectPendingApproval:(t,n)=>e((0,p.rejectPendingApproval)(t,n)),setSnapsInstallPrivacyWarningShownStatus:t=>{e((0,p.setSnapsInstallPrivacyWarningShownStatus)(t))},showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,p.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,p.getRequestAccountTabIds)())}))(f.default);h.propTypes={history:r.default.object.isRequired,match:r.default.shape({params:r.default.shape({id:r.default.string}).isRequired}).isRequired};n.default=h}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.container.js"}],[7181,{"./permissions-redirect.component":7182},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[7182,{"../../../components/app/permissions-connect-footer":5641,"../../../components/component-library":5919,"../../../contexts/i18n":6416,"../../../helpers/constants/design-system":6458,"prop-types":4605,react:4789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("prop-types")),i=e("../../../helpers/constants/design-system"),r=e("../../../contexts/i18n"),s=e("../../../components/component-library"),c=l(e("../../../components/app/permissions-connect-footer"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({subjectMetadata:e}){const t=(0,a.useContext)(r.I18nContext),[n,o]=(0,a.useState)(e);return(0,a.useEffect)(()=>{e&&e.origin&&o(e)},[e]),a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.spaceBetween},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,height:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.XS,border:`1px solid ${i.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},a.default.createElement(s.Box,{display:i.Display.Flex,marginBottom:4},a.default.createElement(s.Text,{variant:i.TextVariant.headingMd},t("connecting"))),a.default.createElement(s.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.infoMuted,borderRadius:i.BorderRadius.pill,padding:2},a.default.createElement(s.AvatarToken,{src:n.iconUrl,name:n.name,size:s.AvatarTokenSize.Lg}),a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,paddingLeft:4,paddingRight:4},a.default.createElement(s.Icon,{name:s.IconName.Confirmation,size:s.IconSize.Xl,color:i.IconColor.infoDefault})),a.default.createElement(s.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:s.AvatarTokenSize.Lg,name:"metamask-fox"}))),a.default.createElement(s.Box,{backgroundColor:i.BackgroundColor.backgroundDefault,padding:4},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement(c.default,null),a.default.createElement(s.Box,{display:i.Display.Flex,paddingTop:4,width:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:i.BlockSize.Full,marginRight:2,disabled:!0},t("back")),a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:i.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0},a.default.createElement(s.Icon,{name:s.IconName.Loading,size:s.IconSize.Lg,color:i.IconColor.infoDefault}))))))}d.propTypes={subjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,subjectType:o.default.string,name:o.default.string.isRequired,origin:o.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[7183,{"./snap-install":7184},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[7184,{"../../../../components/app/permission-connect-header":5633,"../../../../components/app/snaps/install-error/install-error":5663,"../../../../components/app/snaps/snap-authorship-header":5671,"../../../../components/app/snaps/snap-install-warning":5684,"../../../../components/app/snaps/snap-permissions-list":5696,"../../../../components/component-library":5919,"../../../../components/ui/page-container":6367,"../../../../components/ui/pulse-loader/pulse-loader":6376,"../../../../helpers/constants/design-system":6458,"../../../../helpers/utils/util":6514,"../../../../hooks/useI18nContext":6583,"../../../../hooks/useOriginMetadata":6599,"../../../../hooks/useScrollRequired":6603,"../../../../selectors":7345,"../util":7191,"@metamask/snaps-utils":2516,"prop-types":4605,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=T(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("@metamask/snaps-utils"),s=e("../../../../components/ui/page-container"),c=e("../../../../hooks/useI18nContext"),l=T(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=e("../util"),p=T(e("../../../../components/ui/pulse-loader/pulse-loader")),m=T(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../components/component-library"),g=T(e("../../../../components/app/snaps/snap-permissions-list")),h=e("../../../../hooks/useScrollRequired"),y=T(e("../../../../components/app/snaps/install-error/install-error")),b=e("../../../../hooks/useOriginMetadata"),E=e("../../../../selectors"),C=e("../../../../helpers/utils/util"),k=T(e("../../../../components/app/permission-connect-header"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function _({request:e,requestState:t,approveSnapInstall:n,rejectSnapInstall:a,targetSubjectMetadata:v}){var T,_,x;const w=(0,c.useI18nContext)(),I=(0,b.useOriginMetadata)(null==e||null===(T=e.metadata)||void 0===T?void 0:T.dappOrigin)||{},{origin:S,iconUrl:O}=I,[N,M]=(0,o.useState)(!1),A=(0,i.useSelector)(E.getSnapsMetadata),[B,R]=(0,o.useState)(!1),{isScrollable:D,hasScrolledToBottom:P,scrollToBottom:F,ref:L,onScroll:j}=(0,h.useScrollRequired)([t]),W=(0,o.useCallback)(()=>a(e.metadata.id),[e,a]),U=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),{name:$}=(0,i.useSelector)(e=>(0,E.getSnapMetadata)(e,v.origin)),z=!t.loading&&t.error,V=t.loading,G=(0,r.isSnapId)(null==e||null===(_=e.metadata)||void 0===_?void 0:_.dappOrigin),q=(0,d.getSnapInstallWarnings)((null==t?void 0:t.permissions)??{},w,$,(0,C.getSnapName)(A)),K=q.length>0;return o.default.createElement(f.Box,{className:"snap-install",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},!V&&!z||G?o.default.createElement(m.default,{snapId:V&&G?null==e||null===(x=e.metadata)||void 0===x?void 0:x.dappOrigin:v.origin,onCancel:W}):o.default.createElement(k.default,{origin:S,iconUrl:O}),o.default.createElement(f.Box,{ref:V||z?undefined:L,onScroll:j,className:"snap-install__content",style:{overflowY:"auto",flex:!V&&!z&&"1"},paddingLeft:4,paddingRight:4},V&&o.default.createElement(f.Box,{display:u.Display.Flex,className:"snap-install__content__loader-container",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},o.default.createElement(p.default,null)),z&&o.default.createElement(y.default,{iconName:f.IconName.Warning,title:w("connectionFailed"),description:w("connectionFailedDescription",[o.default.createElement(f.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},$)]),error:t.error}),!z&&!V&&o.default.createElement(o.default.Fragment,null,o.default.createElement(f.Text,{variant:u.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},w("installRequest")),o.default.createElement(f.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},w("snapInstallRequest",[o.default.createElement(f.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},$)])),o.default.createElement(f.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},o.default.createElement(g.default,{snapId:v.origin,snapName:$,permissions:t.permissions||{},connections:t.connections||{},onShowAllPermissions:()=>{R(!0)}})),o.default.createElement(f.Box,{className:"snap-install__scroll-button-area"},!D||P||B?null:o.default.createElement(f.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:f.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:F,style:{cursor:"pointer"}})))),o.default.createElement(f.Box,{className:"snap-install__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},o.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:z,disabled:V||!z&&D&&!P,onCancel:W,cancelText:w("cancel"),onSubmit:()=>{!z&&K?M(!0):z?W():U()},submitText:w(z?"ok":V?"connect":"confirm")})),N&&o.default.createElement(l.default,{onCancel:()=>M(!1),onSubmit:U,warnings:q,snapName:$}))}_.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapInstall:a.default.func.isRequired,rejectSnapInstall:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[7185,{"./snap-result":7186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[7186,{"../../../../components/app/snaps/install-error/install-error":5663,"../../../../components/app/snaps/snap-authorship-header":5671,"../../../../components/component-library":5919,"../../../../components/ui/box/box":6287,"../../../../components/ui/page-container":6367,"../../../../components/ui/pulse-loader/pulse-loader":6376,"../../../../helpers/constants/design-system":6458,"../../../../hooks/useI18nContext":6583,"../../../../selectors":7345,"prop-types":4605,react:4789,"react-redux":4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),c=h(e("../../../../components/ui/box/box")),l=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=h(e("../../../../components/ui/pulse-loader/pulse-loader")),p=h(e("../../../../components/app/snaps/install-error/install-error")),m=h(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../selectors");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y({request:e,requestState:t,approveSnapResult:n,targetSubjectMetadata:a}){const g=(0,s.useI18nContext)(),h=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),y=!t.loading&&t.error,b=t.loading,{name:E}=(0,i.useSelector)(e=>(0,f.getSnapMetadata)(e,a.origin));return o.default.createElement(c.default,{className:"page-container snap-result",justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,borderStyle:l.BorderStyle.none,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(m.default,{snapId:a.origin,onCancel:h}),o.default.createElement(c.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative,height:l.BlockSize.Full,justifyContent:l.JustifyContent.center},b&&o.default.createElement(c.default,{className:"snap-result__content__loader-container",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,height:l.BlockSize.Full},o.default.createElement(d.default,null)),!b&&!y&&function(e,t){let n;switch(e){case"wallet_installSnap":n=g("snapInstallSuccess");break;case"wallet_updateSnap":n=g("snapUpdateSuccess");break;default:n=g("snapResultSuccess")}return o.default.createElement(c.default,{flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,height:l.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(u.AvatarIcon,{className:"snap-result__header__icon",iconName:u.IconName.Confirmation,size:u.AvatarIconSize.Xl,color:l.IconColor.successDefault,backgroundColor:l.BackgroundColor.successMuted}),o.default.createElement(u.Text,{fontWeight:l.FontWeight.Bold,textAlign:l.TextAlign.Center,variant:l.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),o.default.createElement(u.Text,{textAlign:l.TextAlign.Center},g("snapResultSuccessDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},t)])))}(t.type,E),y&&function(e,n){let a,i;switch(e){case"wallet_installSnap":a=g("snapInstallationErrorTitle"),i=g("snapInstallationErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},n)]);break;case"wallet_updateSnap":a=g("snapUpdateErrorTitle"),i=g("snapUpdateErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},n)]);break;default:a=g("snapResultError")}return o.default.createElement(p.default,{error:t.error,title:a,description:i,iconName:u.IconName.Warning})}(t.type,E)),o.default.createElement(c.default,{className:"snap-result__footer",alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(r.PageContainerFooter,{hideCancel:!0,disabled:b,onSubmit:h,submitText:g("ok").toUpperCase()})))}y.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapResult:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[7187,{"./snap-update":7188},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}]],[],{});